/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.keys(envPathObject);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const resolveSecrets = async (paths) => {        const response = await actualSsmClient.getParameters({            Names: paths,            WithDecryption: true,        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name);                    const envName = envKey                        ? envPathObject[envKey].name                        : envPathObject[parameter.Name]?.name;                    process.env[envName] = parameter.Value;                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => envPathObject[invalidParam].sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(() => {    void internalAmplifyFunctionResolveSsmParams();}, SSM_PARAMETER_REFRESH_MS);export {};
var W9=Object.create;var Tu=Object.defineProperty;var X9=Object.getOwnPropertyDescriptor;var J9=Object.getOwnPropertyNames;var Y9=Object.getPrototypeOf,Q9=Object.prototype.hasOwnProperty;var P=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var oe=(e,t)=>()=>(e&&(t=e(e=0)),t);var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nu=(e,t)=>{for(var r in t)Tu(e,r,{get:t[r],enumerable:!0})},ZP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of J9(t))!Q9.call(e,i)&&i!==r&&Tu(e,i,{get:()=>t[i],enumerable:!(n=X9(t,i))||n.enumerable});return e};var Ve=(e,t,r)=>(r=e!=null?W9(Y9(e)):{},ZP(t||!e||!e.__esModule?Tu(r,"default",{value:e,enumerable:!0}):r,e)),ve=e=>ZP(Tu({},"__esModule",{value:!0}),e);import{createRequire as Z9}from"node:module";import eX from"node:path";import tX from"node:url";var u=oe(()=>{global.require=Z9(import.meta.url);global.__filename=tX.fileURLToPath(import.meta.url);global.__dirname=eX.dirname(__filename)});var tx=h((s$e,ex)=>{u();var b_=class{constructor(t){this.value=t,this.next=void 0}},w_=class{constructor(){this.clear()}enqueue(t){let r=new b_(t);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){let t=this._head;if(t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}};ex.exports=w_});var nx=h((c$e,rx)=>{"use strict";u();var rX=tx(),nX=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new rX,r=0,n=()=>{r--,t.size>0&&t.dequeue()()},i=async(c,l,...m)=>{r++;let f=(async()=>c(...m))();l(f);try{await f}catch{}n()},o=(c,l,...m)=>{t.enqueue(i.bind(null,c,l,...m)),(async()=>(await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()))()},s=(c,...l)=>new Promise(m=>{o(c,m,...l)});return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),s};rx.exports=nX});var ut=h((d$e,mx)=>{u();var Bu=Object.defineProperty,iX=Object.getOwnPropertyDescriptor,oX=Object.getOwnPropertyNames,sX=Object.prototype.hasOwnProperty,Du=(e,t)=>Bu(e,"name",{value:t,configurable:!0}),aX=(e,t)=>{for(var r in t)Bu(e,r,{get:t[r],enumerable:!0})},cX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of oX(t))!sX.call(e,i)&&i!==r&&Bu(e,i,{get:()=>t[i],enumerable:!(n=iX(t,i))||n.enumerable});return e},lX=e=>cX(Bu({},"__esModule",{value:!0}),e),ix={};aX(ix,{AlgorithmId:()=>cx,EndpointURLScheme:()=>ax,FieldPosition:()=>lx,HttpApiKeyAuthLocation:()=>sx,HttpAuthLocation:()=>ox,IniSectionType:()=>dx,RequestHandlerProtocol:()=>ux,SMITHY_CONTEXT_KEY:()=>pX,getDefaultClientConfiguration:()=>mX,resolveDefaultRuntimeConfig:()=>fX});mx.exports=lX(ix);var ox=(e=>(e.HEADER="header",e.QUERY="query",e))(ox||{}),sx=(e=>(e.HEADER="header",e.QUERY="query",e))(sx||{}),ax=(e=>(e.HTTP="http",e.HTTPS="https",e))(ax||{}),cx=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(cx||{}),dX=Du(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),uX=Du(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),mX=Du(e=>({...dX(e)}),"getDefaultClientConfiguration"),fX=Du(e=>({...uX(e)}),"resolveDefaultRuntimeConfig"),lx=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(lx||{}),pX="__smithy_context",dx=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(dx||{}),ux=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(ux||{})});var Ke=h((g$e,Ex)=>{u();var Fu=Object.defineProperty,gX=Object.getOwnPropertyDescriptor,hX=Object.getOwnPropertyNames,vX=Object.prototype.hasOwnProperty,Di=(e,t)=>Fu(e,"name",{value:t,configurable:!0}),_X=(e,t)=>{for(var r in t)Fu(e,r,{get:t[r],enumerable:!0})},yX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hX(t))!vX.call(e,i)&&i!==r&&Fu(e,i,{get:()=>t[i],enumerable:!(n=gX(t,i))||n.enumerable});return e},SX=e=>yX(Fu({},"__esModule",{value:!0}),e),fx={};_X(fx,{Field:()=>bX,Fields:()=>wX,HttpRequest:()=>PX,HttpResponse:()=>xX,IHttpRequest:()=>px.HttpRequest,getHttpHandlerExtensionConfiguration:()=>EX,isValidHostname:()=>Sx,resolveHttpHandlerRuntimeConfig:()=>CX});Ex.exports=SX(fx);var EX=Di(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),CX=Di(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),px=ut(),gx=class{constructor({name:t,kind:r=px.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Di(gx,"Field");var bX=gx,hx=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Di(hx,"Fields");var wX=hx,vx=class P_{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new P_({...t,headers:{...t.headers}});return r.query&&(r.query=_x(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return P_.clone(this)}};Di(vx,"HttpRequest");var PX=vx;function _x(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Di(_x,"cloneQuery");var yx=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Di(yx,"HttpResponse");var xX=yx;function Sx(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Di(Sx,"isValidHostname")});var xx=h((v$e,Px)=>{"use strict";u();var Lu=Object.defineProperty,OX=Object.getOwnPropertyDescriptor,AX=Object.getOwnPropertyNames,RX=Object.prototype.hasOwnProperty,Cx=(e,t)=>Lu(e,"name",{value:t,configurable:!0}),kX=(e,t)=>{for(var r in t)Lu(e,r,{get:t[r],enumerable:!0})},IX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AX(t))!RX.call(e,i)&&i!==r&&Lu(e,i,{get:()=>t[i],enumerable:!(n=OX(t,i))||n.enumerable});return e},TX=e=>IX(Lu({},"__esModule",{value:!0}),e),bx={};kX(bx,{addExpectContinueMiddleware:()=>x_,addExpectContinueMiddlewareOptions:()=>wx,getAddExpectContinuePlugin:()=>BX});Px.exports=TX(bx);var NX=Ke();function x_(e){return t=>async r=>{var n,i;let{request:o}=r;return NX.HttpRequest.isInstance(o)&&o.body&&e.runtime==="node"&&((i=(n=e.requestHandler)==null?void 0:n.constructor)==null?void 0:i.name)!=="FetchHttpHandler"&&(o.headers={...o.headers,Expect:"100-continue"}),t({...r,request:o})}}Cx(x_,"addExpectContinueMiddleware");var wx={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},BX=Cx(e=>({applyToStack:t=>{t.add(x_(e),wx)}}),"getAddExpectContinuePlugin")});var Ol=h((y$e,Ix)=>{"use strict";u();var ju=Object.defineProperty,DX=Object.getOwnPropertyDescriptor,FX=Object.getOwnPropertyNames,LX=Object.prototype.hasOwnProperty,O_=(e,t)=>ju(e,"name",{value:t,configurable:!0}),jX=(e,t)=>{for(var r in t)ju(e,r,{get:t[r],enumerable:!0})},MX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FX(t))!LX.call(e,i)&&i!==r&&ju(e,i,{get:()=>t[i],enumerable:!(n=DX(t,i))||n.enumerable});return e},qX=e=>MX(ju({},"__esModule",{value:!0}),e),Ox={};jX(Ox,{getHostHeaderPlugin:()=>HX,hostHeaderMiddleware:()=>Rx,hostHeaderMiddlewareOptions:()=>kx,resolveHostHeaderConfig:()=>Ax});Ix.exports=qX(Ox);var UX=Ke();function Ax(e){return e}O_(Ax,"resolveHostHeaderConfig");var Rx=O_(e=>t=>async r=>{if(!UX.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},"hostHeaderMiddleware"),kx={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},HX=O_(e=>({applyToStack:t=>{t.add(Rx(e),kx)}}),"getHostHeaderPlugin")});var Al=h((E$e,Fx)=>{"use strict";u();var Mu=Object.defineProperty,GX=Object.getOwnPropertyDescriptor,$X=Object.getOwnPropertyNames,zX=Object.prototype.hasOwnProperty,Tx=(e,t)=>Mu(e,"name",{value:t,configurable:!0}),VX=(e,t)=>{for(var r in t)Mu(e,r,{get:t[r],enumerable:!0})},KX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $X(t))!zX.call(e,i)&&i!==r&&Mu(e,i,{get:()=>t[i],enumerable:!(n=GX(t,i))||n.enumerable});return e},WX=e=>KX(Mu({},"__esModule",{value:!0}),e),Nx={};VX(Nx,{getLoggerPlugin:()=>XX,loggerMiddleware:()=>Bx,loggerMiddlewareOptions:()=>Dx});Fx.exports=WX(Nx);var Bx=Tx(()=>(e,t)=>async r=>{var n,i;try{let o=await e(r),{clientName:s,commandName:c,logger:l,dynamoDbDocumentClientOptions:m={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:g}=m,y=f??t.inputFilterSensitiveLog,S=g??t.outputFilterSensitiveLog,{$metadata:b,...I}=o.output;return(n=l?.info)==null||n.call(l,{clientName:s,commandName:c,input:y(r.input),output:S(I),metadata:b}),o}catch(o){let{clientName:s,commandName:c,logger:l,dynamoDbDocumentClientOptions:m={}}=t,{overrideInputFilterSensitiveLog:f}=m,g=f??t.inputFilterSensitiveLog;throw(i=l?.error)==null||i.call(l,{clientName:s,commandName:c,input:g(r.input),error:o,metadata:o.$metadata}),o}},"loggerMiddleware"),Dx={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},XX=Tx(e=>({applyToStack:t=>{t.add(Bx(),Dx)}}),"getLoggerPlugin")});var Rl=h((b$e,Ux)=>{"use strict";u();var qu=Object.defineProperty,JX=Object.getOwnPropertyDescriptor,YX=Object.getOwnPropertyNames,QX=Object.prototype.hasOwnProperty,A_=(e,t)=>qu(e,"name",{value:t,configurable:!0}),ZX=(e,t)=>{for(var r in t)qu(e,r,{get:t[r],enumerable:!0})},e7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YX(t))!QX.call(e,i)&&i!==r&&qu(e,i,{get:()=>t[i],enumerable:!(n=JX(t,i))||n.enumerable});return e},t7=e=>e7(qu({},"__esModule",{value:!0}),e),jx={};ZX(jx,{addRecursionDetectionMiddlewareOptions:()=>qx,getRecursionDetectionPlugin:()=>o7,recursionDetectionMiddleware:()=>Mx});Ux.exports=t7(jx);var r7=Ke(),Lx="X-Amzn-Trace-Id",n7="AWS_LAMBDA_FUNCTION_NAME",i7="_X_AMZN_TRACE_ID",Mx=A_(e=>t=>async r=>{let{request:n}=r;if(!r7.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Lx))return t(r);let i=process.env[n7],o=process.env[i7],s=A_(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return s(i)&&s(o)&&(n.headers[Lx]=o),t({...r,request:n})},"recursionDetectionMiddleware"),qx={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},o7=A_(e=>({applyToStack:t=>{t.add(Mx(e),qx)}}),"getRecursionDetectionPlugin")});var Vx=h((P$e,zx)=>{u();var Uu=Object.defineProperty,s7=Object.getOwnPropertyDescriptor,a7=Object.getOwnPropertyNames,c7=Object.prototype.hasOwnProperty,qr=(e,t)=>Uu(e,"name",{value:t,configurable:!0}),l7=(e,t)=>{for(var r in t)Uu(e,r,{get:t[r],enumerable:!0})},d7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of a7(t))!c7.call(e,i)&&i!==r&&Uu(e,i,{get:()=>t[i],enumerable:!(n=s7(t,i))||n.enumerable});return e},u7=e=>d7(Uu({},"__esModule",{value:!0}),e),$x={};l7($x,{constructStack:()=>R_});zx.exports=u7($x);var ko=qr((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Fi=qr((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),R_=qr(()=>{let e=[],t=[],r=!1,n=new Set,i=qr(g=>g.sort((y,S)=>Hx[S.step]-Hx[y.step]||Gx[S.priority||"normal"]-Gx[y.priority||"normal"]),"sort"),o=qr(g=>{let y=!1,S=qr(b=>{let I=ko(b.name,b.aliases);if(I.includes(g)){y=!0;for(let A of I)n.delete(A);return!1}return!0},"filterCb");return e=e.filter(S),t=t.filter(S),y},"removeByName"),s=qr(g=>{let y=!1,S=qr(b=>{if(b.middleware===g){y=!0;for(let I of ko(b.name,b.aliases))n.delete(I);return!1}return!0},"filterCb");return e=e.filter(S),t=t.filter(S),y},"removeByReference"),c=qr(g=>{var y;return e.forEach(S=>{g.add(S.middleware,{...S})}),t.forEach(S=>{g.addRelativeTo(S.middleware,{...S})}),(y=g.identifyOnResolve)==null||y.call(g,f.identifyOnResolve()),g},"cloneTo"),l=qr(g=>{let y=[];return g.before.forEach(S=>{S.before.length===0&&S.after.length===0?y.push(S):y.push(...l(S))}),y.push(g),g.after.reverse().forEach(S=>{S.before.length===0&&S.after.length===0?y.push(S):y.push(...l(S))}),y},"expandRelativeMiddlewareList"),m=qr((g=!1)=>{let y=[],S=[],b={};return e.forEach(A=>{let U={...A,before:[],after:[]};for(let Q of ko(U.name,U.aliases))b[Q]=U;y.push(U)}),t.forEach(A=>{let U={...A,before:[],after:[]};for(let Q of ko(U.name,U.aliases))b[Q]=U;S.push(U)}),S.forEach(A=>{if(A.toMiddleware){let U=b[A.toMiddleware];if(U===void 0){if(g)return;throw new Error(`${A.toMiddleware} is not found when adding ${Fi(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&U.after.push(A),A.relation==="before"&&U.before.push(A)}}),i(y).map(l).reduce((A,U)=>(A.push(...U),A),[])},"getMiddlewareList"),f={add:(g,y={})=>{let{name:S,override:b,aliases:I}=y,A={step:"initialize",priority:"normal",middleware:g,...y},U=ko(S,I);if(U.length>0){if(U.some(Q=>n.has(Q))){if(!b)throw new Error(`Duplicate middleware name '${Fi(S,I)}'`);for(let Q of U){let Ee=e.findIndex(Et=>{var Qt;return Et.name===Q||((Qt=Et.aliases)==null?void 0:Qt.some(Ro=>Ro===Q))});if(Ee===-1)continue;let Ae=e[Ee];if(Ae.step!==A.step||A.priority!==Ae.priority)throw new Error(`"${Fi(Ae.name,Ae.aliases)}" middleware with ${Ae.priority} priority in ${Ae.step} step cannot be overridden by "${Fi(S,I)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(Ee,1)}}for(let Q of U)n.add(Q)}e.push(A)},addRelativeTo:(g,y)=>{let{name:S,override:b,aliases:I}=y,A={middleware:g,...y},U=ko(S,I);if(U.length>0){if(U.some(Q=>n.has(Q))){if(!b)throw new Error(`Duplicate middleware name '${Fi(S,I)}'`);for(let Q of U){let Ee=t.findIndex(Et=>{var Qt;return Et.name===Q||((Qt=Et.aliases)==null?void 0:Qt.some(Ro=>Ro===Q))});if(Ee===-1)continue;let Ae=t[Ee];if(Ae.toMiddleware!==A.toMiddleware||Ae.relation!==A.relation)throw new Error(`"${Fi(Ae.name,Ae.aliases)}" middleware ${Ae.relation} "${Ae.toMiddleware}" middleware cannot be overridden by "${Fi(S,I)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(Ee,1)}}for(let Q of U)n.add(Q)}t.push(A)},clone:()=>c(R_()),use:g=>{g.applyToStack(f)},remove:g=>typeof g=="string"?o(g):s(g),removeByTag:g=>{let y=!1,S=qr(b=>{let{tags:I,name:A,aliases:U}=b;if(I&&I.includes(g)){let Q=ko(A,U);for(let Ee of Q)n.delete(Ee);return y=!0,!1}return!0},"filterCb");return e=e.filter(S),t=t.filter(S),y},concat:g=>{var y;let S=c(R_());return S.use(g),S.identifyOnResolve(r||S.identifyOnResolve()||(((y=g.identifyOnResolve)==null?void 0:y.call(g))??!1)),S},applyToStack:c,identify:()=>m(!0).map(g=>{let y=g.step??g.relation+" "+g.toMiddleware;return Fi(g.name,g.aliases)+" - "+y}),identifyOnResolve(g){return typeof g=="boolean"&&(r=g),r},resolve:(g,y)=>{for(let S of m().map(b=>b.middleware).reverse())g=S(g,y);return r&&console.log(f.identify()),g}};return f},"constructStack"),Hx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Gx={high:3,normal:2,low:1}});var Gu=h((O$e,Wx)=>{u();var Hu=Object.defineProperty,m7=Object.getOwnPropertyDescriptor,f7=Object.getOwnPropertyNames,p7=Object.prototype.hasOwnProperty,g7=(e,t)=>Hu(e,"name",{value:t,configurable:!0}),h7=(e,t)=>{for(var r in t)Hu(e,r,{get:t[r],enumerable:!0})},v7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of f7(t))!p7.call(e,i)&&i!==r&&Hu(e,i,{get:()=>t[i],enumerable:!(n=m7(t,i))||n.enumerable});return e},_7=e=>v7(Hu({},"__esModule",{value:!0}),e),Kx={};h7(Kx,{isArrayBuffer:()=>y7});Wx.exports=_7(Kx);var y7=g7(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ra=h((R$e,Yx)=>{u();var $u=Object.defineProperty,S7=Object.getOwnPropertyDescriptor,E7=Object.getOwnPropertyNames,C7=Object.prototype.hasOwnProperty,Xx=(e,t)=>$u(e,"name",{value:t,configurable:!0}),b7=(e,t)=>{for(var r in t)$u(e,r,{get:t[r],enumerable:!0})},w7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of E7(t))!C7.call(e,i)&&i!==r&&$u(e,i,{get:()=>t[i],enumerable:!(n=S7(t,i))||n.enumerable});return e},P7=e=>w7($u({},"__esModule",{value:!0}),e),Jx={};b7(Jx,{fromArrayBuffer:()=>O7,fromString:()=>A7});Yx.exports=P7(Jx);var x7=Gu(),k_=P("buffer"),O7=Xx((e,t=0,r=e.byteLength-t)=>{if(!(0,x7.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return k_.Buffer.from(e,t,r)},"fromArrayBuffer"),A7=Xx((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?k_.Buffer.from(e,t):k_.Buffer.from(e)},"fromString")});var Qx=h(zu=>{"use strict";u();Object.defineProperty(zu,"__esModule",{value:!0});zu.fromBase64=void 0;var R7=ra(),k7=/^[A-Za-z0-9+/]*={0,2}$/,I7=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!k7.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,R7.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};zu.fromBase64=I7});var sr=h((N$e,rO)=>{u();var Vu=Object.defineProperty,T7=Object.getOwnPropertyDescriptor,N7=Object.getOwnPropertyNames,B7=Object.prototype.hasOwnProperty,I_=(e,t)=>Vu(e,"name",{value:t,configurable:!0}),D7=(e,t)=>{for(var r in t)Vu(e,r,{get:t[r],enumerable:!0})},F7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of N7(t))!B7.call(e,i)&&i!==r&&Vu(e,i,{get:()=>t[i],enumerable:!(n=T7(t,i))||n.enumerable});return e},L7=e=>F7(Vu({},"__esModule",{value:!0}),e),Zx={};D7(Zx,{fromUtf8:()=>tO,toUint8Array:()=>j7,toUtf8:()=>M7});rO.exports=L7(Zx);var eO=ra(),tO=I_(e=>{let t=(0,eO.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),j7=I_(e=>typeof e=="string"?tO(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),M7=I_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,eO.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var nO=h(Ku=>{"use strict";u();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.toBase64=void 0;var q7=ra(),U7=sr(),H7=e=>{let t;if(typeof e=="string"?t=(0,U7.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,q7.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ku.toBase64=H7});var Li=h((L$e,Wu)=>{u();var iO=Object.defineProperty,G7=Object.getOwnPropertyDescriptor,$7=Object.getOwnPropertyNames,z7=Object.prototype.hasOwnProperty,T_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $7(t))!z7.call(e,i)&&i!==r&&iO(e,i,{get:()=>t[i],enumerable:!(n=G7(t,i))||n.enumerable});return e},oO=(e,t,r)=>(T_(e,t,"default"),r&&T_(r,t,"default")),V7=e=>T_(iO({},"__esModule",{value:!0}),e),N_={};Wu.exports=V7(N_);oO(N_,Qx(),Wu.exports);oO(N_,nO(),Wu.exports)});var sO=h(Xu=>{"use strict";u();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getAwsChunkedEncodingStream=void 0;var K7=P("stream"),W7=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=t,c=r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,l=c?s(i,e):void 0,m=new K7.Readable({read:()=>{}});return e.on("data",f=>{let g=n(f)||0;m.push(`${g.toString(16)}\r
`),m.push(f),m.push(`\r
`)}),e.on("end",async()=>{if(m.push(`0\r
`),c){let f=r(await l);m.push(`${o}:${f}\r
`),m.push(`\r
`)}m.push(null)}),m};Xu.getAwsChunkedEncodingStream=W7});var D_=h((U$e,lO)=>{u();var Ju=Object.defineProperty,X7=Object.getOwnPropertyDescriptor,J7=Object.getOwnPropertyNames,Y7=Object.prototype.hasOwnProperty,B_=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),Q7=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},Z7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of J7(t))!Y7.call(e,i)&&i!==r&&Ju(e,i,{get:()=>t[i],enumerable:!(n=X7(t,i))||n.enumerable});return e},eJ=e=>Z7(Ju({},"__esModule",{value:!0}),e),aO={};Q7(aO,{escapeUri:()=>cO,escapeUriPath:()=>rJ});lO.exports=eJ(aO);var cO=B_(e=>encodeURIComponent(e).replace(/[!'()*]/g,tJ),"escapeUri"),tJ=B_(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),rJ=B_(e=>e.split("/").map(cO).join("/"),"escapeUriPath")});var L_=h((G$e,mO)=>{u();var Yu=Object.defineProperty,nJ=Object.getOwnPropertyDescriptor,iJ=Object.getOwnPropertyNames,oJ=Object.prototype.hasOwnProperty,sJ=(e,t)=>Yu(e,"name",{value:t,configurable:!0}),aJ=(e,t)=>{for(var r in t)Yu(e,r,{get:t[r],enumerable:!0})},cJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iJ(t))!oJ.call(e,i)&&i!==r&&Yu(e,i,{get:()=>t[i],enumerable:!(n=nJ(t,i))||n.enumerable});return e},lJ=e=>cJ(Yu({},"__esModule",{value:!0}),e),dO={};aJ(dO,{buildQueryString:()=>uO});mO.exports=lJ(dO);var F_=D_();function uO(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,F_.escapeUri)(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)t.push(`${r}=${(0,F_.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,F_.escapeUri)(n)}`),t.push(i)}}return t.join("&")}sJ(uO,"buildQueryString")});var Io=h((W$e,RO)=>{u();var dJ=Object.create,kl=Object.defineProperty,uJ=Object.getOwnPropertyDescriptor,mJ=Object.getOwnPropertyNames,fJ=Object.getPrototypeOf,pJ=Object.prototype.hasOwnProperty,mt=(e,t)=>kl(e,"name",{value:t,configurable:!0}),gJ=(e,t)=>{for(var r in t)kl(e,r,{get:t[r],enumerable:!0})},gO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mJ(t))!pJ.call(e,i)&&i!==r&&kl(e,i,{get:()=>t[i],enumerable:!(n=uJ(t,i))||n.enumerable});return e},hJ=(e,t,r)=>(r=e!=null?dJ(fJ(e)):{},gO(t||!e||!e.__esModule?kl(r,"default",{value:e,enumerable:!0}):r,e)),vJ=e=>gO(kl({},"__esModule",{value:!0}),e),hO={};gJ(hO,{DEFAULT_REQUEST_TIMEOUT:()=>CJ,NodeHttp2Handler:()=>OJ,NodeHttpHandler:()=>bJ,streamCollector:()=>RJ});RO.exports=vJ(hO);var vO=Ke(),_O=L_(),j_=P("http"),M_=P("https"),_J=["ECONNRESET","EPIPE","ETIMEDOUT"],yO=mt(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),yJ=mt((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",i=>{i.connecting?i.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),SJ=mt((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),EJ=mt((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),SO=P("stream"),fO=1e3;async function U_(e,t,r=fO){let n=t.headers??{},i=n.Expect||n.expect,o=-1,s=!1;i==="100-continue"&&await Promise.race([new Promise(c=>{o=Number(setTimeout(c,Math.max(fO,r)))}),new Promise(c=>{e.on("continue",()=>{clearTimeout(o),c()}),e.on("error",()=>{s=!0,clearTimeout(o),c()})})]),s||EO(e,t.body)}mt(U_,"writeRequestBody");function EO(e,t){if(t instanceof SO.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}mt(EO,"writeBody");var CJ=0,CO=class q_{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new q_(t)}static checkSocketUsage(t,r,n=console){var i,o,s;let{sockets:c,requests:l,maxSockets:m}=t;if(typeof m!="number"||m===1/0||Date.now()-15e3<r)return r;if(c&&l)for(let g in c){let y=((i=c[g])==null?void 0:i.length)??0,S=((o=l[g])==null?void 0:o.length)??0;if(y>=m&&S>=2*m)return(s=n?.warn)==null||s.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${y} and ${S} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,httpAgent:o,httpsAgent:s}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??i,httpAgent:o instanceof j_.Agent||typeof o?.destroy=="function"?o:new j_.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:s instanceof M_.Agent||typeof s?.destroy=="function"?s:new M_.Agent({keepAlive:c,maxSockets:l,...s}),logger:console}}destroy(){var t,r,n,i;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(i=(n=this.config)==null?void 0:n.httpsAgent)==null||i.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((i,o)=>{let s,c=mt(async Q=>{await s,clearTimeout(n),i(Q)},"resolve"),l=mt(async Q=>{await s,clearTimeout(n),o(Q)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let Q=new Error("Request aborted");Q.name="AbortError",l(Q);return}let m=t.protocol==="https:",f=m?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=q_.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let g=(0,_O.buildQueryString)(t.query||{}),y;if(t.username!=null||t.password!=null){let Q=t.username??"",Ee=t.password??"";y=`${Q}:${Ee}`}let S=t.path;g&&(S+=`?${g}`),t.fragment&&(S+=`#${t.fragment}`);let b={headers:t.headers,host:t.hostname,method:t.method,path:S,port:t.port,agent:f,auth:y},A=(m?M_.request:j_.request)(b,Q=>{let Ee=new vO.HttpResponse({statusCode:Q.statusCode||-1,reason:Q.statusMessage,headers:yO(Q.headers),body:Q});c({response:Ee})});if(A.on("error",Q=>{_J.includes(Q.code)?l(Object.assign(Q,{name:"TimeoutError"})):l(Q)}),yJ(A,l,this.config.connectionTimeout),EJ(A,l,this.config.requestTimeout),r){let Q=mt(()=>{A.destroy();let Ee=new Error("Request aborted");Ee.name="AbortError",l(Ee)},"onAbort");if(typeof r.addEventListener=="function"){let Ee=r;Ee.addEventListener("abort",Q,{once:!0}),A.once("close",()=>Ee.removeEventListener("abort",Q))}else r.onabort=Q}let U=b.agent;typeof U=="object"&&"keepAlive"in U&&SJ(A,{keepAlive:U.keepAlive,keepAliveMsecs:U.keepAliveMsecs}),s=U_(A,t,this.config.requestTimeout).catch(Q=>(clearTimeout(n),o(Q)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};mt(CO,"NodeHttpHandler");var bJ=CO,pO=P("http2"),wJ=hJ(P("http2")),bO=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};mt(bO,"NodeHttp2ConnectionPool");var PJ=bO,wO=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),i=this.sessionCache.get(n);if(i){let l=i.poll();if(l&&!this.config.disableConcurrency)return l}let o=wJ.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let s=mt(()=>{o.destroy(),this.deleteSession(n,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,s);let c=this.sessionCache.get(n)||new PJ;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let i=this.getUrlString(t);(n=this.sessionCache.get(i))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};mt(wO,"NodeHttp2ConnectionManager");var xJ=wO,PO=class xO{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new xJ({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(i||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new xO(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((o,s)=>{var c;let l=!1,m,f=mt(async dt=>{await m,o(dt)},"resolve"),g=mt(async dt=>{await m,s(dt)},"reject");if(r?.aborted){l=!0;let dt=new Error("Request aborted");dt.name="AbortError",g(dt);return}let{hostname:y,method:S,port:b,protocol:I,query:A}=t,U="";if(t.username!=null||t.password!=null){let dt=t.username??"",bn=t.password??"";U=`${dt}:${bn}@`}let Q=`${I}//${U}${y}${b?`:${b}`:""}`,Ee={destination:new URL(Q)},Ae=this.connectionManager.lease(Ee,{requestTimeout:(c=this.config)==null?void 0:c.sessionTimeout,disableConcurrentStreams:i||!1}),Et=mt(dt=>{i&&this.destroySession(Ae),l=!0,g(dt)},"rejectWithDestroy"),Qt=(0,_O.buildQueryString)(A||{}),Ro=t.path;Qt&&(Ro+=`?${Qt}`),t.fragment&&(Ro+=`#${t.fragment}`);let Mr=Ae.request({...t.headers,[pO.constants.HTTP2_HEADER_PATH]:Ro,[pO.constants.HTTP2_HEADER_METHOD]:S});if(Ae.ref(),Mr.on("response",dt=>{let bn=new vO.HttpResponse({statusCode:dt[":status"]||-1,headers:yO(dt),body:Mr});l=!0,f({response:bn}),i&&(Ae.close(),this.connectionManager.deleteSession(Q,Ae))}),n&&Mr.setTimeout(n,()=>{Mr.close();let dt=new Error(`Stream timed out because of no activity for ${n} ms`);dt.name="TimeoutError",Et(dt)}),r){let dt=mt(()=>{Mr.close();let bn=new Error("Request aborted");bn.name="AbortError",Et(bn)},"onAbort");if(typeof r.addEventListener=="function"){let bn=r;bn.addEventListener("abort",dt,{once:!0}),Mr.once("close",()=>bn.removeEventListener("abort",dt))}else r.onabort=dt}Mr.on("frameError",(dt,bn,K9)=>{Et(new Error(`Frame type id ${dt} in stream id ${K9} has failed with code ${bn}.`))}),Mr.on("error",Et),Mr.on("aborted",()=>{Et(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Mr.rstCode}.`))}),Mr.on("close",()=>{Ae.unref(),i&&Ae.destroy(),l||Et(new Error("Unexpected error: http2 request did not get a response"))}),m=U_(Mr,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};mt(PO,"NodeHttp2Handler");var OJ=PO,OO=class extends SO.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};mt(OO,"Collector");var AJ=OO,RJ=mt(e=>kJ(e)?AO(e):new Promise((t,r)=>{let n=new AJ;e.pipe(n),e.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));t(i)})}),"streamCollector"),kJ=mt(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function AO(e){let t=[],r=e.getReader(),n=!1,i=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),i+=l.length),n=c}let o=new Uint8Array(i),s=0;for(let c of t)o.set(c,s),s+=c.length;return o}mt(AO,"collectReadableStream")});var MO=h((J$e,jO)=>{u();var Zu=Object.defineProperty,IJ=Object.getOwnPropertyDescriptor,TJ=Object.getOwnPropertyNames,NJ=Object.prototype.hasOwnProperty,pi=(e,t)=>Zu(e,"name",{value:t,configurable:!0}),BJ=(e,t)=>{for(var r in t)Zu(e,r,{get:t[r],enumerable:!0})},DJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of TJ(t))!NJ.call(e,i)&&i!==r&&Zu(e,i,{get:()=>t[i],enumerable:!(n=IJ(t,i))||n.enumerable});return e},FJ=e=>DJ(Zu({},"__esModule",{value:!0}),e),IO={};BJ(IO,{FetchHttpHandler:()=>jJ,keepAliveSupport:()=>Qu,streamCollector:()=>qJ});jO.exports=FJ(IO);var kO=Ke(),LJ=L_();function TO(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}pi(TO,"requestTimeout");var Qu={supported:void 0},NO=class BO{static create(t){return typeof t?.handle=="function"?t:new BO(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Qu.supported===void 0&&(Qu.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let U=new Error("Request aborted");return U.name="AbortError",Promise.reject(U)}let s=t.path,c=(0,LJ.buildQueryString)(t.query||{});c&&(s+=`?${c}`),t.fragment&&(s+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let U=t.username??"",Q=t.password??"";l=`${U}:${Q}@`}let{port:m,method:f}=t,g=`${t.protocol}//${l}${t.hostname}${m?`:${m}`:""}${s}`,y=f==="GET"||f==="HEAD"?void 0:t.body,S={body:y,headers:new Headers(t.headers),method:f,credentials:o};y&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),Qu.supported&&(S.keepalive=i);let b=pi(()=>{},"removeSignalEventListener"),I=new Request(g,S),A=[fetch(I).then(U=>{let Q=U.headers,Ee={};for(let Et of Q.entries())Ee[Et[0]]=Et[1];return U.body!=null?{response:new kO.HttpResponse({headers:Ee,reason:U.statusText,statusCode:U.status,body:U.body})}:U.blob().then(Et=>({response:new kO.HttpResponse({headers:Ee,reason:U.statusText,statusCode:U.status,body:Et})}))}),TO(n)];return r&&A.push(new Promise((U,Q)=>{let Ee=pi(()=>{let Ae=new Error("Request aborted");Ae.name="AbortError",Q(Ae)},"onAbort");if(typeof r.addEventListener=="function"){let Ae=r;Ae.addEventListener("abort",Ee,{once:!0}),b=pi(()=>Ae.removeEventListener("abort",Ee),"removeSignalEventListener")}else r.onabort=Ee})),Promise.race(A).finally(b)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};pi(NO,"FetchHttpHandler");var jJ=NO,MJ=Li(),qJ=pi(e=>typeof Blob=="function"&&e instanceof Blob?DO(e):FO(e),"streamCollector");async function DO(e){let t=await LO(e),r=(0,MJ.fromBase64)(t);return new Uint8Array(r)}pi(DO,"collectBlob");async function FO(e){let t=[],r=e.getReader(),n=!1,i=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),i+=l.length),n=c}let o=new Uint8Array(i),s=0;for(let c of t)o.set(c,s),s+=c.length;return o}pi(FO,"collectStream");function LO(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}pi(LO,"readToBase64")});var tm=h((Q$e,zO)=>{u();var em=Object.defineProperty,UJ=Object.getOwnPropertyDescriptor,HJ=Object.getOwnPropertyNames,GJ=Object.prototype.hasOwnProperty,qO=(e,t)=>em(e,"name",{value:t,configurable:!0}),$J=(e,t)=>{for(var r in t)em(e,r,{get:t[r],enumerable:!0})},zJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HJ(t))!GJ.call(e,i)&&i!==r&&em(e,i,{get:()=>t[i],enumerable:!(n=UJ(t,i))||n.enumerable});return e},VJ=e=>zJ(em({},"__esModule",{value:!0}),e),UO={};$J(UO,{fromHex:()=>GO,toHex:()=>$O});zO.exports=VJ(UO);var HO={},H_={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),HO[e]=t,H_[t]=e}function GO(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in H_)t[r/2]=H_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}qO(GO,"fromHex");function $O(e){let t="";for(let r=0;r<e.byteLength;r++)t+=HO[e[r]];return t}qO($O,"toHex")});var Il=h(rm=>{"use strict";u();Object.defineProperty(rm,"__esModule",{value:!0});rm.isReadableStream=void 0;var KJ=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};rm.isReadableStream=KJ});var XO=h(nm=>{"use strict";u();Object.defineProperty(nm,"__esModule",{value:!0});nm.sdkStreamMixin=void 0;var WJ=MO(),XJ=Li(),JJ=tm(),YJ=sr(),VO=Il(),KO="The stream has already been transformed.",QJ=e=>{var t,r;if(!WO(e)&&!(0,VO.isReadableStream)(e)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,i=async()=>{if(n)throw new Error(KO);return n=!0,await(0,WJ.streamCollector)(e)},o=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:i,transformToString:async s=>{let c=await i();if(s==="base64")return(0,XJ.toBase64)(c);if(s==="hex")return(0,JJ.toHex)(c);if(s===void 0||s==="utf8"||s==="utf-8")return(0,YJ.toUtf8)(c);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(c);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(KO);if(n=!0,WO(e))return o(e);if((0,VO.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};nm.sdkStreamMixin=QJ;var WO=e=>typeof Blob=="function"&&e instanceof Blob});var YO=h(im=>{"use strict";u();Object.defineProperty(im,"__esModule",{value:!0});im.sdkStreamMixin=void 0;var ZJ=Io(),eY=ra(),G_=P("stream"),tY=P("util"),rY=XO(),JO="The stream has already been transformed.",nY=e=>{var t,r;if(!(e instanceof G_.Readable))try{return(0,rY.sdkStreamMixin)(e)}catch{let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,i=async()=>{if(n)throw new Error(JO);return n=!0,await(0,ZJ.streamCollector)(e)};return Object.assign(e,{transformToByteArray:i,transformToString:async o=>{let s=await i();return o===void 0||Buffer.isEncoding(o)?(0,eY.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(o):new tY.TextDecoder(o).decode(s)},transformToWebStream:()=>{if(n)throw new Error(JO);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof G_.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,G_.Readable.toWeb(e)}})};im.sdkStreamMixin=nY});var QO=h(om=>{"use strict";u();Object.defineProperty(om,"__esModule",{value:!0});om.splitStream=void 0;async function iY(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}om.splitStream=iY});var eA=h(sm=>{"use strict";u();Object.defineProperty(sm,"__esModule",{value:!0});sm.splitStream=void 0;var ZO=P("stream"),oY=QO(),sY=Il();async function aY(e){if((0,sY.isReadableStream)(e))return(0,oY.splitStream)(e);let t=new ZO.PassThrough,r=new ZO.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}sm.splitStream=aY});var tA=h(am=>{"use strict";u();Object.defineProperty(am,"__esModule",{value:!0});am.headStream=void 0;async function cY(e,t){var r;let n=0,i=[],o=e.getReader(),s=!1;for(;!s;){let{done:m,value:f}=await o.read();if(f&&(i.push(f),n+=(r=f?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;s=m}o.releaseLock();let c=new Uint8Array(Math.min(t,n)),l=0;for(let m of i){if(m.byteLength>c.byteLength-l){c.set(m.subarray(0,c.byteLength-l),l);break}else c.set(m,l);l+=m.length}return c}am.headStream=cY});var rA=h(cm=>{"use strict";u();Object.defineProperty(cm,"__esModule",{value:!0});cm.headStream=void 0;var lY=P("stream"),dY=tA(),uY=Il(),mY=(e,t)=>(0,uY.isReadableStream)(e)?(0,dY.headStream)(e,t):new Promise((r,n)=>{let i=new $_;i.limit=t,e.pipe(i),e.on("error",o=>{i.end(),n(o)}),i.on("error",n),i.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});cm.headStream=mY;var $_=class extends lY.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var i;if(this.buffers.push(t),this.bytesBuffered+=(i=t.byteLength)!==null&&i!==void 0?i:0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Nl=h((p5e,No)=>{u();var lm=Object.defineProperty,fY=Object.getOwnPropertyDescriptor,pY=Object.getOwnPropertyNames,gY=Object.prototype.hasOwnProperty,K_=(e,t)=>lm(e,"name",{value:t,configurable:!0}),hY=(e,t)=>{for(var r in t)lm(e,r,{get:t[r],enumerable:!0})},z_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pY(t))!gY.call(e,i)&&i!==r&&lm(e,i,{get:()=>t[i],enumerable:!(n=fY(t,i))||n.enumerable});return e},Tl=(e,t,r)=>(z_(e,t,"default"),r&&z_(r,t,"default")),vY=e=>z_(lm({},"__esModule",{value:!0}),e),To={};hY(To,{Uint8ArrayBlobAdapter:()=>V_});No.exports=vY(To);var nA=Li(),iA=sr();function oA(e,t="utf-8"){return t==="base64"?(0,nA.toBase64)(e):(0,iA.toUtf8)(e)}K_(oA,"transformToString");function sA(e,t){return t==="base64"?V_.mutate((0,nA.fromBase64)(e)):V_.mutate((0,iA.fromUtf8)(e))}K_(sA,"transformFromString");var aA=class cA extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return sA(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,cA.prototype),t}transformToString(t="utf-8"){return oA(this,t)}};K_(aA,"Uint8ArrayBlobAdapter");var V_=aA;Tl(To,sO(),No.exports);Tl(To,YO(),No.exports);Tl(To,eA(),No.exports);Tl(To,rA(),No.exports);Tl(To,Il(),No.exports)});var We=h((S5e,TA)=>{u();var pm=Object.defineProperty,_Y=Object.getOwnPropertyDescriptor,yY=Object.getOwnPropertyNames,SY=Object.prototype.hasOwnProperty,z=(e,t)=>pm(e,"name",{value:t,configurable:!0}),EY=(e,t)=>{for(var r in t)pm(e,r,{get:t[r],enumerable:!0})},CY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yY(t))!SY.call(e,i)&&i!==r&&pm(e,i,{get:()=>t[i],enumerable:!(n=_Y(t,i))||n.enumerable});return e},bY=e=>CY(pm({},"__esModule",{value:!0}),e),dA={};EY(dA,{Client:()=>PY,Command:()=>gA,LazyJsonString:()=>EQ,NoOpLogger:()=>wY,SENSITIVE_STRING:()=>AY,ServiceException:()=>lQ,StringWrapper:()=>jl,_json:()=>e0,collectBody:()=>xY,convertMap:()=>CQ,createAggregatedClient:()=>RY,dateToUtcString:()=>CA,decorateServiceException:()=>PA,emitWarningIfUnsupportedVersion:()=>fQ,expectBoolean:()=>IY,expectByte:()=>Z_,expectFloat32:()=>um,expectInt:()=>NY,expectInt32:()=>Y_,expectLong:()=>Fl,expectNonNull:()=>DY,expectNumber:()=>Dl,expectObject:()=>vA,expectShort:()=>Q_,expectString:()=>FY,expectUnion:()=>LY,extendedEncodeURIComponent:()=>fm,getArrayIfSingleItem:()=>SQ,getDefaultClientConfiguration:()=>_Q,getDefaultExtensionConfiguration:()=>OA,getValueFromTextNode:()=>AA,handleFloat:()=>qY,limitedParseDouble:()=>n0,limitedParseFloat:()=>UY,limitedParseFloat32:()=>HY,loadConfigsForDefaultMode:()=>mQ,logger:()=>Ll,map:()=>o0,parseBoolean:()=>kY,parseEpochTimestamp:()=>eQ,parseRfc3339DateTime:()=>KY,parseRfc3339DateTimeWithOffset:()=>XY,parseRfc7231DateTime:()=>ZY,resolveDefaultRuntimeConfig:()=>yQ,resolvedPath:()=>OQ,serializeDateTime:()=>RQ,serializeFloat:()=>AQ,splitEvery:()=>IA,strictParseByte:()=>EA,strictParseDouble:()=>r0,strictParseFloat:()=>jY,strictParseFloat32:()=>_A,strictParseInt:()=>GY,strictParseInt32:()=>$Y,strictParseLong:()=>SA,strictParseShort:()=>na,take:()=>bQ,throwDefaultError:()=>xA,withBaseException:()=>dQ});TA.exports=bY(dA);var uA=class{trace(){}debug(){}info(){}warn(){}error(){}};z(uA,"NoOpLogger");var wY=uA,mA=Vx(),fA=class{constructor(t){this.middlewareStack=(0,mA.constructStack)(),this.config=t}send(t,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(t).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return s(t).then(c=>c.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};z(fA,"Client");var PY=fA,W_=Nl(),xY=z(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return W_.Uint8ArrayBlobAdapter.mutate(e);if(!e)return W_.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return W_.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),J_=ut(),pA=class{constructor(){this.middlewareStack=(0,mA.constructStack)()}static classBuilder(){return new OY}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:m,additionalContext:f,CommandCtor:g}){for(let A of i.bind(this)(g,t,r,n))this.middlewareStack.use(A);let y=t.concat(this.middlewareStack),{logger:S}=r,b={logger:S,clientName:o,commandName:s,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[J_.SMITHY_CONTEXT_KEY]:{commandInstance:this,...m},...f},{requestHandler:I}=r;return y.resolve(A=>I.handle(A.request,n||{}),b)}};z(pA,"Command");var gA=pA,hA=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends gA{constructor(...[i]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=i??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(i,o,s){return this.resolveMiddlewareWithContext(i,o,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},z(t,"CommandRef"),t)}};z(hA,"ClassBuilder");var OY=hA,AY="***SensitiveInformation***",RY=z((e,t)=>{for(let r of Object.keys(e)){let n=e[r],i=z(async function(s,c,l){let m=new n(s);if(typeof c=="function")this.send(m,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(m,c||{},l)}else return this.send(m,c)},"methodImpl"),o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=i}},"createAggregatedClient"),kY=z(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),IY=z(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ll.warn(mm(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ll.warn(mm(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),Dl=z(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ll.warn(mm(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),TY=Math.ceil(2**127*(2-2**-23)),um=z(e=>{let t=Dl(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>TY)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),Fl=z(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),NY=Fl,Y_=z(e=>t0(e,32),"expectInt32"),Q_=z(e=>t0(e,16),"expectShort"),Z_=z(e=>t0(e,8),"expectByte"),t0=z((e,t)=>{let r=Fl(e);if(r!==void 0&&BY(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),BY=z((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),DY=z((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),vA=z(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),FY=z(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ll.warn(mm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),LY=z(e=>{if(e==null)return;let t=vA(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),r0=z(e=>Dl(typeof e=="string"?oa(e):e),"strictParseDouble"),jY=r0,_A=z(e=>um(typeof e=="string"?oa(e):e),"strictParseFloat32"),MY=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,oa=z(e=>{let t=e.match(MY);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),n0=z(e=>typeof e=="string"?yA(e):Dl(e),"limitedParseDouble"),qY=n0,UY=n0,HY=z(e=>typeof e=="string"?yA(e):um(e),"limitedParseFloat32"),yA=z(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),SA=z(e=>Fl(typeof e=="string"?oa(e):e),"strictParseLong"),GY=SA,$Y=z(e=>Y_(typeof e=="string"?oa(e):e),"strictParseInt32"),na=z(e=>Q_(typeof e=="string"?oa(e):e),"strictParseShort"),EA=z(e=>Z_(typeof e=="string"?oa(e):e),"strictParseByte"),mm=z(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Ll={warn:console.warn},zY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function CA(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),l=i<10?`0${i}`:`${i}`,m=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,g=c<10?`0${c}`:`${c}`;return`${zY[n]}, ${l} ${i0[r]} ${t} ${m}:${f}:${g} GMT`}z(CA,"dateToUtcString");var VY=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),KY=z(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=VY.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,c,l,m]=t,f=na(ia(n)),g=Gn(i,"month",1,12),y=Gn(o,"day",1,31);return Bl(f,g,y,{hours:s,minutes:c,seconds:l,fractionalMilliseconds:m})},"parseRfc3339DateTime"),WY=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),XY=z(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=WY.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,c,l,m,f]=t,g=na(ia(n)),y=Gn(i,"month",1,12),S=Gn(o,"day",1,31),b=Bl(g,y,S,{hours:s,minutes:c,seconds:l,fractionalMilliseconds:m});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-cQ(f)),b},"parseRfc3339DateTimeWithOffset"),JY=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YY=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),QY=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ZY=z(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=JY.exec(e);if(t){let[r,n,i,o,s,c,l,m]=t;return Bl(na(ia(o)),X_(i),Gn(n,"day",1,31),{hours:s,minutes:c,seconds:l,fractionalMilliseconds:m})}if(t=YY.exec(e),t){let[r,n,i,o,s,c,l,m]=t;return nQ(Bl(tQ(o),X_(i),Gn(n,"day",1,31),{hours:s,minutes:c,seconds:l,fractionalMilliseconds:m}))}if(t=QY.exec(e),t){let[r,n,i,o,s,c,l,m]=t;return Bl(na(ia(m)),X_(n),Gn(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),eQ=z(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=r0(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Bl=z((e,t,r,n)=>{let i=t-1;return oQ(e,i,r),new Date(Date.UTC(e,i,r,Gn(n.hours,"hour",0,23),Gn(n.minutes,"minute",0,59),Gn(n.seconds,"seconds",0,60),aQ(n.fractionalMilliseconds)))},"buildDate"),tQ=z(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+na(ia(e));return r<t?r+100:r},"parseTwoDigitYear"),rQ=50*365*24*60*60*1e3,nQ=z(e=>e.getTime()-new Date().getTime()>rQ?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),X_=z(e=>{let t=i0.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),iQ=[31,28,31,30,31,30,31,31,30,31,30,31],oQ=z((e,t,r)=>{let n=iQ[t];if(t===1&&sQ(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${i0[t]} in ${e}: ${r}`)},"validateDayOfMonth"),sQ=z(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Gn=z((e,t,r,n)=>{let i=EA(ia(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},"parseDateValue"),aQ=z(e=>e==null?0:_A("0."+e)*1e3,"parseMilliseconds"),cQ=z(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},"parseOffsetToMilliseconds"),ia=z(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),bA=class wA extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,wA.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};z(bA,"ServiceException");var lQ=bA,PA=z((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),xA=z(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let i=uQ(e),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:i});throw PA(s,t)},"throwDefaultError"),dQ=z(e=>({output:t,parsedBody:r,errorCode:n})=>{xA({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),uQ=z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),mQ=z(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),lA=!1,fQ=z(e=>{e&&!lA&&parseInt(e.substring(1,e.indexOf(".")))<16&&(lA=!0)},"emitWarningIfUnsupportedVersion"),pQ=z(e=>{let t=[];for(let r in J_.AlgorithmId){let n=J_.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),gQ=z(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),hQ=z(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),vQ=z(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),OA=z(e=>({...pQ(e),...hQ(e)}),"getDefaultExtensionConfiguration"),_Q=OA,yQ=z(e=>({...gQ(e),...vQ(e)}),"resolveDefaultRuntimeConfig");function fm(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}z(fm,"extendedEncodeURIComponent");var SQ=z(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),AA=z(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=AA(e[r]));return e},"getValueFromTextNode"),jl=z(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");jl.prototype=Object.create(String.prototype,{constructor:{value:jl,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(jl,String);var RA=class dm extends jl{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof dm?t:t instanceof String||typeof t=="string"?new dm(t):new dm(JSON.stringify(t))}};z(RA,"LazyJsonString");var EQ=RA;function o0(e,t,r){let n,i,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return i=t,o=r,wQ(n,i,o);o=t}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){n[s]=o[s];continue}kA(n,null,o,s)}return n}z(o0,"map");var CQ=z(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),bQ=z((e,t)=>{let r={};for(let n in t)kA(r,e,t,n);return r},"take"),wQ=z((e,t,r)=>o0(e,Object.entries(r).reduce((n,[i,o])=>(Array.isArray(o)?n[i]=o:typeof o=="function"?n[i]=[t,o()]:n[i]=[t,o],n),{})),"mapWithFilter"),kA=z((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[c=PQ,l=xQ,m=n]=s;(typeof c=="function"&&c(t[m])||typeof c!="function"&&c)&&(e[n]=l(t[m]));return}let[i,o]=r[n];if(typeof o=="function"){let s,c=i===void 0&&(s=o())!=null,l=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;c?e[n]=s:l&&(e[n]=o())}else{let s=i===void 0&&o!=null,c=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||c)&&(e[n]=o)}},"applyInstruction"),PQ=z(e=>e!=null,"nonNullish"),xQ=z(e=>e,"pass"),OQ=z((e,t,r,n,i,o)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,o?s.split("/").map(c=>fm(c)).join("/"):fm(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),AQ=z(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),RQ=z(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),e0=z(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(e0);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=e0(e[r]));return t}return e},"_json");function IA(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=t+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}z(IA,"splitEvery")});var Ur=h((b5e,FA)=>{u();var gm=Object.defineProperty,kQ=Object.getOwnPropertyDescriptor,IQ=Object.getOwnPropertyNames,TQ=Object.prototype.hasOwnProperty,BA=(e,t)=>gm(e,"name",{value:t,configurable:!0}),NQ=(e,t)=>{for(var r in t)gm(e,r,{get:t[r],enumerable:!0})},BQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of IQ(t))!TQ.call(e,i)&&i!==r&&gm(e,i,{get:()=>t[i],enumerable:!(n=kQ(t,i))||n.enumerable});return e},DQ=e=>BQ(gm({},"__esModule",{value:!0}),e),DA={};NQ(DA,{getSmithyContext:()=>FQ,normalizeProvider:()=>LQ});FA.exports=DQ(DA);var NA=ut(),FQ=BA(e=>e[NA.SMITHY_CONTEXT_KEY]||(e[NA.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),LQ=BA(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var m0=h((O5e,rR)=>{u();var Sm=Object.defineProperty,jQ=Object.getOwnPropertyDescriptor,MQ=Object.getOwnPropertyNames,qQ=Object.prototype.hasOwnProperty,Ft=(e,t)=>Sm(e,"name",{value:t,configurable:!0}),UQ=(e,t)=>{for(var r in t)Sm(e,r,{get:t[r],enumerable:!0})},HQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MQ(t))!qQ.call(e,i)&&i!==r&&Sm(e,i,{get:()=>t[i],enumerable:!(n=jQ(t,i))||n.enumerable});return e},GQ=e=>HQ(Sm({},"__esModule",{value:!0}),e),UA={};UQ(UA,{SignatureV4:()=>gZ,clearCredentialCache:()=>sZ,createScope:()=>_m,getCanonicalHeaders:()=>l0,getCanonicalQuery:()=>XA,getPayloadHash:()=>ym,getSigningKey:()=>WA,moveHeadersToQuery:()=>eR,prepareRequest:()=>u0});rR.exports=GQ(UA);var LA=Ur(),s0=sr(),$Q="X-Amz-Algorithm",zQ="X-Amz-Credential",HA="X-Amz-Date",VQ="X-Amz-SignedHeaders",KQ="X-Amz-Expires",GA="X-Amz-Signature",$A="X-Amz-Security-Token",zA="authorization",VA=HA.toLowerCase(),WQ="date",XQ=[zA,VA,WQ],JQ=GA.toLowerCase(),c0="x-amz-content-sha256",YQ=$A.toLowerCase(),QQ={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZQ=/^proxy-/,eZ=/^sec-/,a0="AWS4-HMAC-SHA256",tZ="AWS4-HMAC-SHA256-PAYLOAD",rZ="UNSIGNED-PAYLOAD",nZ=50,KA="aws4_request",iZ=60*60*24*7,ji=tm(),oZ=sr(),sa={},vm=[],_m=Ft((e,t,r)=>`${e}/${t}/${r}/${KA}`,"createScope"),WA=Ft(async(e,t,r,n,i)=>{let o=await jA(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${i}:${(0,ji.toHex)(o)}:${t.sessionToken}`;if(s in sa)return sa[s];for(vm.push(s);vm.length>nZ;)delete sa[vm.shift()];let c=`AWS4${t.secretAccessKey}`;for(let l of[r,n,i,KA])c=await jA(e,c,l);return sa[s]=c},"getSigningKey"),sZ=Ft(()=>{vm.length=0,Object.keys(sa).forEach(e=>{delete sa[e]})},"clearCredentialCache"),jA=Ft((e,t,r)=>{let n=new e(t);return n.update((0,oZ.toUint8Array)(r)),n.digest()},"hmac"),l0=Ft(({headers:e},t,r)=>{let n={};for(let i of Object.keys(e).sort()){if(e[i]==null)continue;let o=i.toLowerCase();(o in QQ||t?.has(o)||ZQ.test(o)||eZ.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[i].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Ml=D_(),XA=Ft(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===JQ)continue;t.push(n);let i=e[n];typeof i=="string"?r[n]=`${(0,Ml.escapeUri)(n)}=${(0,Ml.escapeUri)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((o,s)=>o.concat([`${(0,Ml.escapeUri)(n)}=${(0,Ml.escapeUri)(s)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),aZ=Gu(),cZ=sr(),ym=Ft(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===c0)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,aZ.isArrayBuffer)(t)){let n=new r;return n.update((0,cZ.toUint8Array)(t)),(0,ji.toHex)(await n.digest())}return rZ},"getPayloadHash"),MA=sr(),JA=class{format(t){let r=[];for(let o of Object.keys(t)){let s=(0,MA.fromUtf8)(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(t.value,3),s;case"string":let c=(0,MA.fromUtf8)(t.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let m=new Uint8Array(l.buffer);return m.set(c,3),m;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(uZ.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!dZ.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let g=new Uint8Array(17);return g[0]=9,g.set((0,ji.fromHex)(t.value.replace(/\-/g,"")),1),g}}};Ft(JA,"HeaderFormatter");var lZ=JA,dZ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,YA=class QA{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&d0(r),new QA(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&d0(t),parseInt((0,ji.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};Ft(YA,"Int64");var uZ=YA;function d0(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ft(d0,"negate");var mZ=Ft((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),ZA=Ke(),eR=Ft((e,t={})=>{var r;let{headers:n,query:i={}}=ZA.HttpRequest.clone(e);for(let o of Object.keys(n)){let s=o.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))&&(i[o]=n[o],delete n[o])}return{...e,headers:n,query:i}},"moveHeadersToQuery"),u0=Ft(e=>{e=ZA.HttpRequest.clone(e);for(let t of Object.keys(e.headers))XQ.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),fZ=Ft(e=>pZ(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),pZ=Ft(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),tR=class{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.headerFormatter=new lZ,this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,LA.normalizeProvider)(n),this.credentialProvider=(0,LA.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:c,signingRegion:l,signingService:m}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let g=l??await this.regionProvider(),{longDate:y,shortDate:S}=hm(n);if(i>iZ)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=_m(S,g,m??this.service),I=eR(u0(t),{unhoistableHeaders:s});f.sessionToken&&(I.query[$A]=f.sessionToken),I.query[$Q]=a0,I.query[zQ]=`${f.accessKeyId}/${b}`,I.query[HA]=y,I.query[KQ]=i.toString(10);let A=l0(I,o,c);return I.query[VQ]=qA(A),I.query[GA]=await this.getSignature(y,b,this.getSigningKey(f,g,S,m),this.createCanonicalRequest(I,A,await ym(t,this.sha256))),I}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let c=o??await this.regionProvider(),{shortDate:l,longDate:m}=hm(n),f=_m(l,c,s??this.service),g=await ym({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let S=(0,ji.toHex)(await y.digest()),b=[tZ,m,f,i,S,g].join(`
`);return this.signString(b,{signingDate:n,signingRegion:c,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:c}=hm(r),l=new this.sha256(await this.getSigningKey(o,s,c,i));return l.update((0,s0.toUint8Array)(t)),(0,ji.toHex)(await l.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),m=u0(t),{longDate:f,shortDate:g}=hm(r),y=_m(g,l,s??this.service);m.headers[VA]=f,c.sessionToken&&(m.headers[YQ]=c.sessionToken);let S=await ym(m,this.sha256);!mZ(c0,m.headers)&&this.applyChecksum&&(m.headers[c0]=S);let b=l0(m,i,n),I=await this.getSignature(f,y,this.getSigningKey(c,l,g,s),this.createCanonicalRequest(m,b,S));return m.headers[zA]=`${a0} Credential=${c.accessKeyId}/${y}, SignedHeaders=${qA(b)}, Signature=${I}`,m}createCanonicalRequest(t,r,n){let i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${XA(t)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){let i=new this.sha256;i.update((0,s0.toUint8Array)(n));let o=await i.digest();return`${a0}
${t}
${r}
${(0,ji.toHex)(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,Ml.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){let o=await this.createStringToSign(t,r,i),s=new this.sha256(await n);return s.update((0,s0.toUint8Array)(o)),(0,ji.toHex)(await s.digest())}getSigningKey(t,r,n,i){return WA(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};Ft(tR,"SignatureV4");var gZ=tR,hm=Ft(e=>{let t=fZ(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),qA=Ft(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Cm=h((R5e,sR)=>{u();var Em=Object.defineProperty,hZ=Object.getOwnPropertyDescriptor,vZ=Object.getOwnPropertyNames,_Z=Object.prototype.hasOwnProperty,nR=(e,t)=>Em(e,"name",{value:t,configurable:!0}),yZ=(e,t)=>{for(var r in t)Em(e,r,{get:t[r],enumerable:!0})},SZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vZ(t))!_Z.call(e,i)&&i!==r&&Em(e,i,{get:()=>t[i],enumerable:!(n=hZ(t,i))||n.enumerable});return e},EZ=e=>SZ(Em({},"__esModule",{value:!0}),e),iR={};yZ(iR,{SelectorType:()=>oR,booleanSelector:()=>CZ,numberSelector:()=>bZ});sR.exports=EZ(iR);var CZ=nR((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),bZ=nR((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),oR=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(oR||{})});function wZ(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var I5e,aR,ql,bm=oe(()=>{u();I5e=Ve(ut()),aR=Ve(Ur());ql=(e,t)=>(r,n)=>async i=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,i.input)),s=wZ(e.httpAuthSchemes),c=(0,aR.getSmithyContext)(n),l=[];for(let m of o){let f=s.get(m.schemeId);if(!f){l.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let g=f.identityProvider(await t.identityProviderConfigProvider(e));if(!g){l.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:S={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},y),m.signingProperties=Object.assign(m.signingProperties||{},S),c.selectedHttpAuthScheme={httpAuthOption:m,identity:await g(m.identityProperties),signer:f.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(i)}});var ft=h((D5e,gR)=>{u();var wm=Object.defineProperty,PZ=Object.getOwnPropertyDescriptor,xZ=Object.getOwnPropertyNames,OZ=Object.prototype.hasOwnProperty,Bo=(e,t)=>wm(e,"name",{value:t,configurable:!0}),AZ=(e,t)=>{for(var r in t)wm(e,r,{get:t[r],enumerable:!0})},RZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xZ(t))!OZ.call(e,i)&&i!==r&&wm(e,i,{get:()=>t[i],enumerable:!(n=PZ(t,i))||n.enumerable});return e},kZ=e=>RZ(wm({},"__esModule",{value:!0}),e),cR={};AZ(cR,{CredentialsProviderError:()=>IZ,ProviderError:()=>Pm,TokenProviderError:()=>TZ,chain:()=>NZ,fromStatic:()=>BZ,memoize:()=>DZ});gR.exports=kZ(cR);var lR=class dR extends Error{constructor(t,r=!0){var n;let i,o=!0;typeof r=="boolean"?(i=void 0,o=r):r!=null&&typeof r=="object"&&(i=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,dR.prototype),(n=i?.debug)==null||n.call(i,`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Bo(lR,"ProviderError");var Pm=lR,uR=class mR extends Pm{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,mR.prototype)}};Bo(uR,"CredentialsProviderError");var IZ=uR,fR=class pR extends Pm{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,pR.prototype)}};Bo(fR,"TokenProviderError");var TZ=fR,NZ=Bo((...e)=>async()=>{if(e.length===0)throw new Pm("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),BZ=Bo(e=>()=>Promise.resolve(e),"fromStatic"),DZ=Bo((e,t,r)=>{let n,i,o,s=!1,c=Bo(async()=>{i||(i=e());try{n=await i,o=!0,s=!1}finally{i=void 0}return n},"coalesceProvider");return t===void 0?async l=>((!o||l?.forceRefresh)&&(n=await c()),n):async l=>((!o||l?.forceRefresh)&&(n=await c()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await c(),n))},"memoize")});var aa=h(xm=>{"use strict";u();Object.defineProperty(xm,"__esModule",{value:!0});xm.getHomeDir=void 0;var FZ=P("os"),LZ=P("path"),f0={},jZ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",MZ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${LZ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=jZ();return f0[i]||(f0[i]=(0,FZ.homedir)()),f0[i]};xm.getHomeDir=MZ});var p0=h(Om=>{"use strict";u();Object.defineProperty(Om,"__esModule",{value:!0});Om.getSSOTokenFilepath=void 0;var qZ=P("crypto"),UZ=P("path"),HZ=aa(),GZ=e=>{let r=(0,qZ.createHash)("sha1").update(e).digest("hex");return(0,UZ.join)((0,HZ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Om.getSSOTokenFilepath=GZ});var hR=h(Am=>{"use strict";u();Object.defineProperty(Am,"__esModule",{value:!0});Am.getSSOTokenFromFile=void 0;var $Z=P("fs"),zZ=p0(),{readFile:VZ}=$Z.promises,KZ=async e=>{let t=(0,zZ.getSSOTokenFilepath)(e),r=await VZ(t,"utf8");return JSON.parse(r)};Am.getSSOTokenFromFile=KZ});var h0=h(Rm=>{"use strict";u();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.slurpFile=void 0;var WZ=P("fs"),{readFile:XZ}=WZ.promises,g0={},JZ=(e,t)=>((!g0[e]||t?.ignoreCache)&&(g0[e]=XZ(e,"utf8")),g0[e]);Rm.slurpFile=JZ});var S0=h((z5e,Hl)=>{u();var Tm=Object.defineProperty,YZ=Object.getOwnPropertyDescriptor,QZ=Object.getOwnPropertyNames,ZZ=Object.prototype.hasOwnProperty,Hr=(e,t)=>Tm(e,"name",{value:t,configurable:!0}),eee=(e,t)=>{for(var r in t)Tm(e,r,{get:t[r],enumerable:!0})},v0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of QZ(t))!ZZ.call(e,i)&&i!==r&&Tm(e,i,{get:()=>t[i],enumerable:!(n=YZ(t,i))||n.enumerable});return e},y0=(e,t,r)=>(v0(e,t,"default"),r&&v0(r,t,"default")),tee=e=>v0(Tm({},"__esModule",{value:!0}),e),Ul={};eee(Ul,{CONFIG_PREFIX_SEPARATOR:()=>Do,DEFAULT_PROFILE:()=>SR,ENV_PROFILE:()=>yR,getProfileName:()=>ree,loadSharedConfigFiles:()=>CR,loadSsoSessionData:()=>gee,parseKnownFiles:()=>vee});Hl.exports=tee(Ul);y0(Ul,aa(),Hl.exports);var yR="AWS_PROFILE",SR="default",ree=Hr(e=>e.profile||process.env[yR]||SR,"getProfileName");y0(Ul,p0(),Hl.exports);y0(Ul,hR(),Hl.exports);var km=ut(),nee=Hr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Do);return r===-1?!1:Object.values(km.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Do),o=r.substring(0,i)===km.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Im=P("path"),iee=aa(),oee="AWS_CONFIG_FILE",ER=Hr(()=>process.env[oee]||(0,Im.join)((0,iee.getHomeDir)(),".aws","config"),"getConfigFilepath"),see=aa(),aee="AWS_SHARED_CREDENTIALS_FILE",cee=Hr(()=>process.env[aee]||(0,Im.join)((0,see.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),lee=aa(),dee=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,uee=["__proto__","profile __proto__"],_0=Hr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=dee.exec(c);if(l){let[,m,,f]=l;Object.values(km.IniSectionType).includes(m)&&(r=[m,f].join(Do))}else r=c;if(uee.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Do):l;t[r][f]=m}}}}return t},"parseIni"),vR=h0(),_R=Hr(()=>({}),"swallowError"),Do=".",CR=Hr(async(e={})=>{let{filepath:t=cee(),configFilepath:r=ER()}=e,n=(0,lee.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Im.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Im.join)(n,r.slice(2)));let c=await Promise.all([(0,vR.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(_0).then(nee).catch(_R),(0,vR.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(_0).catch(_R)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),mee=Hr(e=>Object.entries(e).filter(([t])=>t.startsWith(km.IniSectionType.SSO_SESSION+Do)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Do)+1)]:n}),{}),"getSsoSessionData"),fee=h0(),pee=Hr(()=>({}),"swallowError"),gee=Hr(async(e={})=>(0,fee.slurpFile)(e.configFilepath??ER()).then(_0).then(mee).catch(pee),"loadSsoSessionData"),hee=Hr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),vee=Hr(async e=>{let t=await CR(e);return hee(t.configFile,t.credentialsFile)},"parseKnownFiles")});var xR=h((K5e,PR)=>{u();var Nm=Object.defineProperty,_ee=Object.getOwnPropertyDescriptor,yee=Object.getOwnPropertyNames,See=Object.prototype.hasOwnProperty,ca=(e,t)=>Nm(e,"name",{value:t,configurable:!0}),Eee=(e,t)=>{for(var r in t)Nm(e,r,{get:t[r],enumerable:!0})},Cee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yee(t))!See.call(e,i)&&i!==r&&Nm(e,i,{get:()=>t[i],enumerable:!(n=_ee(t,i))||n.enumerable});return e},bee=e=>Cee(Nm({},"__esModule",{value:!0}),e),wR={};Eee(wR,{loadConfig:()=>Aee});PR.exports=bee(wR);var Gl=ft();function E0(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ca(E0,"getSelectorName");var wee=ca((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Gl.CredentialsProviderError(r.message||`Not found in ENV: ${E0(e.toString())}`,{logger:t})}},"fromEnv"),bR=S0(),Pee=ca((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,bR.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,bR.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new Gl.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${E0(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),xee=ca(e=>typeof e=="function","isFunction"),Oee=ca(e=>xee(e)?async()=>await e():(0,Gl.fromStatic)(e),"fromStatic"),Aee=ca(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Gl.memoize)((0,Gl.chain)(wee(e),Pee(t,n),Oee(r))),"loadConfig")});var kR=h(Bm=>{"use strict";u();Object.defineProperty(Bm,"__esModule",{value:!0});Bm.getEndpointUrlConfig=void 0;var OR=S0(),AR="AWS_ENDPOINT_URL",RR="endpoint_url",Ree=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[AR,...r].join("_")];if(n)return n;let i=t[AR];if(i)return i},configFileSelector:(t,r)=>{if(r&&t.services){let i=r[["services",t.services].join(OR.CONFIG_PREFIX_SEPARATOR)];if(i){let o=e.split(" ").map(c=>c.toLowerCase()),s=i[[o.join("_"),RR].join(OR.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[RR];if(n)return n},default:void 0});Bm.getEndpointUrlConfig=Ree});var IR=h(Dm=>{"use strict";u();Object.defineProperty(Dm,"__esModule",{value:!0});Dm.getEndpointFromConfig=void 0;var kee=xR(),Iee=kR(),Tee=async e=>(0,kee.loadConfig)((0,Iee.getEndpointUrlConfig)(e))();Dm.getEndpointFromConfig=Tee});var DR=h((Z5e,BR)=>{u();var Fm=Object.defineProperty,Nee=Object.getOwnPropertyDescriptor,Bee=Object.getOwnPropertyNames,Dee=Object.prototype.hasOwnProperty,Fee=(e,t)=>Fm(e,"name",{value:t,configurable:!0}),Lee=(e,t)=>{for(var r in t)Fm(e,r,{get:t[r],enumerable:!0})},jee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Bee(t))!Dee.call(e,i)&&i!==r&&Fm(e,i,{get:()=>t[i],enumerable:!(n=Nee(t,i))||n.enumerable});return e},Mee=e=>jee(Fm({},"__esModule",{value:!0}),e),TR={};Lee(TR,{parseQueryString:()=>NR});BR.exports=Mee(TR);function NR(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}Fee(NR,"parseQueryString")});var Fo=h((tze,jR)=>{u();var Lm=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,Uee=Object.getOwnPropertyNames,Hee=Object.prototype.hasOwnProperty,Gee=(e,t)=>Lm(e,"name",{value:t,configurable:!0}),$ee=(e,t)=>{for(var r in t)Lm(e,r,{get:t[r],enumerable:!0})},zee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Uee(t))!Hee.call(e,i)&&i!==r&&Lm(e,i,{get:()=>t[i],enumerable:!(n=qee(t,i))||n.enumerable});return e},Vee=e=>zee(Lm({},"__esModule",{value:!0}),e),FR={};$ee(FR,{parseUrl:()=>LR});jR.exports=Vee(FR);var Kee=DR(),LR=Gee(e=>{if(typeof e=="string")return LR(new URL(e));let{hostname:t,pathname:r,port:n,protocol:i,search:o}=e,s;return o&&(s=(0,Kee.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}},"parseUrl")});var Lo=h((nze,zR)=>{u();var jm=Object.defineProperty,Wee=Object.getOwnPropertyDescriptor,Xee=Object.getOwnPropertyNames,Jee=Object.prototype.hasOwnProperty,C0=(e,t)=>jm(e,"name",{value:t,configurable:!0}),Yee=(e,t)=>{for(var r in t)jm(e,r,{get:t[r],enumerable:!0})},Qee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Xee(t))!Jee.call(e,i)&&i!==r&&jm(e,i,{get:()=>t[i],enumerable:!(n=Wee(t,i))||n.enumerable});return e},Zee=e=>Qee(jm({},"__esModule",{value:!0}),e),MR={};Yee(MR,{deserializerMiddleware:()=>qR,deserializerMiddlewareOption:()=>HR,getSerdePlugin:()=>$R,serializerMiddleware:()=>UR,serializerMiddlewareOption:()=>GR});zR.exports=Zee(MR);var qR=C0((e,t)=>r=>async n=>{let{response:i}=await r(n);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+s,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},"deserializerMiddleware"),UR=C0((e,t)=>(r,n)=>async i=>{var o;let s=(o=n.endpointV2)!=null&&o.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let c=await t(i.input,{...e,endpoint:s});return r({...i,request:c})},"serializerMiddleware"),HR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},GR={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $R(e,t,r){return{applyToStack:n=>{n.add(qR(e,r),HR),n.add(UR(e,t),GR)}}}C0($R,"getSerdePlugin")});var Mi=h((oze,QR)=>{u();var qm=Object.defineProperty,ete=Object.getOwnPropertyDescriptor,tte=Object.getOwnPropertyNames,rte=Object.prototype.hasOwnProperty,wn=(e,t)=>qm(e,"name",{value:t,configurable:!0}),nte=(e,t)=>{for(var r in t)qm(e,r,{get:t[r],enumerable:!0})},ite=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tte(t))!rte.call(e,i)&&i!==r&&qm(e,i,{get:()=>t[i],enumerable:!(n=ete(t,i))||n.enumerable});return e},ote=e=>ite(qm({},"__esModule",{value:!0}),e),KR={};nte(KR,{endpointMiddleware:()=>JR,endpointMiddlewareOptions:()=>YR,getEndpointFromInstructions:()=>WR,getEndpointPlugin:()=>gte,resolveEndpointConfig:()=>hte,resolveParams:()=>XR,toEndpointV1:()=>b0});QR.exports=ote(KR);var ste=wn(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ute(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!dte(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),ate=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,cte=/(\d+\.){3}\d+/,lte=/\.\./,dte=wn(e=>ate.test(e)&&!cte.test(e)&&!lte.test(e),"isDnsCompatibleBucketName"),ute=wn(e=>{let[t,r,n,,,i]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,s=!!(o&&r&&n&&i);if(o&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),mte=wn((e,t,r)=>{let n=wn(async()=>{let i=r[e]??r[t];return typeof i=="function"?i():i},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:c,path:l}=i;return`${o}//${s}${c?":"+c:""}${l}`}}return i}:n},"createConfigValueProvider"),fte=IR(),VR=Fo(),b0=wn(e=>typeof e=="object"?"url"in e?(0,VR.parseUrl)(e.url):e:(0,VR.parseUrl)(e),"toEndpointV1"),WR=wn(async(e,t,r,n)=>{if(!r.endpoint){let s=await(0,fte.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(b0(s)))}let i=await XR(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},"getEndpointFromInstructions"),XR=wn(async(e,t,r)=>{var n;let i={},o=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[s,c]of Object.entries(o))switch(c.type){case"staticContextParams":i[s]=c.value;break;case"contextParams":i[s]=e[c.name];break;case"clientContextParams":case"builtInParams":i[s]=await mte(c.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(c))}return Object.keys(o).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await ste(i),i},"resolveParams"),Mm=Ur(),JR=wn(({config:e,instructions:t})=>(r,n)=>async i=>{var o,s,c;let l=await WR(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=l,n.authSchemes=(o=l.properties)==null?void 0:o.authSchemes;let m=(s=n.authSchemes)==null?void 0:s[0];if(m){n.signing_region=m.signingRegion,n.signing_service=m.signingName;let f=(0,Mm.getSmithyContext)(n),g=(c=f?.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;g&&(g.signingProperties=Object.assign(g.signingProperties||{},{signing_region:m.signingRegion,signingRegion:m.signingRegion,signing_service:m.signingName,signingName:m.signingName,signingRegionSet:m.signingRegionSet},m.properties))}return r({...i})},"endpointMiddleware"),pte=Lo(),YR={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:pte.serializerMiddlewareOption.name},gte=wn((e,t)=>({applyToStack:r=>{r.addRelativeTo(JR({config:e,instructions:t}),YR)}}),"getEndpointPlugin"),hte=wn(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>b0(await(0,Mm.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Mm.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Mm.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});var ZR,ek,vte,tk=oe(()=>{u();ZR=Ve(Mi());bm();ek={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ZR.endpointMiddlewareOptions.name},vte=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ql(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ek)}})});var rk,nk,_te,ik=oe(()=>{u();rk=Ve(Lo());bm();nk={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:rk.serializerMiddlewareOption.name},_te=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ql(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),nk)}})});var ok=oe(()=>{u();bm();tk();ik()});var sk,_ze,ak,yte,Ste,w0,P0=oe(()=>{u();sk=Ve(Ke()),_ze=Ve(ut()),ak=Ve(Ur()),yte=e=>t=>{throw t},Ste=(e,t)=>{},w0=e=>(t,r)=>async n=>{if(!sk.HttpRequest.isInstance(n.request))return t(n);let o=(0,ak.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:c,signer:l}=o,m=await t({...n,request:await l.sign(n.request,c,s)}).catch((l.errorHandler||yte)(s));return(l.successHandler||Ste)(m.response,s),m}});import Ete from"crypto";function $l(){return Um>Hm.length-16&&(Ete.randomFillSync(Hm),Um=0),Hm.slice(Um,Um+=16)}var Hm,Um,x0=oe(()=>{u();Hm=new Uint8Array(256),Um=Hm.length});var ck,lk=oe(()=>{u();ck=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Cte(e){return typeof e=="string"&&ck.test(e)}var qi,zl=oe(()=>{u();lk();qi=Cte});function jo(e,t=0){return Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]}function bte(e,t=0){let r=jo(e,t);if(!qi(r))throw TypeError("Stringified UUID is invalid");return r}var Vt,dk,Vl=oe(()=>{u();zl();Vt=[];for(let e=0;e<256;++e)Vt.push((e+256).toString(16).slice(1));dk=bte});function wte(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||uk,s=e.clockseq!==void 0?e.clockseq:O0;if(o==null||s==null){let y=e.random||(e.rng||$l)();o==null&&(o=uk=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),s==null&&(s=O0=(y[6]<<8|y[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:R0+1,m=c-A0+(l-R0)/1e4;if(m<0&&e.clockseq===void 0&&(s=s+1&16383),(m<0||c>A0)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");A0=c,R0=l,O0=s,c+=122192928e5;let f=((c&268435455)*1e4+l)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;let g=c/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let y=0;y<6;++y)i[n+y]=o[y];return t||jo(i)}var uk,O0,A0,R0,mk,fk=oe(()=>{u();x0();Vl();A0=0,R0=0;mk=wte});function Pte(e){if(!qi(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Gm,k0=oe(()=>{u();zl();Gm=Pte});function xte(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Kl(e,t,r){function n(i,o,s,c){var l;if(typeof i=="string"&&(i=xte(i)),typeof o=="string"&&(o=Gm(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=r(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,s){c=c||0;for(let f=0;f<16;++f)s[c+f]=m[f];return s}return jo(m)}try{n.name=e}catch{}return n.DNS=Ote,n.URL=Ate,n}var Ote,Ate,I0=oe(()=>{u();Vl();k0();Ote="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ate="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Rte from"crypto";function kte(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Rte.createHash("md5").update(e).digest()}var pk,gk=oe(()=>{u();pk=kte});var Ite,hk,vk=oe(()=>{u();I0();gk();Ite=Kl("v3",48,pk),hk=Ite});import Tte from"crypto";var T0,_k=oe(()=>{u();T0={randomUUID:Tte.randomUUID}});function Nte(e,t,r){if(T0.randomUUID&&!t&&!e)return T0.randomUUID();e=e||{};let n=e.random||(e.rng||$l)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return jo(n)}var yk,Sk=oe(()=>{u();_k();x0();Vl();yk=Nte});import Bte from"crypto";function Dte(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Bte.createHash("sha1").update(e).digest()}var Ek,Ck=oe(()=>{u();Ek=Dte});var Fte,bk,wk=oe(()=>{u();I0();Ck();Fte=Kl("v5",80,Ek),bk=Fte});var Pk,xk=oe(()=>{u();Pk="00000000-0000-0000-0000-000000000000"});function Lte(e){if(!qi(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Ok,Ak=oe(()=>{u();zl();Ok=Lte});var Rk={};Nu(Rk,{NIL:()=>Pk,parse:()=>Gm,stringify:()=>dk,v1:()=>mk,v3:()=>hk,v4:()=>yk,v5:()=>bk,validate:()=>qi,version:()=>Ok});var kk=oe(()=>{u();fk();vk();Sk();wk();xk();Ak();zl();Vl();k0()});var N0=h((O6e,Bk)=>{u();var $m=Object.defineProperty,jte=Object.getOwnPropertyDescriptor,Mte=Object.getOwnPropertyNames,qte=Object.prototype.hasOwnProperty,la=(e,t)=>$m(e,"name",{value:t,configurable:!0}),Ute=(e,t)=>{for(var r in t)$m(e,r,{get:t[r],enumerable:!0})},Hte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mte(t))!qte.call(e,i)&&i!==r&&$m(e,i,{get:()=>t[i],enumerable:!(n=jte(t,i))||n.enumerable});return e},Gte=e=>Hte($m({},"__esModule",{value:!0}),e),Ik={};Ute(Ik,{isClockSkewCorrectedError:()=>Tk,isClockSkewError:()=>Jte,isRetryableByTrait:()=>Xte,isServerError:()=>Qte,isThrottlingError:()=>Yte,isTransientError:()=>Nk});Bk.exports=Gte(Ik);var $te=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],zte=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Vte=["TimeoutError","RequestTimeout","RequestTimeoutException"],Kte=[500,502,503,504],Wte=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Xte=la(e=>e.$retryable!==void 0,"isRetryableByTrait"),Jte=la(e=>$te.includes(e.name),"isClockSkewError"),Tk=la(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),Yte=la(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||zte.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),Nk=la(e=>{var t;return Tk(e)||Vte.includes(e.name)||Wte.includes(e?.code||"")||Kte.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Qte=la(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Nk(e)}return!1},"isServerError")});var da=h((N6e,Kk)=>{u();var zm=Object.defineProperty,Zte=Object.getOwnPropertyDescriptor,ere=Object.getOwnPropertyNames,tre=Object.prototype.hasOwnProperty,Pn=(e,t)=>zm(e,"name",{value:t,configurable:!0}),rre=(e,t)=>{for(var r in t)zm(e,r,{get:t[r],enumerable:!0})},nre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ere(t))!tre.call(e,i)&&i!==r&&zm(e,i,{get:()=>t[i],enumerable:!(n=Zte(t,i))||n.enumerable});return e},ire=e=>nre(zm({},"__esModule",{value:!0}),e),Fk={};rre(Fk,{AdaptiveRetryStrategy:()=>dre,ConfiguredRetryStrategy:()=>ure,DEFAULT_MAX_ATTEMPTS:()=>B0,DEFAULT_RETRY_DELAY_BASE:()=>Wl,DEFAULT_RETRY_MODE:()=>ore,DefaultRateLimiter:()=>Mk,INITIAL_RETRY_TOKENS:()=>D0,INVOCATION_ID_HEADER:()=>are,MAXIMUM_RETRY_DELAY:()=>F0,NO_RETRY_INCREMENT:()=>Gk,REQUEST_HEADER:()=>cre,RETRY_COST:()=>Uk,RETRY_MODES:()=>Lk,StandardRetryStrategy:()=>L0,THROTTLING_RETRY_DELAY_BASE:()=>qk,TIMEOUT_RETRY_COST:()=>Hk});Kk.exports=ire(Fk);var Lk=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Lk||{}),B0=3,ore="standard",sre=N0(),jk=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,sre.isThrottlingError)(t)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Pn(jk,"DefaultRateLimiter");var Mk=jk,Wl=100,F0=20*1e3,qk=500,D0=500,Uk=5,Hk=10,Gk=1,are="amz-sdk-invocation-id",cre="amz-sdk-request",lre=Pn(()=>{let e=Wl;return{computeNextBackoffDelay:Pn(n=>Math.floor(Math.min(F0,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Pn(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Dk=Pn(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Pn(()=>t,"getRetryCount"),getRetryDelay:Pn(()=>Math.min(F0,e),"getRetryDelay"),getRetryCost:Pn(()=>r,"getRetryCost")}),"createDefaultRetryToken"),$k=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=D0,this.retryBackoffStrategy=lre(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Dk({retryDelay:Wl,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?qk:Wl);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(i);return this.capacity-=c,Dk({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(D0,this.capacity+(t.getRetryCost()??Gk))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${B0}`),B0}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Hk:Uk}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Pn($k,"StandardRetryStrategy");var L0=$k,zk=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new Mk,this.standardRetryStrategy=new L0(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Pn(zk,"AdaptiveRetryStrategy");var dre=zk,Vk=class extends L0{constructor(t,r=Wl){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Pn(Vk,"ConfiguredRetryStrategy");var ure=Vk});var Wk=h(Vm=>{"use strict";u();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.isStreamingPayload=void 0;var mre=P("stream"),fre=e=>e?.body instanceof mre.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Vm.isStreamingPayload=fre});var $n=h((M6e,uI)=>{u();var Km=Object.defineProperty,pre=Object.getOwnPropertyDescriptor,gre=Object.getOwnPropertyNames,hre=Object.prototype.hasOwnProperty,Ct=(e,t)=>Km(e,"name",{value:t,configurable:!0}),vre=(e,t)=>{for(var r in t)Km(e,r,{get:t[r],enumerable:!0})},_re=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gre(t))!hre.call(e,i)&&i!==r&&Km(e,i,{get:()=>t[i],enumerable:!(n=pre(t,i))||n.enumerable});return e},yre=e=>_re(Km({},"__esModule",{value:!0}),e),Jk={};vre(Jk,{AdaptiveRetryStrategy:()=>Cre,CONFIG_MAX_ATTEMPTS:()=>M0,CONFIG_RETRY_MODE:()=>oI,ENV_MAX_ATTEMPTS:()=>j0,ENV_RETRY_MODE:()=>iI,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>bre,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Pre,StandardRetryStrategy:()=>rI,defaultDelayDecider:()=>Qk,defaultRetryDecider:()=>Zk,getOmitRetryHeadersPlugin:()=>xre,getRetryAfterHint:()=>dI,getRetryPlugin:()=>Tre,omitRetryHeadersMiddleware:()=>sI,omitRetryHeadersMiddlewareOptions:()=>aI,resolveRetryConfig:()=>wre,retryMiddleware:()=>cI,retryMiddlewareOptions:()=>lI});uI.exports=yre(Jk);var ua=Ke(),Yk=(kk(),ve(Rk)),st=da(),Sre=Ct((e,t)=>{let r=e,n=t?.noRetryIncrement??st.NO_RETRY_INCREMENT,i=t?.retryCost??st.RETRY_COST,o=t?.timeoutRetryCost??st.TIMEOUT_RETRY_COST,s=e,c=Ct(g=>g.name==="TimeoutError"?o:i,"getCapacityAmount"),l=Ct(g=>c(g)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:Ct(g=>{if(!l(g))throw new Error("No retry token available");let y=c(g);return s-=y,y},"retrieveRetryTokens"),releaseRetryTokens:Ct(g=>{s+=g??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Qk=Ct((e,t)=>Math.floor(Math.min(st.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Ui=N0(),Zk=Ct(e=>e?(0,Ui.isRetryableByTrait)(e)||(0,Ui.isClockSkewError)(e)||(0,Ui.isThrottlingError)(e)||(0,Ui.isTransientError)(e):!1,"defaultRetryDecider"),eI=Ct(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),tI=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=st.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??Zk,this.delayDecider=r?.delayDecider??Qk,this.retryQuota=r?.retryQuota??Sre(st.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=st.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let i,o=0,s=0,c=await this.getMaxAttempts(),{request:l}=r;for(ua.HttpRequest.isInstance(l)&&(l.headers[st.INVOCATION_ID_HEADER]=(0,Yk.v4)());;)try{ua.HttpRequest.isInstance(l)&&(l.headers[st.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:m,output:f}=await t(r);return n?.afterRequest&&n.afterRequest(m),this.retryQuota.releaseRetryTokens(i),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=s,{response:m,output:f}}catch(m){let f=eI(m);if(o++,this.shouldRetry(f,o,c)){i=this.retryQuota.retrieveRetryTokens(f);let g=this.delayDecider((0,Ui.isThrottlingError)(f)?st.THROTTLING_RETRY_DELAY_BASE:st.DEFAULT_RETRY_DELAY_BASE,o),y=Ere(f.$response),S=Math.max(y||0,g);s+=S,await new Promise(b=>setTimeout(b,S));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=s,f}}};Ct(tI,"StandardRetryStrategy");var rI=tI,Ere=Ct(e=>{if(!ua.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),nI=class extends rI{constructor(t,r){let{rateLimiter:n,...i}=r??{};super(t,i),this.rateLimiter=n??new st.DefaultRateLimiter,this.mode=st.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Ct(nI,"AdaptiveRetryStrategy");var Cre=nI,Xk=Ur(),j0="AWS_MAX_ATTEMPTS",M0="max_attempts",bre={environmentVariableSelector:e=>{let t=e[j0];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${j0} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[M0];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${M0} mast be a number, got "${t}"`);return r},default:st.DEFAULT_MAX_ATTEMPTS},wre=Ct(e=>{let{retryStrategy:t}=e,r=(0,Xk.normalizeProvider)(e.maxAttempts??st.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,Xk.normalizeProvider)(e.retryMode)()===st.RETRY_MODES.ADAPTIVE?new st.AdaptiveRetryStrategy(r):new st.StandardRetryStrategy(r))}},"resolveRetryConfig"),iI="AWS_RETRY_MODE",oI="retry_mode",Pre={environmentVariableSelector:e=>e[iI],configFileSelector:e=>e[oI],default:st.DEFAULT_RETRY_MODE},sI=Ct(()=>e=>async t=>{let{request:r}=t;return ua.HttpRequest.isInstance(r)&&(delete r.headers[st.INVOCATION_ID_HEADER],delete r.headers[st.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),aI={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},xre=Ct(e=>({applyToStack:t=>{t.addRelativeTo(sI(),aI)}}),"getOmitRetryHeadersPlugin"),Ore=We(),Are=Wk(),cI=Ct(e=>(t,r)=>async n=>{var i;let o=await e.retryStrategy(),s=await e.maxAttempts();if(Rre(o)){o=o;let c=await o.acquireInitialRetryToken(r.partition_id),l=new Error,m=0,f=0,{request:g}=n,y=ua.HttpRequest.isInstance(g);for(y&&(g.headers[st.INVOCATION_ID_HEADER]=(0,Yk.v4)());;)try{y&&(g.headers[st.REQUEST_HEADER]=`attempt=${m+1}; max=${s}`);let{response:S,output:b}=await t(n);return o.recordSuccess(c),b.$metadata.attempts=m+1,b.$metadata.totalRetryDelay=f,{response:S,output:b}}catch(S){let b=kre(S);if(l=eI(S),y&&(0,Are.isStreamingPayload)(g))throw(i=r.logger instanceof Ore.NoOpLogger?console:r.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),l;try{c=await o.refreshRetryTokenForRetry(c,b)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=m+1,l.$metadata.totalRetryDelay=f,l}m=c.getRetryCount();let I=c.getRetryDelay();f+=I,await new Promise(A=>setTimeout(A,I))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Rre=Ct(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),kre=Ct(e=>{let t={error:e,errorType:Ire(e)},r=dI(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Ire=Ct(e=>(0,Ui.isThrottlingError)(e)?"THROTTLING":(0,Ui.isTransientError)(e)?"TRANSIENT":(0,Ui.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),lI={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Tre=Ct(e=>({applyToStack:t=>{t.add(cI(e),lI)}}),"getRetryPlugin"),dI=Ct(e=>{if(!ua.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var mI,fI,Nre,pI=oe(()=>{u();mI=Ve($n());P0();fI={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:mI.retryMiddlewareOptions.name},Nre=e=>({applyToStack:t=>{t.addRelativeTo(w0(e),fI)}})});var gI=oe(()=>{u();P0();pI()});var q0,hI=oe(()=>{u();q0=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var vI,U0,H0,_I=oe(()=>{u();vI=Ve(Ke()),U0=Ve(ut()),H0=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let i=vI.HttpRequest.clone(t);if(n.in===U0.HttpApiKeyAuthLocation.QUERY)i.query[n.name]=r.apiKey;else if(n.in===U0.HttpApiKeyAuthLocation.HEADER)i.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return i}}});var yI,G0,SI=oe(()=>{u();yI=Ve(Ke()),G0=class{async sign(t,r,n){let i=yI.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return i.headers.Authorization=`Bearer ${r.token}`,i}}});var $0,EI=oe(()=>{u();$0=class{async sign(t,r,n){return t}}});var CI=oe(()=>{u();_I();SI();EI()});var bI,Bre,z0,Wm,V0,wI=oe(()=>{u();bI=e=>t=>Wm(t)&&t.expiration.getTime()-Date.now()<e,Bre=3e5,z0=bI(3e5),Wm=e=>e.expiration!==void 0,V0=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,i,o,s,c=!1,l=async m=>{o||(o=n(m));try{i=await o,s=!0,c=!1}finally{o=void 0}return i};return t===void 0?async m=>((!s||m?.forceRefresh)&&(i=await l(m)),i):async m=>((!s||m?.forceRefresh)&&(i=await l(m)),c?i:r(i)?(t(i)&&await l(m),i):(c=!0,i))}});var PI=oe(()=>{u();hI();CI();wI()});var K0,Dre,xI=oe(()=>{u();K0=Ve(ut()),Dre=e=>e[K0.SMITHY_CONTEXT_KEY]||(e[K0.SMITHY_CONTEXT_KEY]={})});var Hi,OI=oe(()=>{u();Hi=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Fre(e,t){return new Xm(e,t)}var AI,RI,Xm,kI=oe(()=>{u();AI=Ve(Ke()),RI=Ve(We());Xm=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(let o of this.resolvePathStack)o(this.path);return new AI.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,i){return this.resolvePathStack.push(o=>{this.path=(0,RI.resolvedPath)(o,this.input,t,r,n,i)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function II(e,t,r,n,i){return async function*(s,c,...l){let m=s.startingToken||void 0,f=!0,g;for(;f;){if(c[r]=m,i&&(c[i]=c[i]??s.pageSize),s.client instanceof e)g=await Lre(t,s.client,c,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let y=m;m=jre(g,n),f=!!(m&&(!s.stopOnSameToken||m!==y))}return void 0}}var Lre,jre,TI=oe(()=>{u();Lre=async(e,t,r,...n)=>await t.send(new e(r),...n);jre=(e,t)=>{let r=e,n=t.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var ar={};Nu(ar,{DefaultIdentityProviderConfig:()=>q0,EXPIRATION_MS:()=>Bre,HttpApiKeyAuthSigner:()=>H0,HttpBearerAuthSigner:()=>G0,NoAuthSigner:()=>$0,RequestBuilder:()=>Xm,createIsIdentityExpiredFunction:()=>bI,createPaginator:()=>II,doesIdentityRequireRefresh:()=>Wm,getHttpAuthSchemeEndpointRuleSetPlugin:()=>vte,getHttpAuthSchemePlugin:()=>_te,getHttpSigningPlugin:()=>Nre,getSmithyContext:()=>Dre,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>ek,httpAuthSchemeMiddleware:()=>ql,httpAuthSchemeMiddlewareOptions:()=>nk,httpSigningMiddleware:()=>w0,httpSigningMiddlewareOptions:()=>fI,isIdentityExpired:()=>z0,memoizeIdentityProvider:()=>V0,normalizeProvider:()=>Hi,requestBuilder:()=>Fre});var Kt=oe(()=>{u();ok();gI();PI();xI();OI();kI();TI()});var X0=h((k4e,BI)=>{u();var Jm=Object.defineProperty,Mre=Object.getOwnPropertyDescriptor,qre=Object.getOwnPropertyNames,Ure=Object.prototype.hasOwnProperty,W0=(e,t)=>Jm(e,"name",{value:t,configurable:!0}),Hre=(e,t)=>{for(var r in t)Jm(e,r,{get:t[r],enumerable:!0})},Gre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qre(t))!Ure.call(e,i)&&i!==r&&Jm(e,i,{get:()=>t[i],enumerable:!(n=Mre(t,i))||n.enumerable});return e},$re=e=>Gre(Jm({},"__esModule",{value:!0}),e),NI={};Hre(NI,{build:()=>Kre,parse:()=>Vre,validate:()=>zre});BI.exports=$re(NI);var zre=W0(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),Vre=W0(e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,n,i,o,...s]=t;return{partition:r,service:n,region:i,accountId:o,resource:s.join(":")}},"parse"),Kre=W0(e=>{let{partition:t="aws",service:r,region:n,accountId:i,resource:o}=e;if([r,n,i,o].some(s=>typeof s!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${n}:${i}:${o}`},"build")});var ee=h((B4e,iT)=>{"use strict";u();var Zm=Object.defineProperty,Wre=Object.getOwnPropertyDescriptor,Xre=Object.getOwnPropertyNames,Jre=Object.prototype.hasOwnProperty,Te=(e,t)=>Zm(e,"name",{value:t,configurable:!0}),Yre=(e,t)=>{for(var r in t)Zm(e,r,{get:t[r],enumerable:!0})},Qre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Xre(t))!Jre.call(e,i)&&i!==r&&Zm(e,i,{get:()=>t[i],enumerable:!(n=Wre(t,i))||n.enumerable});return e},Zre=e=>Qre(Zm({},"__esModule",{value:!0}),e),FI={};Yre(FI,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>dne,S3ExpressIdentityCache:()=>zI,S3ExpressIdentityCacheEntry:()=>Qm,S3ExpressIdentityProviderImpl:()=>WI,SignatureV4S3Express:()=>une,checkContentLengthHeader:()=>ey,checkContentLengthHeaderMiddlewareOptions:()=>jI,getCheckContentLengthHeaderPlugin:()=>tne,getRegionRedirectMiddlewarePlugin:()=>rne,getS3ExpiresMiddlewarePlugin:()=>nne,getS3ExpressHttpSigningPlugin:()=>_ne,getS3ExpressPlugin:()=>mne,getThrow200ExceptionsPlugin:()=>bne,getValidateBucketNamePlugin:()=>xne,regionRedirectEndpointMiddleware:()=>MI,regionRedirectEndpointMiddlewareOptions:()=>qI,regionRedirectMiddleware:()=>ty,regionRedirectMiddlewareOptions:()=>UI,resolveS3Config:()=>yne,s3ExpiresMiddleware:()=>HI,s3ExpiresMiddlewareOptions:()=>GI,s3ExpressHttpSigningMiddleware:()=>ZI,s3ExpressHttpSigningMiddlewareOptions:()=>vne,s3ExpressMiddleware:()=>JI,s3ExpressMiddlewareOptions:()=>YI,throw200ExceptionsMiddleware:()=>eT,throw200ExceptionsMiddlewareOptions:()=>tT,validateBucketNameMiddleware:()=>iy,validateBucketNameMiddlewareOptions:()=>nT});iT.exports=Zre(FI);var Xl=Ke(),LI=We(),ene="content-length";function ey(){return(e,t)=>async r=>{var n;let{request:i}=r;if(Xl.HttpRequest.isInstance(i)&&!(ene in i.headers)){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((n=t?.logger)==null?void 0:n.warn)=="function"&&!(t.logger instanceof LI.NoOpLogger)?t.logger.warn(o):console.warn(o)}return e({...r})}}Te(ey,"checkContentLengthHeader");var jI={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},tne=Te(e=>({applyToStack:t=>{t.add(ey(),jI)}}),"getCheckContentLengthHeaderPlugin"),MI=Te(e=>(t,r)=>async n=>{let i=await e.region(),o=e.region,s=Te(()=>{},"unlock");r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),s=Te(()=>Object.defineProperty(e,"region",{writable:!0,value:o}),"unlock"));try{let c=await t(n);if(r.__s3RegionRedirect){s();let l=await e.region();if(i!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw s(),c}},"regionRedirectEndpointMiddleware"),qI={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function ty(e){return(t,r)=>async n=>{var i,o;try{return await t(n)}catch(s){if(e.followRegionRedirects&&((i=s?.$metadata)==null?void 0:i.httpStatusCode)===301){try{let c=s.$response.headers["x-amz-bucket-region"];(o=r.logger)==null||o.debug(`Redirecting from ${await e.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(n)}else throw s}}}Te(ty,"regionRedirectMiddleware");var UI={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},rne=Te(e=>({applyToStack:t=>{t.add(ty(e),UI),t.addRelativeTo(MI(e),qI)}}),"getRegionRedirectMiddlewarePlugin"),HI=Te(e=>(t,r)=>async n=>{var i;let o=await t(n),{response:s}=o;if(Xl.HttpResponse.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{(0,LI.parseRfc7231DateTime)(s.headers.expires)}catch(c){(i=r.logger)==null||i.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${c}`),delete s.headers.expires}}return o},"s3ExpiresMiddleware"),GI={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},nne=Te(e=>({applyToStack:t=>{t.addRelativeTo(HI(e),GI)}}),"getS3ExpiresMiddlewarePlugin"),ry=class $I{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+$I.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let i=await n.identity;i.expiration&&i.expiration.getTime()<t&&delete this.data[r]}}}};Te(ry,"S3ExpressIdentityCache");ry.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;var zI=ry,VI=class{constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}};Te(VI,"S3ExpressIdentityCacheEntry");var Qm=VI,ny=class KI{constructor(t,r=new zI){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:i}=this,o=i.get(n);return o?o.identity.then(s=>{var c,l;return(((c=s.expiration)==null?void 0:c.getTime())??0)<Date.now()?i.set(n,new Qm(this.getIdentity(n))).identity:((((l=s.expiration)==null?void 0:l.getTime())??0)<Date.now()+KI.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(n).then(g=>{i.set(n,new Qm(Promise.resolve(g)))})),s)}):i.set(n,new Qm(this.getIdentity(n))).identity}async getIdentity(t){var r,n;await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let i=await this.createSessionFn(t);if(!((r=i.Credentials)!=null&&r.AccessKeyId)||!((n=i.Credentials)!=null&&n.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretAccessKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration?new Date(i.Credentials.Expiration):void 0}}};Te(ny,"S3ExpressIdentityProviderImpl");ny.REFRESH_WINDOW_MS=6e4;var WI=ny,ine=m0(),Ym=Cm(),one="Directory",sne="S3Express",ane="sigv4-s3express",J0="X-Amz-S3session-Token",Y0=J0.toLowerCase(),cne="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",lne="s3_disable_express_session_auth",dne={environmentVariableSelector:e=>(0,Ym.booleanSelector)(e,cne,Ym.SelectorType.ENV),configFileSelector:e=>(0,Ym.booleanSelector)(e,lne,Ym.SelectorType.CONFIG),default:!1},XI=class extends ine.SignatureV4{async signWithCredentials(t,r,n){let i=Q0(r);t.headers[Y0]=r.sessionToken;let o=this;return Z0(o,i),o.signRequest(t,n??{})}async presignWithCredentials(t,r,n){let i=Q0(r);return delete t.headers[Y0],t.headers[J0]=r.sessionToken,t.query=t.query??{},t.query[J0]=r.sessionToken,Z0(this,i),this.presign(t,n)}};Te(XI,"SignatureV4S3Express");var une=XI;function Q0(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}Te(Q0,"getCredentialsWithoutSessionToken");function Z0(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,i=Te(()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t)),"overrideCredentialsProviderOnce");e.credentialProvider=i}Te(Z0,"setSingleOverride");var JI=Te(e=>(t,r)=>async n=>{var i,o,s,c,l;if(r.endpointV2){let m=r.endpointV2,f=((s=(o=(i=m.properties)==null?void 0:i.authSchemes)==null?void 0:o[0])==null?void 0:s.name)===ane;if((((c=m.properties)==null?void 0:c.backend)===sne||((l=m.properties)==null?void 0:l.bucketType)===one)&&(r.isS3ExpressBucket=!0),f){let y=n.input.Bucket;if(y){let S=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:y});r.s3ExpressIdentity=S,Xl.HttpRequest.isInstance(n.request)&&S.sessionToken&&(n.request.headers[Y0]=S.sessionToken)}}}return t(n)},"s3ExpressMiddleware"),YI={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},mne=Te(e=>({applyToStack:t=>{t.add(JI(e),YI)}}),"getS3ExpressPlugin"),QI=(Kt(),ve(ar)),fne=Ur(),pne=Te(async(e,t,r,n)=>{let i=await n.signWithCredentials(r,e,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i},"signS3Express"),gne=Te(e=>t=>{throw t},"defaultErrorHandler"),hne=Te((e,t)=>{},"defaultSuccessHandler"),vne=QI.httpSigningMiddlewareOptions,ZI=Te(e=>(t,r)=>async n=>{if(!Xl.HttpRequest.isInstance(n.request))return t(n);let o=(0,fne.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:c,signer:l}=o,m;r.s3ExpressIdentity?m=await pne(r.s3ExpressIdentity,s,n.request,await e.signer()):m=await l.sign(n.request,c,s);let f=await t({...n,request:m}).catch((l.errorHandler||gne)(s));return(l.successHandler||hne)(f.response,s),f},"s3ExpressHttpSigningMiddleware"),_ne=Te(e=>({applyToStack:t=>{t.addRelativeTo(ZI(e),QI.httpSigningMiddlewareOptions)}}),"getS3ExpressHttpSigningPlugin"),yne=Te((e,{session:t})=>{let[r,n]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new WI(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"}))),bucketEndpoint:e.bucketEndpoint??!1}},"resolveS3Config"),DI=Nl(),Sne={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Ene=3e3,eT=Te(e=>(t,r)=>async n=>{let i=await t(n),{response:o}=i;if(!Xl.HttpResponse.isInstance(o))return i;let{statusCode:s,body:c}=o;if(s<200||s>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return i;let m=c,f=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([m,f]=await(0,DI.splitStream)(c)),o.body=f;let g=await Cne(m,{streamCollector:async S=>(0,DI.headStream)(S,Ene)});typeof m?.destroy=="function"&&m.destroy();let y=e.utf8Encoder(g.subarray(g.length-16));if(g.length===0&&Sne[r.commandName]){let S=new Error("S3 aborted request");throw S.name="InternalError",S}return y&&y.endsWith("</Error>")&&(o.statusCode=400),i},"throw200ExceptionsMiddleware"),Cne=Te((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),"collectBody"),tT={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},bne=Te(e=>({applyToStack:t=>{t.addRelativeTo(eT(e),tT)}}),"getThrow200ExceptionsPlugin"),wne=X0();function rT(e){return(t,r)=>async n=>{var i,o,s,c;if(e.bucketEndpoint){let l=r.endpointV2;if(l){let m=n.input.Bucket;if(typeof m=="string")try{let f=new URL(m);l.url=f}catch(f){let g=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${m} could not be parsed as URL.`;throw((o=(i=r.logger)==null?void 0:i.constructor)==null?void 0:o.name)==="NoOpLogger"?console.warn(g):(c=(s=r.logger)==null?void 0:s.warn)==null||c.call(s,g),f}}}return t(n)}}Te(rT,"bucketEndpointMiddleware");var Pne={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function iy({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!(0,wne.validate)(n)&&n.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw i.name="InvalidBucketName",i}return t({...r})}}Te(iy,"validateBucketNameMiddleware");var nT={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},xne=Te(e=>({applyToStack:t=>{t.add(iy(e),nT),t.addRelativeTo(rT(e),Pne)}}),"getValidateBucketNamePlugin")});var ma=h((L4e,pT)=>{u();var ef=Object.defineProperty,One=Object.getOwnPropertyDescriptor,Ane=Object.getOwnPropertyNames,Rne=Object.prototype.hasOwnProperty,Le=(e,t)=>ef(e,"name",{value:t,configurable:!0}),kne=(e,t)=>{for(var r in t)ef(e,r,{get:t[r],enumerable:!0})},Ine=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ane(t))!Rne.call(e,i)&&i!==r&&ef(e,i,{get:()=>t[i],enumerable:!(n=One(t,i))||n.enumerable});return e},Tne=e=>Ine(ef({},"__esModule",{value:!0}),e),oT={};kne(oT,{EndpointError:()=>Cr,customEndpointFunctions:()=>sy,isIpAddress:()=>sT,isValidHostLabel:()=>cy,resolveEndpoint:()=>Yne});pT.exports=Tne(oT);var Nne=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),sT=Le(e=>Nne.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),Bne=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),cy=Le((e,t=!1)=>{if(!t)return Bne.test(e);let r=e.split(".");for(let n of r)if(!cy(n))return!1;return!0},"isValidHostLabel"),sy={},Jl="endpoints";function gi(e){return typeof e!="object"||e==null?e:"ref"in e?`$${gi(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(gi).join(", ")})`:JSON.stringify(e,null,2)}Le(gi,"toDebugString");var aT=class extends Error{constructor(t){super(t),this.name="EndpointError"}};Le(aT,"EndpointError");var Cr=aT,Dne=Le((e,t)=>e===t,"booleanEquals"),Fne=Le(e=>{let t=e.split("."),r=[];for(let n of t){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Cr(`Path: '${e}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new Cr(`Invalid array index: '${o}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r},"getAttrPathList"),cT=Le((e,t)=>Fne(t).reduce((r,n)=>{if(typeof r!="object")throw new Cr(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),Lne=Le(e=>e!=null,"isSet"),jne=Le(e=>!e,"not"),ay=ut(),oy={[ay.EndpointURLScheme.HTTP]:80,[ay.EndpointURLScheme.HTTPS]:443},Mne=Le(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:S,protocol:b="",path:I="",query:A={}}=e,U=new URL(`${b}//${y}${S?`:${S}`:""}${I}`);return U.search=Object.entries(A).map(([Q,Ee])=>`${Q}=${Ee}`).join("&"),U}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:i,pathname:o,protocol:s,search:c}=t;if(c)return null;let l=s.slice(0,-1);if(!Object.values(ay.EndpointURLScheme).includes(l))return null;let m=sT(i),f=r.includes(`${n}:${oy[l]}`)||typeof e=="string"&&e.includes(`${n}:${oy[l]}`),g=`${n}${f?`:${oy[l]}`:""}`;return{scheme:l,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:m}},"parseURL"),qne=Le((e,t)=>e===t,"stringEquals"),Une=Le((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),Hne=Le(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Gne={booleanEquals:Dne,getAttr:cT,isSet:Lne,isValidHostLabel:cy,not:jne,parseURL:Mne,stringEquals:qne,substring:Une,uriEncode:Hne},lT=Le((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},i=0;for(;i<e.length;){let o=e.indexOf("{",i);if(o===-1){r.push(e.slice(i));break}r.push(e.slice(i,o));let s=e.indexOf("}",o);if(s===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(o+1,s)),i=s+2);let c=e.substring(o+1,s);if(c.includes("#")){let[l,m]=c.split("#");r.push(cT(n[l],m))}else r.push(n[c]);i=s+1}return r.join("")},"evaluateTemplate"),$ne=Le(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),tf=Le((e,t,r)=>{if(typeof e=="string")return lT(e,r);if(e.fn)return dT(e,r);if(e.ref)return $ne(e,r);throw new Cr(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),dT=Le(({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:tf(o,"arg",r)),i=e.split(".");return i[0]in sy&&i[1]!=null?sy[i[0]][i[1]](...n):Gne[e](...n)},"callFunction"),zne=Le(({assign:e,...t},r)=>{var n,i;if(e&&e in r.referenceRecord)throw new Cr(`'${e}' is already defined in Reference Record.`);let o=dT(t,r);return(i=(n=r.logger)==null?void 0:n.debug)==null||i.call(n,`${Jl} evaluateCondition: ${gi(t)} = ${gi(o)}`),{result:o===""?!0:!!o,...e!=null&&{toAssign:{name:e,value:o}}}},"evaluateCondition"),ly=Le((e=[],t)=>{var r,n;let i={};for(let o of e){let{result:s,toAssign:c}=zne(o,{...t,referenceRecord:{...t.referenceRecord,...i}});if(!s)return{result:s};c&&(i[c.name]=c.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Jl} assign: ${c.name} := ${gi(c.value)}`))}return{result:!0,referenceRecord:i}},"evaluateConditions"),Vne=Le((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=tf(o,"Header value entry",t);if(typeof s!="string")throw new Cr(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),uT=Le((e,t)=>{if(Array.isArray(e))return e.map(r=>uT(r,t));switch(typeof e){case"string":return lT(e,t);case"object":if(e===null)throw new Cr(`Unexpected endpoint property: ${e}`);return mT(e,t);case"boolean":return e;default:throw new Cr(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),mT=Le((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:uT(i,t)}),{}),"getEndpointProperties"),Kne=Le((e,t)=>{let r=tf(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Cr(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Wne=Le((e,t)=>{var r,n;let{conditions:i,endpoint:o}=e,{result:s,referenceRecord:c}=ly(i,t);if(!s)return;let l={...t,referenceRecord:{...t.referenceRecord,...c}},{url:m,properties:f,headers:g}=o;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Jl} Resolving endpoint from template: ${gi(o)}`),{...g!=null&&{headers:Vne(g,l)},...f!=null&&{properties:mT(f,l)},url:Kne(m,l)}},"evaluateEndpointRule"),Xne=Le((e,t)=>{let{conditions:r,error:n}=e,{result:i,referenceRecord:o}=ly(r,t);if(i)throw new Cr(tf(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},"evaluateErrorRule"),Jne=Le((e,t)=>{let{conditions:r,rules:n}=e,{result:i,referenceRecord:o}=ly(r,t);if(i)return fT(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},"evaluateTreeRule"),fT=Le((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Wne(r,t);if(n)return n}else if(r.type==="error")Xne(r,t);else if(r.type==="tree"){let n=Jne(r,t);if(n)return n}else throw new Cr(`Unknown endpoint rule: ${r}`);throw new Cr("Rules evaluation failed")},"evaluateRules"),Yne=Le((e,t)=>{var r,n,i,o,s;let{endpointParams:c,logger:l}=t,{parameters:m,rules:f}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Jl} Initial EndpointParams: ${gi(c)}`);let g=Object.entries(m).filter(([,b])=>b.default!=null).map(([b,I])=>[b,I.default]);if(g.length>0)for(let[b,I]of g)c[b]=c[b]??I;let y=Object.entries(m).filter(([,b])=>b.required).map(([b])=>b);for(let b of y)if(c[b]==null)throw new Cr(`Missing required parameter: '${b}'`);let S=fT(f,{endpointParams:c,logger:l,referenceRecord:{}});if((i=t.endpointParams)!=null&&i.Endpoint)try{let b=new URL(t.endpointParams.Endpoint),{protocol:I,port:A}=b;S.url.protocol=I,S.url.port=A}catch{}return(s=(o=t.logger)==null?void 0:o.debug)==null||s.call(o,`${Jl} Resolved endpoint: ${gi(S)}`),S},"resolveEndpoint")});var pa=h((M4e,wT)=>{"use strict";u();var rf=Object.defineProperty,Qne=Object.getOwnPropertyDescriptor,Zne=Object.getOwnPropertyNames,eie=Object.prototype.hasOwnProperty,fa=(e,t)=>rf(e,"name",{value:t,configurable:!0}),tie=(e,t)=>{for(var r in t)rf(e,r,{get:t[r],enumerable:!0})},rie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zne(t))!eie.call(e,i)&&i!==r&&rf(e,i,{get:()=>t[i],enumerable:!(n=Qne(t,i))||n.enumerable});return e},nie=e=>rie(rf({},"__esModule",{value:!0}),e),hT={};tie(hT,{ConditionObject:()=>Xe.ConditionObject,DeprecatedObject:()=>Xe.DeprecatedObject,EndpointError:()=>Xe.EndpointError,EndpointObject:()=>Xe.EndpointObject,EndpointObjectHeaders:()=>Xe.EndpointObjectHeaders,EndpointObjectProperties:()=>Xe.EndpointObjectProperties,EndpointParams:()=>Xe.EndpointParams,EndpointResolverOptions:()=>Xe.EndpointResolverOptions,EndpointRuleObject:()=>Xe.EndpointRuleObject,ErrorRuleObject:()=>Xe.ErrorRuleObject,EvaluateOptions:()=>Xe.EvaluateOptions,Expression:()=>Xe.Expression,FunctionArgv:()=>Xe.FunctionArgv,FunctionObject:()=>Xe.FunctionObject,FunctionReturn:()=>Xe.FunctionReturn,ParameterObject:()=>Xe.ParameterObject,ReferenceObject:()=>Xe.ReferenceObject,ReferenceRecord:()=>Xe.ReferenceRecord,RuleSetObject:()=>Xe.RuleSetObject,RuleSetRules:()=>Xe.RuleSetRules,TreeRuleObject:()=>Xe.TreeRuleObject,awsEndpointFunctions:()=>bT,getUserAgentPrefix:()=>aie,isIpAddress:()=>Xe.isIpAddress,partition:()=>ET,resolveEndpoint:()=>Xe.resolveEndpoint,setPartitionInfo:()=>CT,useDefaultPartitionInfo:()=>sie});wT.exports=nie(hT);var Xe=ma(),vT=fa((e,t=!1)=>{if(t){for(let r of e.split("."))if(!vT(r))return!1;return!0}return!(!(0,Xe.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Xe.isIpAddress)(e))},"isVirtualHostableS3Bucket"),gT=":",iie="/",oie=fa(e=>{let t=e.split(gT);if(t.length<6)return null;let[r,n,i,o,s,...c]=t;if(r!=="arn"||n===""||i===""||c.join(gT)==="")return null;let l=c.map(m=>m.split(iie)).flat();return{partition:n,service:i,region:o,accountId:s,resourceId:l}},"parseArn"),_T={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},yT=_T,ST="",ET=fa(e=>{let{partitions:t}=yT;for(let n of t){let{regions:i,outputs:o}=n;for(let[s,c]of Object.entries(i))if(s===e)return{...o,...c}}for(let n of t){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),CT=fa((e,t="")=>{yT=e,ST=t},"setPartitionInfo"),sie=fa(()=>{CT(_T,"")},"useDefaultPartitionInfo"),aie=fa(()=>ST,"getUserAgentPrefix"),bT={isVirtualHostableS3Bucket:vT,parseArn:oie,partition:ET};Xe.customEndpointFunctions.aws=bT});var Yl=h((U4e,TT)=>{"use strict";u();var nf=Object.defineProperty,cie=Object.getOwnPropertyDescriptor,lie=Object.getOwnPropertyNames,die=Object.prototype.hasOwnProperty,of=(e,t)=>nf(e,"name",{value:t,configurable:!0}),uie=(e,t)=>{for(var r in t)nf(e,r,{get:t[r],enumerable:!0})},mie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lie(t))!die.call(e,i)&&i!==r&&nf(e,i,{get:()=>t[i],enumerable:!(n=cie(t,i))||n.enumerable});return e},fie=e=>mie(nf({},"__esModule",{value:!0}),e),AT={};uie(AT,{getUserAgentMiddlewareOptions:()=>IT,getUserAgentPlugin:()=>_ie,resolveUserAgentConfig:()=>RT,userAgentMiddleware:()=>kT});TT.exports=fie(AT);function RT(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}of(RT,"resolveUserAgentConfig");var pie=pa(),gie=Ke(),PT="user-agent",dy="x-amz-user-agent",xT=" ",uy="/",hie=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,vie=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,OT="-",kT=of(e=>(t,r)=>async n=>{var i,o;let{request:s}=n;if(!gie.HttpRequest.isInstance(s))return t(n);let{headers:c}=s,l=((i=r?.userAgent)==null?void 0:i.map(my))||[],m=(await e.defaultUserAgentProvider()).map(my),f=((o=e?.customUserAgent)==null?void 0:o.map(my))||[],g=(0,pie.getUserAgentPrefix)(),y=(g?[g]:[]).concat([...m,...l,...f]).join(xT),S=[...m.filter(b=>b.startsWith("aws-sdk-")),...f].join(xT);return e.runtime!=="browser"?(S&&(c[dy]=c[dy]?`${c[PT]} ${S}`:S),c[PT]=y):c[dy]=y,t({...n,request:s})},"userAgentMiddleware"),my=of(e=>{var t;let r=e[0].split(uy).map(c=>c.replace(hie,OT)).join(uy),n=(t=e[1])==null?void 0:t.replace(vie,OT),i=r.indexOf(uy),o=r.substring(0,i),s=r.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(c=>c&&c.length>0).reduce((c,l,m)=>{switch(m){case 0:return l;case 1:return`${c}/${l}`;default:return`${c}#${l}`}},"")},"escapeUserAgent"),IT={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},_ie=of(e=>({applyToStack:t=>{t.add(kT(e),IT)}}),"getUserAgentPlugin")});var zn=h((G4e,GT)=>{u();var af=Object.defineProperty,yie=Object.getOwnPropertyDescriptor,Sie=Object.getOwnPropertyNames,Eie=Object.prototype.hasOwnProperty,xn=(e,t)=>af(e,"name",{value:t,configurable:!0}),Cie=(e,t)=>{for(var r in t)af(e,r,{get:t[r],enumerable:!0})},bie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sie(t))!Eie.call(e,i)&&i!==r&&af(e,i,{get:()=>t[i],enumerable:!(n=yie(t,i))||n.enumerable});return e},wie=e=>bie(af({},"__esModule",{value:!0}),e),DT={};Cie(DT,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>LT,CONFIG_USE_FIPS_ENDPOINT:()=>MT,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Pie,DEFAULT_USE_FIPS_ENDPOINT:()=>Oie,ENV_USE_DUALSTACK_ENDPOINT:()=>FT,ENV_USE_FIPS_ENDPOINT:()=>jT,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Nie,NODE_REGION_CONFIG_OPTIONS:()=>Tie,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>xie,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>Aie,REGION_ENV_NAME:()=>qT,REGION_INI_NAME:()=>UT,getRegionInfo:()=>jie,resolveCustomEndpointsConfig:()=>Rie,resolveEndpointsConfig:()=>Iie,resolveRegionConfig:()=>Bie});GT.exports=wie(DT);var Gi=Cm(),FT="AWS_USE_DUALSTACK_ENDPOINT",LT="use_dualstack_endpoint",Pie=!1,xie={environmentVariableSelector:e=>(0,Gi.booleanSelector)(e,FT,Gi.SelectorType.ENV),configFileSelector:e=>(0,Gi.booleanSelector)(e,LT,Gi.SelectorType.CONFIG),default:!1},jT="AWS_USE_FIPS_ENDPOINT",MT="use_fips_endpoint",Oie=!1,Aie={environmentVariableSelector:e=>(0,Gi.booleanSelector)(e,jT,Gi.SelectorType.ENV),configFileSelector:e=>(0,Gi.booleanSelector)(e,MT,Gi.SelectorType.CONFIG),default:!1},sf=Ur(),Rie=xn(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,sf.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,sf.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),kie=xn(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),Iie=xn(e=>{let t=(0,sf.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:i}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,sf.normalizeProvider)(typeof r=="string"?i(r):r):()=>kie({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),qT="AWS_REGION",UT="region",Tie={environmentVariableSelector:e=>e[qT],configFileSelector:e=>e[UT],default:()=>{throw new Error("Region is missing")}},Nie={preferredFile:"credentials"},HT=xn(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),NT=xn(e=>HT(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Bie=xn(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return NT(t);let n=await t();return NT(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return HT(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),BT=xn((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:i})=>t===i.includes("fips")&&r===i.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),Die=xn((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Fie=xn((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Lie=xn((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(i);if(o)return o[0].slice(1,-1)}},"getResolvedSigningRegion"),jie=xn((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:o})=>{var s,c,l,m,f;let g=Fie(e,{partitionHash:o}),y=e in i?e:((s=o[g])==null?void 0:s.endpoint)??e,S={useFipsEndpoint:t,useDualstackEndpoint:r},b=BT((c=i[y])==null?void 0:c.variants,S),I=BT((l=o[g])==null?void 0:l.variants,S),A=Die(y,{regionHostname:b,partitionHostname:I});if(A===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:y,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let U=Lie(A,{signingRegion:(m=i[y])==null?void 0:m.signingRegion,regionRegex:o[g].regionRegex,useFipsEndpoint:t});return{partition:g,signingService:n,hostname:A,...U&&{signingRegion:U},...((f=i[y])==null?void 0:f.signingService)&&{signingService:i[y].signingService}}},"getRegionInfo")});var VT=h((z4e,zT)=>{u();var cf=Object.defineProperty,Mie=Object.getOwnPropertyDescriptor,qie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,Hie=(e,t)=>cf(e,"name",{value:t,configurable:!0}),Gie=(e,t)=>{for(var r in t)cf(e,r,{get:t[r],enumerable:!0})},$ie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qie(t))!Uie.call(e,i)&&i!==r&&cf(e,i,{get:()=>t[i],enumerable:!(n=Mie(t,i))||n.enumerable});return e},zie=e=>$ie(cf({},"__esModule",{value:!0}),e),$T={};Gie($T,{resolveEventStreamSerdeConfig:()=>Vie});zT.exports=zie($T);var Vie=Hie(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var Ql=h((K4e,YT)=>{u();var lf=Object.defineProperty,Kie=Object.getOwnPropertyDescriptor,Wie=Object.getOwnPropertyNames,Xie=Object.prototype.hasOwnProperty,WT=(e,t)=>lf(e,"name",{value:t,configurable:!0}),Jie=(e,t)=>{for(var r in t)lf(e,r,{get:t[r],enumerable:!0})},Yie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wie(t))!Xie.call(e,i)&&i!==r&&lf(e,i,{get:()=>t[i],enumerable:!(n=Kie(t,i))||n.enumerable});return e},Qie=e=>Yie(lf({},"__esModule",{value:!0}),e),XT={};Jie(XT,{contentLengthMiddleware:()=>fy,contentLengthMiddlewareOptions:()=>JT,getContentLengthPlugin:()=>eoe});YT.exports=Qie(XT);var Zie=Ke(),KT="content-length";function fy(e){return t=>async r=>{let n=r.request;if(Zie.HttpRequest.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(KT)===-1)try{let s=e(i);n.headers={...n.headers,[KT]:String(s)}}catch{}}return t({...r,request:n})}}WT(fy,"contentLengthMiddleware");var JT={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},eoe=WT(e=>({applyToStack:t=>{t.add(fy(e.bodyLengthChecker),JT)}}),"getContentLengthPlugin")});var QT,toe,ZT=oe(()=>{u();QT=!1,toe=e=>{e&&!QT&&parseInt(e.substring(1,e.indexOf(".")))<18&&(QT=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});var eN=oe(()=>{u();ZT()});var tN,py,rN=oe(()=>{u();tN=Ve(Ke()),py=e=>tN.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ga,gy=oe(()=>{u();ga=e=>new Date(Date.now()+e)});var nN,iN=oe(()=>{u();gy();nN=(e,t)=>Math.abs(ga(t).getTime()-e)>=3e5});var hy,oN=oe(()=>{u();iN();hy=(e,t)=>{let r=Date.parse(e);return nN(r,t)?r-Date.now():t}});var vy=oe(()=>{u();rN();gy();oN()});var sN,Zl,ed,Mo,aN,_y=oe(()=>{u();sN=Ve(Ke());vy();Zl=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ed=async e=>{let t=Zl("context",e.context),r=Zl("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await Zl("signer",r.signer)(n),s=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:o,signingRegion:s,signingRegionSet:c,signingName:l}},Mo=class{async sign(t,r,n){if(!sN.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await ed(n),{config:o,signer:s}=i,{signingRegion:c,signingName:l}=i,m=n.context;if(m?.authSchemes?.length??!1){let[g,y]=m.authSchemes;g?.name==="sigv4a"&&y?.name==="sigv4"&&(c=y?.signingRegion??c,l=y?.signingName??l)}return await s.sign(t,{signingDate:ga(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??py(r.$response);if(n){let i=Zl("config",t.config),o=i.systemClockOffset;i.systemClockOffset=hy(n,i.systemClockOffset),i.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=py(t);if(n){let i=Zl("config",r.config);i.systemClockOffset=hy(n,i.systemClockOffset)}}},aN=Mo});var cN,df,lN=oe(()=>{u();cN=Ve(Ke());vy();_y();df=class extends Mo{async sign(t,r,n){if(!cN.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:o,signingRegion:s,signingRegionSet:c,signingName:l}=await ed(n),f=(await i.sigv4aSigningRegionSet?.()??c??[s]).join(",");return await o.sign(t,{signingDate:ga(i.systemClockOffset),signingRegion:f,signingService:l})}}});var yy,roe,noe,dN=oe(()=>{u();Kt();yy=Ve(ft()),roe=e=>(e.sigv4aSigningRegionSet=Hi(e.sigv4aSigningRegionSet),e),noe={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new yy.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new yy.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Sy,uN,ioe,mN=oe(()=>{u();Kt();Sy=Ve(m0()),uN=e=>{let t;e.credentials&&(t=V0(e.credentials,z0,Wm)),t||(e.credentialDefaultProvider?t=Hi(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e,o;return e.signer?o=Hi(e.signer):e.regionInfoProvider?o=()=>Hi(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,c])=>{let{signingRegion:l,signingService:m}=s;e.signingRegion=e.signingRegion||l||c,e.signingName=e.signingName||m||e.serviceId;let f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},g=e.signerConstructor||Sy.SignatureV4;return new g(f)}):o=async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Hi(e.region)(),properties:{}},s);let c=s.signingRegion,l=s.signingName;e.signingRegion=e.signingRegion||c,e.signingName=e.signingName||l||e.serviceId;let m={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},f=e.signerConstructor||Sy.SignatureV4;return new f(m)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:o}},ioe=uN});var fN=oe(()=>{u();_y();lN();dN();mN()});var pN=oe(()=>{u();fN()});var ooe,soe,aoe,gN=oe(()=>{u();ooe=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},soe=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},aoe=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var hN,coe,vN=oe(()=>{u();hN=Ve(We()),coe=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,hN.expectUnion)(e)}});var _N,uf,Ey=oe(()=>{u();_N=Ve(We()),uf=(e,t)=>(0,_N.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var yN,loe,doe,SN=oe(()=>{u();Ey();yN=(e,t)=>uf(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),loe=async(e,t)=>{let r=await yN(e,t);return r.message=r.message??r.Message,r},doe=(e,t)=>{let r=(o,s)=>Object.keys(o).find(c=>c.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");if(i!==void 0)return n(e.headers[i]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var mf=h(hi=>{"use strict";u();var EN=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",uoe=EN+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",CN="["+EN+"]["+uoe+"]*",moe=new RegExp("^"+CN+"$"),foe=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=t.exec(e)}return r},poe=function(e){let t=moe.exec(e);return!(t===null||typeof t>"u")};hi.isExist=function(e){return typeof e<"u"};hi.isEmptyObject=function(e){return Object.keys(e).length===0};hi.merge=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let o=0;o<i;o++)r==="strict"?e[n[o]]=[t[n[o]]]:e[n[o]]=t[n[o]]}};hi.getValue=function(e){return hi.isExist(e)?e:""};hi.isName=poe;hi.getAllMatches=foe;hi.nameRegexp=CN});var by=h(ON=>{"use strict";u();var Cy=mf(),goe={allowBooleanAttributes:!1,unpairedTags:[]};ON.validate=function(e,t){t=Object.assign({},goe,t);let r=[],n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=wN(e,o),o.err)return o}else if(e[o]==="<"){let s=o;if(o++,e[o]==="!"){o=PN(e,o);continue}else{let c=!1;e[o]==="/"&&(c=!0,o++);let l="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)l+=e[o];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),o--),!boe(l)){let g;return l.trim().length===0?g="Invalid space after '<'.":g="Tag '"+l+"' is an invalid name.",yt("InvalidTag",g,cr(e,o))}let m=_oe(e,o);if(m===!1)return yt("InvalidAttr","Attributes for '"+l+"' have open quote.",cr(e,o));let f=m.value;if(o=m.index,f[f.length-1]==="/"){let g=o-f.length;f=f.substring(0,f.length-1);let y=xN(f,t);if(y===!0)n=!0;else return yt(y.err.code,y.err.msg,cr(e,g+y.err.line))}else if(c)if(m.tagClosed){if(f.trim().length>0)return yt("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",cr(e,s));if(r.length===0)return yt("InvalidTag","Closing tag '"+l+"' has not been opened.",cr(e,s));{let g=r.pop();if(l!==g.tagName){let y=cr(e,g.tagStartPos);return yt("InvalidTag","Expected closing tag '"+g.tagName+"' (opened in line "+y.line+", col "+y.col+") instead of closing tag '"+l+"'.",cr(e,s))}r.length==0&&(i=!0)}}else return yt("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",cr(e,o));else{let g=xN(f,t);if(g!==!0)return yt(g.err.code,g.err.msg,cr(e,o-f.length+g.err.line));if(i===!0)return yt("InvalidXml","Multiple possible root nodes found.",cr(e,o));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:s}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=PN(e,o);continue}else if(e[o+1]==="?"){if(o=wN(e,++o),o.err)return o}else break;else if(e[o]==="&"){let g=Eoe(e,o);if(g==-1)return yt("InvalidChar","char '&' is not expected.",cr(e,o));o=g}else if(i===!0&&!bN(e[o]))return yt("InvalidXml","Extra text at the end",cr(e,o));e[o]==="<"&&o--}}else{if(bN(e[o]))continue;return yt("InvalidChar","char '"+e[o]+"' is not expected.",cr(e,o))}if(n){if(r.length==1)return yt("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",cr(e,r[0].tagStartPos));if(r.length>0)return yt("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return yt("InvalidXml","Start tag expected.",1);return!0};function bN(e){return e===" "||e==="	"||e===`
`||e==="\r"}function wN(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return yt("InvalidXml","XML declaration allowed only at the start of the document.",cr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function PN(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var hoe='"',voe="'";function _oe(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===hoe||e[t]===voe)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}var yoe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function xN(e,t){let r=Cy.getAllMatches(e,yoe),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return yt("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",td(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return yt("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",td(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return yt("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",td(r[i]));let o=r[i][2];if(!Coe(o))return yt("InvalidAttr","Attribute '"+o+"' is an invalid name.",td(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return yt("InvalidAttr","Attribute '"+o+"' is repeated.",td(r[i]))}return!0}function Soe(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Eoe(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Soe(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function yt(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Coe(e){return Cy.isName(e)}function boe(e){return Cy.isName(e)}function cr(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function td(e){return e.startIndex+e[1].length}});var RN=h(wy=>{u();var AN={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},woe=function(e){return Object.assign({},AN,e)};wy.buildOptions=woe;wy.defaultOptions=AN});var IN=h((Q8e,kN)=>{"use strict";u();var Py=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};kN.exports=Py});var NN=h((eVe,TN)=>{u();var Poe=mf();function xoe(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,o=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(i&&Roe(e,t))t+=7,[entityName,val,t]=Ooe(e,t+1),val.indexOf("&")===-1&&(r[Noe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&koe(e,t))t+=8;else if(i&&Ioe(e,t))t+=8;else if(i&&Toe(e,t))t+=9;else if(Aoe)o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:s+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Ooe(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function Aoe(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Roe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function koe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Ioe(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Toe(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Noe(e){if(Poe.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}TN.exports=xoe});var DN=h((rVe,BN)=>{u();var Boe=/^[-+]?0x[a-fA-F0-9]+$/,Doe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Foe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Loe(e,t={}){if(t=Object.assign({},Foe,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Boe.test(r))return Number.parseInt(r,16);{let n=Doe.exec(r);if(n){let i=n[1],o=n[2],s=joe(n[3]),c=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!i&&r[1]!==".")return e;{let l=Number(r),m=""+l;return m.search(/[eE]/)!==-1||c?t.eNotation?l:e:r.indexOf(".")!==-1?m==="0"&&s===""||m===s||i&&m==="-"+s?l:e:o?s===m||i+s===m?l:e:r===m||r===i+m?l:e}}else return e}}function joe(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}BN.exports=Loe});var jN=h((iVe,LN)=>{"use strict";u();var FN=mf(),rd=IN(),Moe=NN(),qoe=DN(),xy=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=Uoe,this.parseXml=Voe,this.parseTextData=Hoe,this.resolveNameSpace=Goe,this.buildAttributesMap=zoe,this.isItStopNode=Joe,this.replaceEntitiesValue=Woe,this.readStopNodeData=Qoe,this.saveTextToParentTag=Xoe,this.addChild=Koe}};function Uoe(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Hoe(e,t,r,n,i,o,s){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let c=this.options.tagValueProcessor(t,e,r,i,o);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?Ay(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Ay(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Goe(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var $oe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function zoe(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=FN.getAllMatches(e,$oe),i=n.length,o={};for(let s=0;s<i;s++){let c=this.resolveNameSpace(n[s][1]),l=n[s][4],m=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(m=this.options.transformAttributeName(m)),m==="__proto__"&&(m="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);let f=this.options.attributeValueProcessor(c,l,t);f==null?o[m]=l:typeof f!=typeof l||f!==l?o[m]=f:o[m]=Ay(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[m]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var Voe=function(e){e=e.replace(/\r\n?/g,`
`);let t=new rd("!xml"),r=t,n="",i="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let c=qo(e,">",o,"Closing Tag is not closed."),l=e.substring(o+2,c).trim();if(this.options.removeNSPrefix){let g=l.indexOf(":");g!==-1&&(l=l.substr(g+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,i));let m=i.substring(i.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let f=0;m&&this.options.unpairedTags.indexOf(m)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),r=this.tagsNodeStack.pop(),n="",o=c}else if(e[o+1]==="?"){let c=Oy(e,o,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){let l=new rd(c.tagName);l.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(l[":@"]=this.buildAttributesMap(c.tagExp,i,c.tagName)),this.addChild(r,l,i)}o=c.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let c=qo(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(o+4,c-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}o=c}else if(e.substr(o+1,2)==="!D"){let c=Moe(e,o);this.docTypeEntities=c.entities,o=c.i}else if(e.substr(o+1,2)==="!["){let c=qo(e,"]]>",o,"CDATA is not closed.")-2,l=e.substring(o+9,c);n=this.saveTextToParentTag(n,r,i);let m=this.parseTextData(l,r.tagname,i,!0,!1,!0,!0);m==null&&(m=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,m),o=c+2}else{let c=Oy(e,o,this.options.removeNSPrefix),l=c.tagName,m=c.rawTagName,f=c.tagExp,g=c.attrExpPresent,y=c.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let S=r;if(S&&this.options.unpairedTags.indexOf(S.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),l!==t.tagname&&(i+=i?"."+l:l),this.isItStopNode(this.options.stopNodes,i,l)){let b="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),f=l):f=f.substr(0,f.length-1),o=c.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)o=c.closeIndex;else{let A=this.readStopNodeData(e,m,y+1);if(!A)throw new Error(`Unexpected end of ${m}`);o=A.i,b=A.tagContent}let I=new rd(l);l!==f&&g&&(I[":@"]=this.buildAttributesMap(f,i,l)),b&&(b=this.parseTextData(b,l,i,!0,g,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),I.add(this.options.textNodeName,b),this.addChild(r,I,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),f=l):f=f.substr(0,f.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let b=new rd(l);l!==f&&g&&(b[":@"]=this.buildAttributesMap(f,i,l)),this.addChild(r,b,i),i=i.substr(0,i.lastIndexOf("."))}else{let b=new rd(l);this.tagsNodeStack.push(r),l!==f&&g&&(b[":@"]=this.buildAttributesMap(f,i,l)),this.addChild(r,b,i),r=b}n="",o=y}}else n+=e[o];return t.child};function Koe(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var Woe=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Xoe(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Joe(e,t,r){let n="*."+r;for(let i in e){let o=e[i];if(n===o||t===o)return!0}return!1}function Yoe(e,t,r=">"){let n,i="";for(let o=t;o<e.length;o++){let s=e[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(e[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function qo(e,t,r,n){let i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function Oy(e,t,r,n=">"){let i=Yoe(e,t+1,n);if(!i)return;let o=i.data,s=i.index,c=o.search(/\s/),l=o,m=!0;c!==-1&&(l=o.substring(0,c),o=o.substring(c+1).trimStart());let f=l;if(r){let g=l.indexOf(":");g!==-1&&(l=l.substr(g+1),m=l!==i.data.substr(g+1))}return{tagName:l,tagExp:o,closeIndex:s,attrExpPresent:m,rawTagName:f}}function Qoe(e,t,r){let n=r,i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let o=qo(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:o};r=o}else if(e[r+1]==="?")r=qo(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=qo(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=qo(e,"]]>",r,"StopNode is not closed.")-2;else{let o=Oy(e,r,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function Ay(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:qoe(e,r)}else return FN.isExist(e)?e:""}LN.exports=xy});var UN=h(qN=>{"use strict";u();function Zoe(e,t){return MN(e,t)}function MN(e,t,r){let n,i={};for(let o=0;o<e.length;o++){let s=e[o],c=ese(s),l="";if(r===void 0?l=c:l=r+"."+c,c===t.textNodeName)n===void 0?n=s[c]:n+=""+s[c];else{if(c===void 0)continue;if(s[c]){let m=MN(s[c],t,l),f=rse(m,t);s[":@"]?tse(m,s[":@"],l,t):Object.keys(m).length===1&&m[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?m=m[t.textNodeName]:Object.keys(m).length===0&&(t.alwaysCreateTextNode?m[t.textNodeName]="":m=""),i[c]!==void 0&&i.hasOwnProperty(c)?(Array.isArray(i[c])||(i[c]=[i[c]]),i[c].push(m)):t.isArray(c,l,f)?i[c]=[m]:i[c]=m}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function ese(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function tse(e,t,r,n){if(t){let i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){let c=i[s];n.isArray(c,r+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function rse(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}qN.prettify=Zoe});var GN=h((cVe,HN)=>{u();var{buildOptions:nse}=RN(),ise=jN(),{prettify:ose}=UN(),sse=by(),Ry=class{constructor(t){this.externalEntities={},this.options=nse(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=sse.validate(t,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new ise(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:ose(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};HN.exports=Ry});var WN=h((dVe,KN)=>{u();var ase=`
`;function cse(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=ase),zN(e,t,"",r)}function zN(e,t,r,n){let i="",o=!1;for(let s=0;s<e.length;s++){let c=e[s],l=lse(c);if(l===void 0)continue;let m="";if(r.length===0?m=l:m=`${r}.${l}`,l===t.textNodeName){let b=c[l];dse(m,t)||(b=t.tagValueProcessor(l,b),b=VN(b,t)),o&&(i+=n),i+=b,o=!1;continue}else if(l===t.cdataPropName){o&&(i+=n),i+=`<![CDATA[${c[l][0][t.textNodeName]}]]>`,o=!1;continue}else if(l===t.commentPropName){i+=n+`<!--${c[l][0][t.textNodeName]}-->`,o=!0;continue}else if(l[0]==="?"){let b=$N(c[":@"],t),I=l==="?xml"?"":n,A=c[l][0][t.textNodeName];A=A.length!==0?" "+A:"",i+=I+`<${l}${A}${b}?>`,o=!0;continue}let f=n;f!==""&&(f+=t.indentBy);let g=$N(c[":@"],t),y=n+`<${l}${g}`,S=zN(c[l],t,m,f);t.unpairedTags.indexOf(l)!==-1?t.suppressUnpairedNode?i+=y+">":i+=y+"/>":(!S||S.length===0)&&t.suppressEmptyNode?i+=y+"/>":S&&S.endsWith(">")?i+=y+`>${S}${n}</${l}>`:(i+=y+">",S&&n!==""&&(S.includes("/>")||S.includes("</"))?i+=n+t.indentBy+S+n:i+=S,i+=`</${l}>`),o=!0}return i}function lse(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function $N(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let i=t.attributeValueProcessor(n,e[n]);i=VN(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function dse(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function VN(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}KN.exports=cse});var JN=h((mVe,XN)=>{"use strict";u();var use=WN(),mse={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function $i(e){this.options=Object.assign({},mse,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=gse),this.processTextOrObjNode=fse,this.options.format?(this.indentate=pse,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}$i.prototype.build=function(e){return this.options.preserveOrder?use(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};$i.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(typeof e[i]>"u")this.isAttribute(i)&&(n+="");else if(e[i]===null)this.isAttribute(i)?n+="":i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){let o=this.isAttribute(i);if(o)r+=this.buildAttrPairStr(o,""+e[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){let o=e[i].length,s="",c="";for(let l=0;l<o;l++){let m=e[i][l];if(!(typeof m>"u"))if(m===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(typeof m=="object")if(this.options.oneListGroup){let f=this.j2x(m,t+1);s+=f.val,this.options.attributesGroupName&&m.hasOwnProperty(this.options.attributesGroupName)&&(c+=f.attrStr)}else s+=this.processTextOrObjNode(m,i,t);else if(this.options.oneListGroup){let f=this.options.tagValueProcessor(i,m);f=this.replaceEntitiesValue(f),s+=f}else s+=this.buildTextValNode(m,i,"",t)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,c,t)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(e[i]),s=o.length;for(let c=0;c<s;c++)r+=this.buildAttrPairStr(o[c],""+e[i][o[c]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};$i.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function fse(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}$i.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",i=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+o+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+i}};$i.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};$i.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};$i.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function pse(e){return this.options.indentBy.repeat(e)}function gse(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}XN.exports=$i});var QN=h((pVe,YN)=>{"use strict";u();var hse=by(),vse=GN(),_se=JN();YN.exports={XMLParser:vse,XMLValidator:hse,XMLBuilder:_se}});var ZN,eB,tB,yse,Sse,rB=oe(()=>{u();ZN=Ve(We()),eB=Ve(QN());Ey();tB=(e,t)=>uf(e,t).then(r=>{if(r.length){let n=new eB.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,m)=>m.trim()===""&&m.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}let o="#text",s=Object.keys(i)[0],c=i[s];return c[o]&&(c[s]=c[o],delete c[o]),(0,ZN.getValueFromTextNode)(c)}return{}}),yse=async(e,t)=>{let r=await tB(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Sse=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var nB=oe(()=>{u();gN();vN();SN();rB()});var Wt={};Nu(Wt,{AWSSDKSigV4Signer:()=>aN,AwsSdkSigV4ASigner:()=>df,AwsSdkSigV4Signer:()=>Mo,NODE_SIGV4A_CONFIG_OPTIONS:()=>noe,_toBool:()=>soe,_toNum:()=>aoe,_toStr:()=>ooe,awsExpectUnion:()=>coe,emitWarningIfUnsupportedVersion:()=>toe,loadRestJsonErrorCode:()=>doe,loadRestXmlErrorCode:()=>Sse,parseJsonBody:()=>yN,parseJsonErrorBody:()=>loe,parseXmlBody:()=>tB,parseXmlErrorBody:()=>yse,resolveAWSSDKSigV4Config:()=>ioe,resolveAwsSdkSigV4AConfig:()=>roe,resolveAwsSdkSigV4Config:()=>uN,validateSigningProperties:()=>ed});var Xt=oe(()=>{u();eN();pN();nB()});var ky=h((kVe,aB)=>{"use strict";u();var ff=Object.defineProperty,Ese=Object.getOwnPropertyDescriptor,Cse=Object.getOwnPropertyNames,bse=Object.prototype.hasOwnProperty,wse=(e,t)=>ff(e,"name",{value:t,configurable:!0}),Pse=(e,t)=>{for(var r in t)ff(e,r,{get:t[r],enumerable:!0})},xse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cse(t))!bse.call(e,i)&&i!==r&&ff(e,i,{get:()=>t[i],enumerable:!(n=Ese(t,i))||n.enumerable});return e},Ose=e=>xse(ff({},"__esModule",{value:!0}),e),iB={};Pse(iB,{SignatureV4MultiRegion:()=>Rse,signatureV4CrtContainer:()=>oB});aB.exports=Ose(iB);var Ase=ee(),oB={CrtSignerV4:null},sB=class{constructor(t){this.sigv4Signer=new Ase.SignatureV4S3Express(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,r,n)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=oB.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};wse(sB,"SignatureV4MultiRegion");var Rse=sB});var OD=h(wf=>{"use strict";u();Object.defineProperty(wf,"__esModule",{value:!0});wf.ruleSet=void 0;var rS="required",v="type",E="conditions",R="fn",k="argv",le="ref",pt="assign",K="url",W="properties",cD="backend",Rn="authSchemes",Ir="disableDoubleEncoding",Tr="signingName",Wn="signingRegion",X="headers",nS="signingRegionSet",kse=!1,On=!0,Gr="isSet",qt="booleanEquals",Z="error",Sf="aws.partition",Ze="stringEquals",St="getAttr",Zt="name",Vn="substring",cB="bucketSuffix",lD="parseURL",lB="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",D="endpoint",N="tree",dD="aws.isVirtualHostableS3Bucket",vf="{url#scheme}://{Bucket}.{url#authority}{url#path}",Kn="not",_f="{url#scheme}://{url#authority}{url#path}",uD="hardwareType",mD="regionPrefix",dB="bucketAliasSuffix",eS="outpostId",Ho="isValidHostLabel",iS="sigv4a",od="s3-outposts",ya="s3",fD="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",pD="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",uB="https://{Bucket}.s3.{partitionResult#dnsSuffix}",gD="aws.parseArn",hD="bucketArn",vD="arnType",Ef="",oS="s3-object-lambda",_D="accesspoint",sS="accessPointName",mB="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",fB="mrapPartition",pB="outpostType",gB="arnPrefix",yD="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",hB="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",vB="https://s3.{partitionResult#dnsSuffix}",ha={[rS]:!1,[v]:"String"},va={[rS]:!0,default:!1,[v]:"Boolean"},nd={[rS]:!1,[v]:"Boolean"},An={[R]:qt,[k]:[{[le]:"Accelerate"},!0]},Ye={[R]:qt,[k]:[{[le]:"UseFIPS"},!0]},Je={[R]:qt,[k]:[{[le]:"UseDualStack"},!0]},wt={[R]:Gr,[k]:[{[le]:"Endpoint"}]},SD={[R]:Sf,[k]:[{[le]:"Region"}],[pt]:"partitionResult"},_B={[R]:Ze,[k]:[{[R]:St,[k]:[{[le]:"partitionResult"},Zt]},"aws-cn"]},Cf={[R]:Gr,[k]:[{[le]:"Bucket"}]},dr={[le]:"Bucket"},lr={[R]:lD,[k]:[{[le]:"Endpoint"}],[pt]:"url"},yf={[R]:qt,[k]:[{[R]:St,[k]:[{[le]:"url"},"isIp"]},!0]},ED={[le]:"url"},CD={[R]:"uriEncode",[k]:[dr],[pt]:"uri_encoded_bucket"},vi={[cD]:"S3Express",[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:"s3express",[Wn]:"{Region}"}]},ue={},bD={[R]:dD,[k]:[dr,!1]},Iy={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[v]:Z},bf={[cD]:"S3Express",[Rn]:[{[Ir]:!0,[Zt]:"sigv4-s3express",[Tr]:"s3express",[Wn]:"{Region}"}]},yB={[R]:Gr,[k]:[{[le]:"UseS3ExpressControlEndpoint"}]},SB={[R]:qt,[k]:[{[le]:"UseS3ExpressControlEndpoint"},!0]},fe={[R]:Kn,[k]:[wt]},EB={[Z]:"Unrecognized S3Express bucket name format.",[v]:Z},CB={[R]:Kn,[k]:[Cf]},bB={[le]:uD},wB={[E]:[fe],[Z]:"Expected a endpoint to be specified but no endpoint was found",[v]:Z},pf={[Rn]:[{[Ir]:!0,[Zt]:iS,[Tr]:od,[nS]:["*"]},{[Ir]:!0,[Zt]:"sigv4",[Tr]:od,[Wn]:"{Region}"}]},Ty={[R]:qt,[k]:[{[le]:"ForcePathStyle"},!1]},Ise={[le]:"ForcePathStyle"},bt={[R]:qt,[k]:[{[le]:"Accelerate"},!1]},Ot={[R]:Ze,[k]:[{[le]:"Region"},"aws-global"]},Lt={[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:ya,[Wn]:"us-east-1"}]},xe={[R]:Kn,[k]:[Ot]},jt={[R]:qt,[k]:[{[le]:"UseGlobalEndpoint"},!0]},PB={[K]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[W]:{[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:ya,[Wn]:"{Region}"}]},[X]:{}},Pt={[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:ya,[Wn]:"{Region}"}]},Mt={[R]:qt,[k]:[{[le]:"UseGlobalEndpoint"},!1]},be={[R]:qt,[k]:[{[le]:"UseDualStack"},!1]},xB={[K]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},_e={[R]:qt,[k]:[{[le]:"UseFIPS"},!1]},OB={[K]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},AB={[K]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},Ny={[R]:qt,[k]:[{[R]:St,[k]:[ED,"isIp"]},!1]},By={[K]:fD,[W]:Pt,[X]:{}},tS={[K]:vf,[W]:Pt,[X]:{}},RB={[D]:tS,[v]:D},Dy={[K]:pD,[W]:Pt,[X]:{}},kB={[K]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},gf={[Z]:"Invalid region: region was not a valid DNS name.",[v]:Z},br={[le]:hD},wD={[le]:vD},Fy={[R]:St,[k]:[br,"service"]},aS={[le]:sS},IB={[E]:[Je],[Z]:"S3 Object Lambda does not support Dual-stack",[v]:Z},TB={[E]:[An],[Z]:"S3 Object Lambda does not support S3 Accelerate",[v]:Z},NB={[E]:[{[R]:Gr,[k]:[{[le]:"DisableAccessPoints"}]},{[R]:qt,[k]:[{[le]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[v]:Z},Ly={[E]:[{[R]:Gr,[k]:[{[le]:"UseArnRegion"}]},{[R]:qt,[k]:[{[le]:"UseArnRegion"},!1]},{[R]:Kn,[k]:[{[R]:Ze,[k]:[{[R]:St,[k]:[br,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[v]:Z},PD={[R]:St,[k]:[{[le]:"bucketPartition"},Zt]},xD={[R]:St,[k]:[br,"accountId"]},jy={[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:oS,[Wn]:"{bucketArn#region}"}]},BB={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[v]:Z},My={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[v]:Z},qy={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[v]:Z},Uy={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[v]:Z},DB={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[v]:Z},FB={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[v]:Z},id={[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:ya,[Wn]:"{bucketArn#region}"}]},LB={[Rn]:[{[Ir]:!0,[Zt]:iS,[Tr]:od,[nS]:["*"]},{[Ir]:!0,[Zt]:"sigv4",[Tr]:od,[Wn]:"{bucketArn#region}"}]},jB={[R]:gD,[k]:[dr]},MB={[K]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Pt,[X]:{}},qB={[K]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Pt,[X]:{}},UB={[K]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Pt,[X]:{}},Hy={[K]:yD,[W]:Pt,[X]:{}},HB={[K]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Pt,[X]:{}},GB={[le]:"UseObjectLambdaEndpoint"},Gy={[Rn]:[{[Ir]:!0,[Zt]:"sigv4",[Tr]:oS,[Wn]:"{Region}"}]},$B={[K]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},zB={[K]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},VB={[K]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},$y={[K]:_f,[W]:Pt,[X]:{}},KB={[K]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[W]:Pt,[X]:{}},zy=[{[le]:"Region"}],Tse=[{[le]:"Endpoint"}],Nse=[dr],Vy=[Je],hf=[An],Uo=[wt,lr],WB=[{[R]:Gr,[k]:[{[le]:"DisableS3ExpressSessionAuth"}]},{[R]:qt,[k]:[{[le]:"DisableS3ExpressSessionAuth"},!0]}],XB=[yf],Ky=[CD],Wy=[bD],_a=[Ye],JB=[{[R]:Vn,[k]:[dr,6,14,!0],[pt]:"s3expressAvailabilityZoneId"},{[R]:Vn,[k]:[dr,14,16,!0],[pt]:"s3expressAvailabilityZoneDelim"},{[R]:Ze,[k]:[{[le]:"s3expressAvailabilityZoneDelim"},"--"]}],YB=[{[E]:[Ye],[D]:{[K]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[W]:vi,[X]:{}},[v]:D},{[D]:{[K]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[W]:vi,[X]:{}},[v]:D}],QB=[{[R]:Vn,[k]:[dr,6,15,!0],[pt]:"s3expressAvailabilityZoneId"},{[R]:Vn,[k]:[dr,15,17,!0],[pt]:"s3expressAvailabilityZoneDelim"},{[R]:Ze,[k]:[{[le]:"s3expressAvailabilityZoneDelim"},"--"]}],ZB=[{[E]:[Ye],[D]:{[K]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[W]:bf,[X]:{}},[v]:D},{[D]:{[K]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[W]:bf,[X]:{}},[v]:D}],Bse=[Cf],eD=[{[R]:Ho,[k]:[{[le]:eS},!1]}],tD=[{[R]:Ze,[k]:[{[le]:mD},"beta"]}],Dse=["*"],zi=[SD],rD=[{[R]:Ho,[k]:[{[le]:"Region"},!1]}],Vi=[{[R]:Ze,[k]:[{[le]:"Region"},"us-east-1"]}],Xy=[{[R]:Ze,[k]:[wD,_D]}],nD=[{[R]:St,[k]:[br,"resourceId[1]"],[pt]:sS},{[R]:Kn,[k]:[{[R]:Ze,[k]:[aS,Ef]}]}],Fse=[br,"resourceId[1]"],Jy=[{[R]:Kn,[k]:[{[R]:Ze,[k]:[{[R]:St,[k]:[br,"region"]},Ef]}]}],iD=[{[R]:Kn,[k]:[{[R]:Gr,[k]:[{[R]:St,[k]:[br,"resourceId[2]"]}]}]}],Lse=[br,"resourceId[2]"],Yy=[{[R]:Sf,[k]:[{[R]:St,[k]:[br,"region"]}],[pt]:"bucketPartition"}],oD=[{[R]:Ze,[k]:[PD,{[R]:St,[k]:[{[le]:"partitionResult"},Zt]}]}],Qy=[{[R]:Ho,[k]:[{[R]:St,[k]:[br,"region"]},!0]}],Zy=[{[R]:Ho,[k]:[xD,!1]}],sD=[{[R]:Ho,[k]:[aS,!1]}],aD=[{[R]:Ho,[k]:[{[le]:"Region"},!0]}],jse={version:"1.0",parameters:{Bucket:ha,Region:ha,UseFIPS:va,UseDualStack:va,Endpoint:ha,ForcePathStyle:va,Accelerate:va,UseGlobalEndpoint:va,UseObjectLambdaEndpoint:nd,Key:ha,Prefix:ha,CopySource:ha,DisableAccessPoints:nd,DisableMultiRegionAccessPoints:va,UseArnRegion:nd,UseS3ExpressControlEndpoint:nd,DisableS3ExpressSessionAuth:nd},rules:[{[E]:[{[R]:Gr,[k]:zy}],rules:[{[E]:[An,Ye],error:"Accelerate cannot be used with FIPS",[v]:Z},{[E]:[Je,wt],error:"Cannot set dual-stack in combination with a custom endpoint.",[v]:Z},{[E]:[wt,Ye],error:"A custom endpoint cannot be combined with FIPS",[v]:Z},{[E]:[wt,An],error:"A custom endpoint cannot be combined with S3 Accelerate",[v]:Z},{[E]:[Ye,SD,_B],error:"Partition does not support FIPS",[v]:Z},{[E]:[Cf,{[R]:Vn,[k]:[dr,0,6,On],[pt]:cB},{[R]:Ze,[k]:[{[le]:cB},"--x-s3"]}],rules:[{[E]:Vy,error:"S3Express does not support Dual-stack.",[v]:Z},{[E]:hf,error:"S3Express does not support S3 Accelerate.",[v]:Z},{[E]:Uo,rules:[{[E]:WB,rules:[{[E]:XB,rules:[{[E]:Ky,rules:[{endpoint:{[K]:lB,[W]:vi,[X]:ue},[v]:D}],[v]:N}],[v]:N},{[E]:Wy,rules:[{endpoint:{[K]:vf,[W]:vi,[X]:ue},[v]:D}],[v]:N},Iy],[v]:N},{[E]:XB,rules:[{[E]:Ky,rules:[{endpoint:{[K]:lB,[W]:bf,[X]:ue},[v]:D}],[v]:N}],[v]:N},{[E]:Wy,rules:[{endpoint:{[K]:vf,[W]:bf,[X]:ue},[v]:D}],[v]:N},Iy],[v]:N},{[E]:[yB,SB],rules:[{[E]:[CD,fe],rules:[{[E]:_a,endpoint:{[K]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[W]:vi,[X]:ue},[v]:D},{endpoint:{[K]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[W]:vi,[X]:ue},[v]:D}],[v]:N}],[v]:N},{[E]:Wy,rules:[{[E]:WB,rules:[{[E]:JB,rules:YB,[v]:N},{[E]:QB,rules:YB,[v]:N},EB],[v]:N},{[E]:JB,rules:ZB,[v]:N},{[E]:QB,rules:ZB,[v]:N},EB],[v]:N},Iy],[v]:N},{[E]:[CB,yB,SB],rules:[{[E]:Uo,endpoint:{[K]:_f,[W]:vi,[X]:ue},[v]:D},{[E]:_a,endpoint:{[K]:"https://s3express-control-fips.{Region}.amazonaws.com",[W]:vi,[X]:ue},[v]:D},{endpoint:{[K]:"https://s3express-control.{Region}.amazonaws.com",[W]:vi,[X]:ue},[v]:D}],[v]:N},{[E]:[Cf,{[R]:Vn,[k]:[dr,49,50,On],[pt]:uD},{[R]:Vn,[k]:[dr,8,12,On],[pt]:mD},{[R]:Vn,[k]:[dr,0,7,On],[pt]:dB},{[R]:Vn,[k]:[dr,32,49,On],[pt]:eS},{[R]:Sf,[k]:zy,[pt]:"regionPartition"},{[R]:Ze,[k]:[{[le]:dB},"--op-s3"]}],rules:[{[E]:eD,rules:[{[E]:[{[R]:Ze,[k]:[bB,"e"]}],rules:[{[E]:tD,rules:[wB,{[E]:Uo,endpoint:{[K]:"https://{Bucket}.ec2.{url#authority}",[W]:pf,[X]:ue},[v]:D}],[v]:N},{endpoint:{[K]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[W]:pf,[X]:ue},[v]:D}],[v]:N},{[E]:[{[R]:Ze,[k]:[bB,"o"]}],rules:[{[E]:tD,rules:[wB,{[E]:Uo,endpoint:{[K]:"https://{Bucket}.op-{outpostId}.{url#authority}",[W]:pf,[X]:ue},[v]:D}],[v]:N},{endpoint:{[K]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[W]:pf,[X]:ue},[v]:D}],[v]:N},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[v]:Z}],[v]:N},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[v]:Z}],[v]:N},{[E]:Bse,rules:[{[E]:[wt,{[R]:Kn,[k]:[{[R]:Gr,[k]:[{[R]:lD,[k]:Tse}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[v]:Z},{[E]:[Ty,bD],rules:[{[E]:zi,rules:[{[E]:rD,rules:[{[E]:[An,_B],error:"S3 Accelerate cannot be used in this region",[v]:Z},{[E]:[Je,Ye,bt,fe,Ot],endpoint:{[K]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Je,Ye,bt,fe,xe,jt],rules:[{endpoint:PB,[v]:D}],[v]:N},{[E]:[Je,Ye,bt,fe,xe,Mt],endpoint:PB,[v]:D},{[E]:[be,Ye,bt,fe,Ot],endpoint:{[K]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[be,Ye,bt,fe,xe,jt],rules:[{endpoint:xB,[v]:D}],[v]:N},{[E]:[be,Ye,bt,fe,xe,Mt],endpoint:xB,[v]:D},{[E]:[Je,_e,An,fe,Ot],endpoint:{[K]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Je,_e,An,fe,xe,jt],rules:[{endpoint:OB,[v]:D}],[v]:N},{[E]:[Je,_e,An,fe,xe,Mt],endpoint:OB,[v]:D},{[E]:[Je,_e,bt,fe,Ot],endpoint:{[K]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Je,_e,bt,fe,xe,jt],rules:[{endpoint:AB,[v]:D}],[v]:N},{[E]:[Je,_e,bt,fe,xe,Mt],endpoint:AB,[v]:D},{[E]:[be,_e,bt,wt,lr,yf,Ot],endpoint:{[K]:fD,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,_e,bt,wt,lr,Ny,Ot],endpoint:{[K]:vf,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,_e,bt,wt,lr,yf,xe,jt],rules:[{[E]:Vi,endpoint:By,[v]:D},{endpoint:By,[v]:D}],[v]:N},{[E]:[be,_e,bt,wt,lr,Ny,xe,jt],rules:[{[E]:Vi,endpoint:tS,[v]:D},RB],[v]:N},{[E]:[be,_e,bt,wt,lr,yf,xe,Mt],endpoint:By,[v]:D},{[E]:[be,_e,bt,wt,lr,Ny,xe,Mt],endpoint:tS,[v]:D},{[E]:[be,_e,An,fe,Ot],endpoint:{[K]:pD,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,_e,An,fe,xe,jt],rules:[{[E]:Vi,endpoint:Dy,[v]:D},{endpoint:Dy,[v]:D}],[v]:N},{[E]:[be,_e,An,fe,xe,Mt],endpoint:Dy,[v]:D},{[E]:[be,_e,bt,fe,Ot],endpoint:{[K]:uB,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,_e,bt,fe,xe,jt],rules:[{[E]:Vi,endpoint:{[K]:uB,[W]:Pt,[X]:ue},[v]:D},{endpoint:kB,[v]:D}],[v]:N},{[E]:[be,_e,bt,fe,xe,Mt],endpoint:kB,[v]:D}],[v]:N},gf],[v]:N}],[v]:N},{[E]:[wt,lr,{[R]:Ze,[k]:[{[R]:St,[k]:[ED,"scheme"]},"http"]},{[R]:dD,[k]:[dr,On]},Ty,_e,be,bt],rules:[{[E]:zi,rules:[{[E]:rD,rules:[RB],[v]:N},gf],[v]:N}],[v]:N},{[E]:[Ty,{[R]:gD,[k]:Nse,[pt]:hD}],rules:[{[E]:[{[R]:St,[k]:[br,"resourceId[0]"],[pt]:vD},{[R]:Kn,[k]:[{[R]:Ze,[k]:[wD,Ef]}]}],rules:[{[E]:[{[R]:Ze,[k]:[Fy,oS]}],rules:[{[E]:Xy,rules:[{[E]:nD,rules:[IB,TB,{[E]:Jy,rules:[NB,{[E]:iD,rules:[Ly,{[E]:Yy,rules:[{[E]:zi,rules:[{[E]:oD,rules:[{[E]:Qy,rules:[{[E]:[{[R]:Ze,[k]:[xD,Ef]}],error:"Invalid ARN: Missing account id",[v]:Z},{[E]:Zy,rules:[{[E]:sD,rules:[{[E]:Uo,endpoint:{[K]:mB,[W]:jy,[X]:ue},[v]:D},{[E]:_a,endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:jy,[X]:ue},[v]:D},{endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:jy,[X]:ue},[v]:D}],[v]:N},BB],[v]:N},My],[v]:N},qy],[v]:N},Uy],[v]:N}],[v]:N}],[v]:N},DB],[v]:N},{error:"Invalid ARN: bucket ARN is missing a region",[v]:Z}],[v]:N},FB],[v]:N},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[v]:Z}],[v]:N},{[E]:Xy,rules:[{[E]:nD,rules:[{[E]:Jy,rules:[{[E]:Xy,rules:[{[E]:Jy,rules:[NB,{[E]:iD,rules:[Ly,{[E]:Yy,rules:[{[E]:zi,rules:[{[E]:[{[R]:Ze,[k]:[PD,"{partitionResult#name}"]}],rules:[{[E]:Qy,rules:[{[E]:[{[R]:Ze,[k]:[Fy,ya]}],rules:[{[E]:Zy,rules:[{[E]:sD,rules:[{[E]:hf,error:"Access Points do not support S3 Accelerate",[v]:Z},{[E]:[Ye,Je],endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:id,[X]:ue},[v]:D},{[E]:[Ye,be],endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:id,[X]:ue},[v]:D},{[E]:[_e,Je],endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:id,[X]:ue},[v]:D},{[E]:[_e,be,wt,lr],endpoint:{[K]:mB,[W]:id,[X]:ue},[v]:D},{[E]:[_e,be],endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:id,[X]:ue},[v]:D}],[v]:N},BB],[v]:N},My],[v]:N},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[v]:Z}],[v]:N},qy],[v]:N},Uy],[v]:N}],[v]:N}],[v]:N},DB],[v]:N}],[v]:N}],[v]:N},{[E]:[{[R]:Ho,[k]:[aS,On]}],rules:[{[E]:Vy,error:"S3 MRAP does not support dual-stack",[v]:Z},{[E]:_a,error:"S3 MRAP does not support FIPS",[v]:Z},{[E]:hf,error:"S3 MRAP does not support S3 Accelerate",[v]:Z},{[E]:[{[R]:qt,[k]:[{[le]:"DisableMultiRegionAccessPoints"},On]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[v]:Z},{[E]:[{[R]:Sf,[k]:zy,[pt]:fB}],rules:[{[E]:[{[R]:Ze,[k]:[{[R]:St,[k]:[{[le]:fB},Zt]},{[R]:St,[k]:[br,"partition"]}]}],rules:[{endpoint:{[K]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[W]:{[Rn]:[{[Ir]:On,name:iS,[Tr]:ya,[nS]:Dse}]},[X]:ue},[v]:D}],[v]:N},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[v]:Z}],[v]:N}],[v]:N},{error:"Invalid Access Point Name",[v]:Z}],[v]:N},FB],[v]:N},{[E]:[{[R]:Ze,[k]:[Fy,od]}],rules:[{[E]:Vy,error:"S3 Outposts does not support Dual-stack",[v]:Z},{[E]:_a,error:"S3 Outposts does not support FIPS",[v]:Z},{[E]:hf,error:"S3 Outposts does not support S3 Accelerate",[v]:Z},{[E]:[{[R]:Gr,[k]:[{[R]:St,[k]:[br,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[v]:Z},{[E]:[{[R]:St,[k]:Fse,[pt]:eS}],rules:[{[E]:eD,rules:[Ly,{[E]:Yy,rules:[{[E]:zi,rules:[{[E]:oD,rules:[{[E]:Qy,rules:[{[E]:Zy,rules:[{[E]:[{[R]:St,[k]:Lse,[pt]:pB}],rules:[{[E]:[{[R]:St,[k]:[br,"resourceId[3]"],[pt]:sS}],rules:[{[E]:[{[R]:Ze,[k]:[{[le]:pB},_D]}],rules:[{[E]:Uo,endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[W]:LB,[X]:ue},[v]:D},{endpoint:{[K]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[W]:LB,[X]:ue},[v]:D}],[v]:N},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[v]:Z}],[v]:N},{error:"Invalid ARN: expected an access point name",[v]:Z}],[v]:N},{error:"Invalid ARN: Expected a 4-component resource",[v]:Z}],[v]:N},My],[v]:N},qy],[v]:N},Uy],[v]:N}],[v]:N}],[v]:N},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[v]:Z}],[v]:N},{error:"Invalid ARN: The Outpost Id was not set",[v]:Z}],[v]:N},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[v]:Z}],[v]:N},{error:"Invalid ARN: No ARN type specified",[v]:Z}],[v]:N},{[E]:[{[R]:Vn,[k]:[dr,0,4,kse],[pt]:gB},{[R]:Ze,[k]:[{[le]:gB},"arn:"]},{[R]:Kn,[k]:[{[R]:Gr,[k]:[jB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[v]:Z},{[E]:[{[R]:qt,[k]:[Ise,On]},jB],error:"Path-style addressing cannot be used with ARN buckets",[v]:Z},{[E]:Ky,rules:[{[E]:zi,rules:[{[E]:[bt],rules:[{[E]:[Je,fe,Ye,Ot],endpoint:{[K]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Je,fe,Ye,xe,jt],rules:[{endpoint:MB,[v]:D}],[v]:N},{[E]:[Je,fe,Ye,xe,Mt],endpoint:MB,[v]:D},{[E]:[be,fe,Ye,Ot],endpoint:{[K]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Lt,[X]:ue},[v]:D},{[E]:[be,fe,Ye,xe,jt],rules:[{endpoint:qB,[v]:D}],[v]:N},{[E]:[be,fe,Ye,xe,Mt],endpoint:qB,[v]:D},{[E]:[Je,fe,_e,Ot],endpoint:{[K]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Je,fe,_e,xe,jt],rules:[{endpoint:UB,[v]:D}],[v]:N},{[E]:[Je,fe,_e,xe,Mt],endpoint:UB,[v]:D},{[E]:[be,wt,lr,_e,Ot],endpoint:{[K]:yD,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,wt,lr,_e,xe,jt],rules:[{[E]:Vi,endpoint:Hy,[v]:D},{endpoint:Hy,[v]:D}],[v]:N},{[E]:[be,wt,lr,_e,xe,Mt],endpoint:Hy,[v]:D},{[E]:[be,fe,_e,Ot],endpoint:{[K]:hB,[W]:Lt,[X]:ue},[v]:D},{[E]:[be,fe,_e,xe,jt],rules:[{[E]:Vi,endpoint:{[K]:hB,[W]:Pt,[X]:ue},[v]:D},{endpoint:HB,[v]:D}],[v]:N},{[E]:[be,fe,_e,xe,Mt],endpoint:HB,[v]:D}],[v]:N},{error:"Path-style addressing cannot be used with S3 Accelerate",[v]:Z}],[v]:N}],[v]:N}],[v]:N},{[E]:[{[R]:Gr,[k]:[GB]},{[R]:qt,[k]:[GB,On]}],rules:[{[E]:zi,rules:[{[E]:aD,rules:[IB,TB,{[E]:Uo,endpoint:{[K]:_f,[W]:Gy,[X]:ue},[v]:D},{[E]:_a,endpoint:{[K]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[W]:Gy,[X]:ue},[v]:D},{endpoint:{[K]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[W]:Gy,[X]:ue},[v]:D}],[v]:N},gf],[v]:N}],[v]:N},{[E]:[CB],rules:[{[E]:zi,rules:[{[E]:aD,rules:[{[E]:[Ye,Je,fe,Ot],endpoint:{[K]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Ye,Je,fe,xe,jt],rules:[{endpoint:$B,[v]:D}],[v]:N},{[E]:[Ye,Je,fe,xe,Mt],endpoint:$B,[v]:D},{[E]:[Ye,be,fe,Ot],endpoint:{[K]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[Ye,be,fe,xe,jt],rules:[{endpoint:zB,[v]:D}],[v]:N},{[E]:[Ye,be,fe,xe,Mt],endpoint:zB,[v]:D},{[E]:[_e,Je,fe,Ot],endpoint:{[K]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[W]:Lt,[X]:ue},[v]:D},{[E]:[_e,Je,fe,xe,jt],rules:[{endpoint:VB,[v]:D}],[v]:N},{[E]:[_e,Je,fe,xe,Mt],endpoint:VB,[v]:D},{[E]:[_e,be,wt,lr,Ot],endpoint:{[K]:_f,[W]:Lt,[X]:ue},[v]:D},{[E]:[_e,be,wt,lr,xe,jt],rules:[{[E]:Vi,endpoint:$y,[v]:D},{endpoint:$y,[v]:D}],[v]:N},{[E]:[_e,be,wt,lr,xe,Mt],endpoint:$y,[v]:D},{[E]:[_e,be,fe,Ot],endpoint:{[K]:vB,[W]:Lt,[X]:ue},[v]:D},{[E]:[_e,be,fe,xe,jt],rules:[{[E]:Vi,endpoint:{[K]:vB,[W]:Pt,[X]:ue},[v]:D},{endpoint:KB,[v]:D}],[v]:N},{[E]:[_e,be,fe,xe,Mt],endpoint:KB,[v]:D}],[v]:N},gf],[v]:N}],[v]:N}],[v]:N},{error:"A region must be set when sending requests to S3.",[v]:Z}]};wf.ruleSet=jse});var cS=h(Pf=>{"use strict";u();Object.defineProperty(Pf,"__esModule",{value:!0});Pf.defaultEndpointResolver=void 0;var Mse=pa(),AD=ma(),qse=OD(),Use=(e,t={})=>(0,AD.resolveEndpoint)(qse.ruleSet,{endpointParams:e,logger:t.logger});Pf.defaultEndpointResolver=Use;AD.customEndpointFunctions.aws=Mse.awsEndpointFunctions});var dS=h(Ki=>{"use strict";u();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.resolveHttpAuthSchemeConfig=Ki.defaultS3HttpAuthSchemeProvider=Ki.defaultS3HttpAuthSchemeParametersProvider=void 0;var RD=(Xt(),ve(Wt)),Hse=ky(),Gse=Mi(),lS=Ur(),$se=cS(),zse=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=await e(t,r,n),o=(0,lS.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let s=await(0,Gse.resolveParams)(n,{getEndpointParameterInstructions:o},t);return Object.assign(i,s)},Vse=async(e,t,r)=>({operation:(0,lS.getSmithyContext)(t).operation,region:await(0,lS.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ki.defaultS3HttpAuthSchemeParametersProvider=zse(Vse);function kD(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ID(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Kse=(e,t,r)=>i=>{let s=e(i).properties?.authSchemes;if(!s)return t(i);let c=[];for(let l of s){let{name:m,properties:f={},...g}=l,y=m.toLowerCase();m!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${m}\` to \`${y}\``);let S;if(y==="sigv4a"){S="aws.auth#sigv4a";let A=s.find(U=>{let Q=U.name.toLowerCase();return Q!=="sigv4a"&&Q.startsWith("sigv4")});if(!Hse.signatureV4CrtContainer.CrtSignerV4&&A)continue}else if(y.startsWith("sigv4"))S="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let b=r[S];if(!b)throw new Error(`Could not find HttpAuthOption create function for \`${S}\``);let I=b(i);I.schemeId=S,I.signingProperties={...I.signingProperties||{},...g,...f},c.push(I)}return c},Wse=e=>{let t=[];switch(e.operation){default:t.push(kD(e)),t.push(ID(e))}return t};Ki.defaultS3HttpAuthSchemeProvider=Kse($se.defaultEndpointResolver,Wse,{"aws.auth#sigv4":kD,"aws.auth#sigv4a":ID});var Xse=e=>{let t=(0,RD.resolveAwsSdkSigV4Config)(e);return{...(0,RD.resolveAwsSdkSigV4AConfig)(t)}};Ki.resolveHttpAuthSchemeConfig=Xse});var MD=h((MVe,jD)=>{"use strict";u();var Of=Object.defineProperty,Jse=Object.getOwnPropertyDescriptor,Yse=Object.getOwnPropertyNames,Qse=Object.prototype.hasOwnProperty,Af=(e,t)=>Of(e,"name",{value:t,configurable:!0}),Zse=(e,t)=>{for(var r in t)Of(e,r,{get:t[r],enumerable:!0})},eae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Yse(t))!Qse.call(e,i)&&i!==r&&Of(e,i,{get:()=>t[i],enumerable:!(n=Jse(t,i))||n.enumerable});return e},tae=e=>eae(Of({},"__esModule",{value:!0}),e),TD={};Zse(TD,{XmlNode:()=>rae,XmlText:()=>FD});jD.exports=tae(TD);function ND(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Af(ND,"escapeAttribute");function BD(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Af(BD,"escapeElement");var DD=class{constructor(t){this.value=t}toString(){return BD(""+this.value)}};Af(DD,"XmlText");var FD=DD,LD=class xf{constructor(t,r=[]){this.name=t,this.children=r,this.attributes={}}static of(t,r,n){let i=new xf(t);return r!==void 0&&i.addChildNode(new FD(r)),n!==void 0&&i.withName(n),i}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let i=xf.of(r,t[r]).withName(n);this.c(i)}}l(t,r,n,i){t[r]!=null&&i().map(s=>{s.withName(n),this.c(s)})}lc(t,r,n,i){if(t[r]!=null){let o=i(),s=new xf(n);o.map(c=>{s.c(c)}),this.c(s)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let i of Object.keys(n)){let o=n[i];o!=null&&(r+=` ${i}="${ND(""+o)}"`)}return r+=t?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}};Af(LD,"XmlNode");var rae=LD});var Xn={};Nu(Xn,{__addDisposableResource:()=>sF,__assign:()=>Rf,__asyncDelegator:()=>QD,__asyncGenerator:()=>YD,__asyncValues:()=>ZD,__await:()=>Sa,__awaiter:()=>zD,__classPrivateFieldGet:()=>nF,__classPrivateFieldIn:()=>oF,__classPrivateFieldSet:()=>iF,__createBinding:()=>If,__decorate:()=>HD,__disposeResources:()=>aF,__esDecorate:()=>nae,__exportStar:()=>KD,__extends:()=>qD,__generator:()=>VD,__importDefault:()=>rF,__importStar:()=>tF,__makeTemplateObject:()=>eF,__metadata:()=>$D,__param:()=>GD,__propKey:()=>oae,__read:()=>mS,__rest:()=>UD,__runInitializers:()=>iae,__setFunctionName:()=>sae,__spread:()=>WD,__spreadArray:()=>JD,__spreadArrays:()=>XD,__values:()=>kf,default:()=>lae});function qD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function UD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function HD(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function GD(e,t){return function(r,n){t(r,n,e)}}function nae(e,t,r,n,i,o){function s(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,f=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),g,y=!1,S=r.length-1;S>=0;S--){var b={};for(var I in n)b[I]=I==="access"?{}:n[I];for(var I in n.access)b.access[I]=n.access[I];b.addInitializer=function(U){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(U||null))};var A=(0,r[S])(c==="accessor"?{get:f.get,set:f.set}:f[l],b);if(c==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(g=s(A.get))&&(f.get=g),(g=s(A.set))&&(f.set=g),(g=s(A.init))&&i.unshift(g)}else(g=s(A))&&(c==="field"?i.unshift(g):f[l]=g)}m&&Object.defineProperty(m,n.name,f),y=!0}function iae(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function oae(e){return typeof e=="symbol"?e:"".concat(e)}function sae(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function $D(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function zD(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(f){try{m(n.next(f))}catch(g){s(g)}}function l(f){try{m(n.throw(f))}catch(g){s(g)}}function m(f){f.done?o(f.value):i(f.value).then(c,l)}m((n=n.apply(e,t||[])).next())})}function VD(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(m){return function(f){return l([m,f])}}function l(m){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(f){m=[6,f],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function KD(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&If(t,e,r)}function kf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function WD(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mS(arguments[t]));return e}function XD(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)n[i]=o[s];return n}function JD(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Sa(e){return this instanceof Sa?(this.v=e,this):new Sa(e)}function YD(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(b){return Promise.resolve(b).then(S,g)}}function c(S,b){n[S]&&(i[S]=function(I){return new Promise(function(A,U){o.push([S,I,A,U])>1||l(S,I)})},b&&(i[S]=b(i[S])))}function l(S,b){try{m(n[S](b))}catch(I){y(o[0][3],I)}}function m(S){S.value instanceof Sa?Promise.resolve(S.value.v).then(f,g):y(o[0][2],S)}function f(S){l("next",S)}function g(S){l("throw",S)}function y(S,b){S(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function QD(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(s){return(r=!r)?{value:Sa(e[i](s)),done:!1}:o?o(s):s}:o}}function ZD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof kf=="function"?kf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(c,l){s=e[o](s),i(c,l,s.done,s.value)})}}function i(o,s,c,l){Promise.resolve(l).then(function(m){o({value:m,done:c})},s)}}function eF(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function tF(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&If(t,e,r);return aae(t,e),t}function rF(e){return e&&e.__esModule?e:{default:e}}function nF(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function iF(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function oF(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sF(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function aF(e){function t(o){e.error=e.hasError?new cae(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}var uS,Rf,If,aae,cae,lae,Jn=oe(()=>{u();uS=function(e,t){return uS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uS(e,t)};Rf=function(){return Rf=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Rf.apply(this,arguments)};If=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};aae=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};cae=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};lae={__extends:qD,__assign:Rf,__rest:UD,__decorate:HD,__param:GD,__metadata:$D,__awaiter:zD,__generator:VD,__createBinding:If,__exportStar:KD,__values:kf,__read:mS,__spread:WD,__spreadArrays:XD,__spreadArray:JD,__await:Sa,__asyncGenerator:YD,__asyncDelegator:QD,__asyncValues:ZD,__makeTemplateObject:eF,__importStar:tF,__importDefault:rF,__classPrivateFieldGet:nF,__classPrivateFieldSet:iF,__classPrivateFieldIn:oF,__addDisposableResource:sF,__disposeResources:aF}});var cF=h((HVe,dae)=>{dae.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.637.0","@aws-sdk/client-sts":"3.637.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-bucket-endpoint":"3.620.0","@aws-sdk/middleware-expect-continue":"3.620.0","@aws-sdk/middleware-flexible-checksums":"3.620.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-location-constraint":"3.609.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-sdk-s3":"3.635.0","@aws-sdk/middleware-ssec":"3.609.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/signature-v4-multi-region":"3.635.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@aws-sdk/xml-builder":"3.609.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/eventstream-serde-browser":"^3.0.6","@smithy/eventstream-serde-config-resolver":"^3.0.3","@smithy/eventstream-serde-node":"^3.0.5","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-blob-browser":"^3.1.2","@smithy/hash-node":"^3.0.3","@smithy/hash-stream-node":"^3.1.2","@smithy/invalid-dependency":"^3.0.3","@smithy/md5-js":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-stream":"^3.1.3","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.2",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.635.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var fS=h((GVe,hF)=>{"use strict";u();var Tf=Object.defineProperty,uae=Object.getOwnPropertyDescriptor,mae=Object.getOwnPropertyNames,fae=Object.prototype.hasOwnProperty,pae=(e,t)=>Tf(e,"name",{value:t,configurable:!0}),gae=(e,t)=>{for(var r in t)Tf(e,r,{get:t[r],enumerable:!0})},hae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mae(t))!fae.call(e,i)&&i!==r&&Tf(e,i,{get:()=>t[i],enumerable:!(n=uae(t,i))||n.enumerable});return e},vae=e=>hae(Tf({},"__esModule",{value:!0}),e),lF={};gae(lF,{ENV_ACCOUNT_ID:()=>gF,ENV_CREDENTIAL_SCOPE:()=>pF,ENV_EXPIRATION:()=>fF,ENV_KEY:()=>dF,ENV_SECRET:()=>uF,ENV_SESSION:()=>mF,fromEnv:()=>yae});hF.exports=vae(lF);var _ae=ft(),dF="AWS_ACCESS_KEY_ID",uF="AWS_SECRET_ACCESS_KEY",mF="AWS_SESSION_TOKEN",fF="AWS_CREDENTIAL_EXPIRATION",pF="AWS_CREDENTIAL_SCOPE",gF="AWS_ACCOUNT_ID",yae=pae(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[dF],n=process.env[uF],i=process.env[mF],o=process.env[fF],s=process.env[pF],c=process.env[gF];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...i&&{sessionToken:i},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...c&&{accountId:c}};throw new _ae.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Ea=h(Nf=>{"use strict";u();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.getHomeDir=void 0;var Sae=P("os"),Eae=P("path"),pS={},Cae=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",bae=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Eae.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=Cae();return pS[i]||(pS[i]=(0,Sae.homedir)()),pS[i]};Nf.getHomeDir=bae});var gS=h(Bf=>{"use strict";u();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getSSOTokenFilepath=void 0;var wae=P("crypto"),Pae=P("path"),xae=Ea(),Oae=e=>{let r=(0,wae.createHash)("sha1").update(e).digest("hex");return(0,Pae.join)((0,xae.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Bf.getSSOTokenFilepath=Oae});var vF=h(Df=>{"use strict";u();Object.defineProperty(Df,"__esModule",{value:!0});Df.getSSOTokenFromFile=void 0;var Aae=P("fs"),Rae=gS(),{readFile:kae}=Aae.promises,Iae=async e=>{let t=(0,Rae.getSSOTokenFilepath)(e),r=await kae(t,"utf8");return JSON.parse(r)};Df.getSSOTokenFromFile=Iae});var vS=h(Ff=>{"use strict";u();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.slurpFile=void 0;var Tae=P("fs"),{readFile:Nae}=Tae.promises,hS={},Bae=(e,t)=>((!hS[e]||t?.ignoreCache)&&(hS[e]=Nae(e,"utf8")),hS[e]);Ff.slurpFile=Bae});var wF=h((ZVe,ad)=>{u();var Mf=Object.defineProperty,Dae=Object.getOwnPropertyDescriptor,Fae=Object.getOwnPropertyNames,Lae=Object.prototype.hasOwnProperty,$r=(e,t)=>Mf(e,"name",{value:t,configurable:!0}),jae=(e,t)=>{for(var r in t)Mf(e,r,{get:t[r],enumerable:!0})},_S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fae(t))!Lae.call(e,i)&&i!==r&&Mf(e,i,{get:()=>t[i],enumerable:!(n=Dae(t,i))||n.enumerable});return e},SS=(e,t,r)=>(_S(e,t,"default"),r&&_S(r,t,"default")),Mae=e=>_S(Mf({},"__esModule",{value:!0}),e),sd={};jae(sd,{CONFIG_PREFIX_SEPARATOR:()=>Go,DEFAULT_PROFILE:()=>EF,ENV_PROFILE:()=>SF,getProfileName:()=>qae,loadSharedConfigFiles:()=>bF,loadSsoSessionData:()=>Zae,parseKnownFiles:()=>tce});ad.exports=Mae(sd);SS(sd,Ea(),ad.exports);var SF="AWS_PROFILE",EF="default",qae=$r(e=>e.profile||process.env[SF]||EF,"getProfileName");SS(sd,gS(),ad.exports);SS(sd,vF(),ad.exports);var Lf=ut(),Uae=$r(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Go);return r===-1?!1:Object.values(Lf.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Go),o=r.substring(0,i)===Lf.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),jf=P("path"),Hae=Ea(),Gae="AWS_CONFIG_FILE",CF=$r(()=>process.env[Gae]||(0,jf.join)((0,Hae.getHomeDir)(),".aws","config"),"getConfigFilepath"),$ae=Ea(),zae="AWS_SHARED_CREDENTIALS_FILE",Vae=$r(()=>process.env[zae]||(0,jf.join)((0,$ae.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Kae=Ea(),Wae=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Xae=["__proto__","profile __proto__"],yS=$r(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=Wae.exec(c);if(l){let[,m,,f]=l;Object.values(Lf.IniSectionType).includes(m)&&(r=[m,f].join(Go))}else r=c;if(Xae.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Go):l;t[r][f]=m}}}}return t},"parseIni"),_F=vS(),yF=$r(()=>({}),"swallowError"),Go=".",bF=$r(async(e={})=>{let{filepath:t=Vae(),configFilepath:r=CF()}=e,n=(0,Kae.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,jf.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,jf.join)(n,r.slice(2)));let c=await Promise.all([(0,_F.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(yS).then(Uae).catch(yF),(0,_F.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(yS).catch(yF)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Jae=$r(e=>Object.entries(e).filter(([t])=>t.startsWith(Lf.IniSectionType.SSO_SESSION+Go)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Go)+1)]:n}),{}),"getSsoSessionData"),Yae=vS(),Qae=$r(()=>({}),"swallowError"),Zae=$r(async(e={})=>(0,Yae.slurpFile)(e.configFilepath??CF()).then(yS).then(Jae).catch(Qae),"loadSsoSessionData"),ece=$r((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),tce=$r(async e=>{let t=await bF(e);return ece(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Ca=h(qf=>{"use strict";u();Object.defineProperty(qf,"__esModule",{value:!0});qf.getHomeDir=void 0;var rce=P("os"),nce=P("path"),ES={},ice=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",oce=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${nce.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=ice();return ES[i]||(ES[i]=(0,rce.homedir)()),ES[i]};qf.getHomeDir=oce});var CS=h(Uf=>{"use strict";u();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.getSSOTokenFilepath=void 0;var sce=P("crypto"),ace=P("path"),cce=Ca(),lce=e=>{let r=(0,sce.createHash)("sha1").update(e).digest("hex");return(0,ace.join)((0,cce.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Uf.getSSOTokenFilepath=lce});var PF=h(Hf=>{"use strict";u();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.getSSOTokenFromFile=void 0;var dce=P("fs"),uce=CS(),{readFile:mce}=dce.promises,fce=async e=>{let t=(0,uce.getSSOTokenFilepath)(e),r=await mce(t,"utf8");return JSON.parse(r)};Hf.getSSOTokenFromFile=fce});var wS=h(Gf=>{"use strict";u();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.slurpFile=void 0;var pce=P("fs"),{readFile:gce}=pce.promises,bS={},hce=(e,t)=>((!bS[e]||t?.ignoreCache)&&(bS[e]=gce(e,"utf8")),bS[e]);Gf.slurpFile=hce});var TF=h((lKe,ld)=>{u();var Vf=Object.defineProperty,vce=Object.getOwnPropertyDescriptor,_ce=Object.getOwnPropertyNames,yce=Object.prototype.hasOwnProperty,zr=(e,t)=>Vf(e,"name",{value:t,configurable:!0}),Sce=(e,t)=>{for(var r in t)Vf(e,r,{get:t[r],enumerable:!0})},PS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _ce(t))!yce.call(e,i)&&i!==r&&Vf(e,i,{get:()=>t[i],enumerable:!(n=vce(t,i))||n.enumerable});return e},OS=(e,t,r)=>(PS(e,t,"default"),r&&PS(r,t,"default")),Ece=e=>PS(Vf({},"__esModule",{value:!0}),e),cd={};Sce(cd,{CONFIG_PREFIX_SEPARATOR:()=>$o,DEFAULT_PROFILE:()=>RF,ENV_PROFILE:()=>AF,getProfileName:()=>Cce,loadSharedConfigFiles:()=>IF,loadSsoSessionData:()=>Dce,parseKnownFiles:()=>Lce});ld.exports=Ece(cd);OS(cd,Ca(),ld.exports);var AF="AWS_PROFILE",RF="default",Cce=zr(e=>e.profile||process.env[AF]||RF,"getProfileName");OS(cd,CS(),ld.exports);OS(cd,PF(),ld.exports);var $f=ut(),bce=zr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf($o);return r===-1?!1:Object.values($f.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf($o),o=r.substring(0,i)===$f.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),zf=P("path"),wce=Ca(),Pce="AWS_CONFIG_FILE",kF=zr(()=>process.env[Pce]||(0,zf.join)((0,wce.getHomeDir)(),".aws","config"),"getConfigFilepath"),xce=Ca(),Oce="AWS_SHARED_CREDENTIALS_FILE",Ace=zr(()=>process.env[Oce]||(0,zf.join)((0,xce.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Rce=Ca(),kce=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Ice=["__proto__","profile __proto__"],xS=zr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=kce.exec(c);if(l){let[,m,,f]=l;Object.values($f.IniSectionType).includes(m)&&(r=[m,f].join($o))}else r=c;if(Ice.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join($o):l;t[r][f]=m}}}}return t},"parseIni"),xF=wS(),OF=zr(()=>({}),"swallowError"),$o=".",IF=zr(async(e={})=>{let{filepath:t=Ace(),configFilepath:r=kF()}=e,n=(0,Rce.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,zf.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,zf.join)(n,r.slice(2)));let c=await Promise.all([(0,xF.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(xS).then(bce).catch(OF),(0,xF.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(xS).catch(OF)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Tce=zr(e=>Object.entries(e).filter(([t])=>t.startsWith($f.IniSectionType.SSO_SESSION+$o)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf($o)+1)]:n}),{}),"getSsoSessionData"),Nce=wS(),Bce=zr(()=>({}),"swallowError"),Dce=zr(async(e={})=>(0,Nce.slurpFile)(e.configFilepath??kF()).then(xS).then(Tce).catch(Bce),"loadSsoSessionData"),Fce=zr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),Lce=zr(async e=>{let t=await IF(e);return Fce(t.configFile,t.credentialsFile)},"parseKnownFiles")});var FF=h((uKe,DF)=>{u();var Kf=Object.defineProperty,jce=Object.getOwnPropertyDescriptor,Mce=Object.getOwnPropertyNames,qce=Object.prototype.hasOwnProperty,ba=(e,t)=>Kf(e,"name",{value:t,configurable:!0}),Uce=(e,t)=>{for(var r in t)Kf(e,r,{get:t[r],enumerable:!0})},Hce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mce(t))!qce.call(e,i)&&i!==r&&Kf(e,i,{get:()=>t[i],enumerable:!(n=jce(t,i))||n.enumerable});return e},Gce=e=>Hce(Kf({},"__esModule",{value:!0}),e),BF={};Uce(BF,{loadConfig:()=>Wce});DF.exports=Gce(BF);var dd=ft();function AS(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ba(AS,"getSelectorName");var $ce=ba((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new dd.CredentialsProviderError(r.message||`Not found in ENV: ${AS(e.toString())}`,{logger:t})}},"fromEnv"),NF=TF(),zce=ba((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,NF.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,NF.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new dd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${AS(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Vce=ba(e=>typeof e=="function","isFunction"),Kce=ba(e=>Vce(e)?async()=>await e():(0,dd.fromStatic)(e),"fromStatic"),Wce=ba(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,dd.memoize)((0,dd.chain)($ce(e),zce(t,n),Kce(r))),"loadConfig")});var ud=h((fKe,YF)=>{u();var Jf=Object.defineProperty,Xce=Object.getOwnPropertyDescriptor,Jce=Object.getOwnPropertyNames,Yce=Object.prototype.hasOwnProperty,xt=(e,t)=>Jf(e,"name",{value:t,configurable:!0}),Qce=(e,t)=>{for(var r in t)Jf(e,r,{get:t[r],enumerable:!0})},Zce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jce(t))!Yce.call(e,i)&&i!==r&&Jf(e,i,{get:()=>t[i],enumerable:!(n=Xce(t,i))||n.enumerable});return e},ele=e=>Zce(Jf({},"__esModule",{value:!0}),e),qF={};Qce(qF,{DEFAULT_MAX_RETRIES:()=>$F,DEFAULT_TIMEOUT:()=>GF,ENV_CMDS_AUTH_TOKEN:()=>IS,ENV_CMDS_FULL_URI:()=>Wf,ENV_CMDS_RELATIVE_URI:()=>Xf,Endpoint:()=>KF,fromContainerMetadata:()=>ile,fromInstanceMetadata:()=>Ple,getInstanceMetadataEndpoint:()=>XF,httpRequest:()=>wa,providerConfigFromInit:()=>TS});YF.exports=ele(qF);var tle=P("url"),Yn=ft(),rle=P("buffer"),nle=P("http");function wa(e){return new Promise((t,r)=>{var n;let i=(0,nle.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",o=>{r(Object.assign(new Yn.ProviderError("Unable to connect to instance metadata service"),o)),i.destroy()}),i.on("timeout",()=>{r(new Yn.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Yn.ProviderError("Error response received from instance metadata service"),{statusCode:s})),i.destroy());let c=[];o.on("data",l=>{c.push(l)}),o.on("end",()=>{t(rle.Buffer.concat(c)),i.destroy()})}),i.end()})}xt(wa,"httpRequest");var UF=xt(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),HF=xt(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),GF=1e3,$F=0,TS=xt(({maxRetries:e=$F,timeout:t=GF})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),kS=xt((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Wf="AWS_CONTAINER_CREDENTIALS_FULL_URI",Xf="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",IS="AWS_CONTAINER_AUTHORIZATION_TOKEN",ile=xt((e={})=>{let{timeout:t,maxRetries:r}=TS(e);return()=>kS(async()=>{let n=await lle({logger:e.logger}),i=JSON.parse(await ole(t,n));if(!UF(i))throw new Yn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return HF(i)},r)},"fromContainerMetadata"),ole=xt(async(e,t)=>(process.env[IS]&&(t.headers={...t.headers,Authorization:process.env[IS]}),(await wa({...t,timeout:e})).toString()),"requestFromEcsImds"),sle="169.254.170.2",ale={localhost:!0,"127.0.0.1":!0},cle={"http:":!0,"https:":!0},lle=xt(async({logger:e})=>{if(process.env[Xf])return{hostname:sle,path:process.env[Xf]};if(process.env[Wf]){let t=(0,tle.parse)(process.env[Wf]);if(!t.hostname||!(t.hostname in ale))throw new Yn.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in cle))throw new Yn.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Yn.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Xf} or ${Wf} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),zF=class VF extends Yn.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,VF.prototype)}};xt(zF,"InstanceMetadataV1FallbackError");var dle=zF,NS=FF(),ule=Fo(),KF=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(KF||{}),mle="AWS_EC2_METADATA_SERVICE_ENDPOINT",fle="ec2_metadata_service_endpoint",ple={environmentVariableSelector:e=>e[mle],configFileSelector:e=>e[fle],default:void 0},WF=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(WF||{}),gle="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",hle="ec2_metadata_service_endpoint_mode",vle={environmentVariableSelector:e=>e[gle],configFileSelector:e=>e[hle],default:"IPv4"},XF=xt(async()=>(0,ule.parseUrl)(await _le()||await yle()),"getInstanceMetadataEndpoint"),_le=xt(async()=>(0,NS.loadConfig)(ple)(),"getFromEndpointConfig"),yle=xt(async()=>{let e=await(0,NS.loadConfig)(vle)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(WF)}`)}},"getFromEndpointModeConfig"),Sle=5*60,Ele=5*60,Cle="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",LF=xt((e,t)=>{let r=Sle+Math.floor(Math.random()*Ele),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Cle);let i=e.originalExpiration??e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),ble=xt((e,t={})=>{let r=t?.logger||console,n;return async()=>{let i;try{i=await e(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=LF(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=LF(n,r);else throw o}return n=i,i}},"staticStabilityProvider"),JF="/latest/meta-data/iam/security-credentials/",wle="/latest/api/token",RS="AWS_EC2_METADATA_V1_DISABLED",jF="ec2_metadata_v1_disabled",MF="x-aws-ec2-metadata-token",Ple=xt((e={})=>ble(xle(e),{logger:e.logger}),"fromInstanceMetadata"),xle=xt((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:i,maxRetries:o}=TS(e),s=xt(async(c,l)=>{var m;if(t||((m=l.headers)==null?void 0:m[MF])==null){let y=!1,S=!1,b=await(0,NS.loadConfig)({environmentVariableSelector:I=>{let A=I[RS];if(S=!!A&&A!=="false",A===void 0)throw new Yn.CredentialsProviderError(`${RS} not set in env, checking config file next.`,{logger:e.logger});return S},configFileSelector:I=>{let A=I[jF];return y=!!A&&A!=="false",y},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||b){let I=[];throw e.ec2MetadataV1Disabled&&I.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),y&&I.push(`config file profile (${jF})`),S&&I.push(`process environment variable (${RS})`),new dle(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${I.join(", ")}].`)}}let g=(await kS(async()=>{let y;try{y=await Ale(l)}catch(S){throw S.statusCode===401&&(t=!1),S}return y},c)).trim();return kS(async()=>{let y;try{y=await Rle(g,l,e)}catch(S){throw S.statusCode===401&&(t=!1),S}return y},c)},"getCredentials");return async()=>{let c=await XF();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...c,timeout:i});{let l;try{l=(await Ole({...c,timeout:i})).toString()}catch(m){if(m?.statusCode===400)throw Object.assign(m,{message:"EC2 Metadata token request returned error"});return(m.message==="TimeoutError"||[403,404,405].includes(m.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...c,timeout:i})}return s(o,{...c,headers:{[MF]:l},timeout:i})}}},"getInstanceMetadataProvider"),Ole=xt(async e=>wa({...e,path:wle,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Ale=xt(async e=>(await wa({...e,path:JF})).toString(),"getProfile"),Rle=xt(async(e,t,r)=>{let n=JSON.parse((await wa({...t,path:JF+e})).toString());if(!UF(n))throw new Yn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return HF(n)},"getCredentialsFromProfile")});var QF=h(Yf=>{"use strict";u();Object.defineProperty(Yf,"__esModule",{value:!0});Yf.checkUrl=void 0;var kle=ft(),Ile="169.254.170.2",Tle="169.254.170.23",Nle="[fd00:ec2::23]",Ble=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Ile||e.hostname===Tle||e.hostname===Nle)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=i=>{let o=parseInt(i,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new kle.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Yf.checkUrl=Ble});var ZF=h(Pa=>{"use strict";u();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.getCredentials=Pa.createGetRequest=void 0;var BS=ft(),Dle=Ke(),Fle=We(),Lle=Nl();function jle(e){return new Dle.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}Pa.createGetRequest=jle;async function Mle(e,t){let n=await(0,Lle.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new BS.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:(0,Fle.parseRfc3339DateTime)(i.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new BS.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:i.Code,Message:i.Message})}throw new BS.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}Pa.getCredentials=Mle});var e1=h(Qf=>{"use strict";u();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.retryWrapper=void 0;var qle=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Qf.retryWrapper=qle});var n1=h(Zf=>{"use strict";u();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.fromHttp=void 0;var Ule=(Jn(),ve(Xn)),Hle=Io(),t1=ft(),Gle=Ule.__importDefault(P("fs/promises")),$le=QF(),r1=ZF(),zle=e1(),Vle="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Kle="http://169.254.170.2",Wle="AWS_CONTAINER_CREDENTIALS_FULL_URI",Xle="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Jle="AWS_CONTAINER_AUTHORIZATION_TOKEN",Yle=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Vle],n=e.awsContainerCredentialsFullUri??process.env[Wle],i=e.awsContainerAuthorizationToken??process.env[Jle],o=e.awsContainerAuthorizationTokenFile??process.env[Xle],s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),i&&o&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Kle}${r}`;else throw new t1.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(t);(0,$le.checkUrl)(c,e.logger);let l=new Hle.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,zle.retryWrapper)(async()=>{let m=(0,r1.createGetRequest)(c);i?m.headers.Authorization=i:o&&(m.headers.Authorization=(await Gle.default.readFile(o)).toString());try{let f=await l.handle(m);return(0,r1.getCredentials)(f.response)}catch(f){throw new t1.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Zf.fromHttp=Yle});var DS=h(ep=>{"use strict";u();Object.defineProperty(ep,"__esModule",{value:!0});ep.fromHttp=void 0;var Qle=n1();Object.defineProperty(ep,"fromHttp",{enumerable:!0,get:function(){return Qle.fromHttp}})});var FS=h(Wi=>{"use strict";u();Object.defineProperty(Wi,"__esModule",{value:!0});Wi.resolveHttpAuthSchemeConfig=Wi.defaultSSOHttpAuthSchemeProvider=Wi.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Zle=(Xt(),ve(Wt)),i1=Ur(),ede=async(e,t,r)=>({operation:(0,i1.getSmithyContext)(t).operation,region:await(0,i1.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Wi.defaultSSOHttpAuthSchemeParametersProvider=ede;function tde(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tp(e){return{schemeId:"smithy.api#noAuth"}}var rde=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(tp(e));break}case"ListAccountRoles":{t.push(tp(e));break}case"ListAccounts":{t.push(tp(e));break}case"Logout":{t.push(tp(e));break}default:t.push(tde(e))}return t};Wi.defaultSSOHttpAuthSchemeProvider=rde;var nde=e=>({...(0,Zle.resolveAwsSdkSigV4Config)(e)});Wi.resolveHttpAuthSchemeConfig=nde});var o1=h((OKe,ide)=>{ide.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var xa=h(rp=>{"use strict";u();Object.defineProperty(rp,"__esModule",{value:!0});rp.getHomeDir=void 0;var ode=P("os"),sde=P("path"),LS={},ade=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",cde=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${sde.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=ade();return LS[i]||(LS[i]=(0,ode.homedir)()),LS[i]};rp.getHomeDir=cde});var jS=h(np=>{"use strict";u();Object.defineProperty(np,"__esModule",{value:!0});np.getSSOTokenFilepath=void 0;var lde=P("crypto"),dde=P("path"),ude=xa(),mde=e=>{let r=(0,lde.createHash)("sha1").update(e).digest("hex");return(0,dde.join)((0,ude.getHomeDir)(),".aws","sso","cache",`${r}.json`)};np.getSSOTokenFilepath=mde});var s1=h(ip=>{"use strict";u();Object.defineProperty(ip,"__esModule",{value:!0});ip.getSSOTokenFromFile=void 0;var fde=P("fs"),pde=jS(),{readFile:gde}=fde.promises,hde=async e=>{let t=(0,pde.getSSOTokenFilepath)(e),r=await gde(t,"utf8");return JSON.parse(r)};ip.getSSOTokenFromFile=hde});var qS=h(op=>{"use strict";u();Object.defineProperty(op,"__esModule",{value:!0});op.slurpFile=void 0;var vde=P("fs"),{readFile:_de}=vde.promises,MS={},yde=(e,t)=>((!MS[e]||t?.ignoreCache)&&(MS[e]=_de(e,"utf8")),MS[e]);op.slurpFile=yde});var f1=h((FKe,fd)=>{u();var cp=Object.defineProperty,Sde=Object.getOwnPropertyDescriptor,Ede=Object.getOwnPropertyNames,Cde=Object.prototype.hasOwnProperty,Vr=(e,t)=>cp(e,"name",{value:t,configurable:!0}),bde=(e,t)=>{for(var r in t)cp(e,r,{get:t[r],enumerable:!0})},US=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ede(t))!Cde.call(e,i)&&i!==r&&cp(e,i,{get:()=>t[i],enumerable:!(n=Sde(t,i))||n.enumerable});return e},GS=(e,t,r)=>(US(e,t,"default"),r&&US(r,t,"default")),wde=e=>US(cp({},"__esModule",{value:!0}),e),md={};bde(md,{CONFIG_PREFIX_SEPARATOR:()=>zo,DEFAULT_PROFILE:()=>d1,ENV_PROFILE:()=>l1,getProfileName:()=>Pde,loadSharedConfigFiles:()=>m1,loadSsoSessionData:()=>jde,parseKnownFiles:()=>qde});fd.exports=wde(md);GS(md,xa(),fd.exports);var l1="AWS_PROFILE",d1="default",Pde=Vr(e=>e.profile||process.env[l1]||d1,"getProfileName");GS(md,jS(),fd.exports);GS(md,s1(),fd.exports);var sp=ut(),xde=Vr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(zo);return r===-1?!1:Object.values(sp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(zo),o=r.substring(0,i)===sp.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),ap=P("path"),Ode=xa(),Ade="AWS_CONFIG_FILE",u1=Vr(()=>process.env[Ade]||(0,ap.join)((0,Ode.getHomeDir)(),".aws","config"),"getConfigFilepath"),Rde=xa(),kde="AWS_SHARED_CREDENTIALS_FILE",Ide=Vr(()=>process.env[kde]||(0,ap.join)((0,Rde.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Tde=xa(),Nde=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Bde=["__proto__","profile __proto__"],HS=Vr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=Nde.exec(c);if(l){let[,m,,f]=l;Object.values(sp.IniSectionType).includes(m)&&(r=[m,f].join(zo))}else r=c;if(Bde.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(zo):l;t[r][f]=m}}}}return t},"parseIni"),a1=qS(),c1=Vr(()=>({}),"swallowError"),zo=".",m1=Vr(async(e={})=>{let{filepath:t=Ide(),configFilepath:r=u1()}=e,n=(0,Tde.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,ap.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,ap.join)(n,r.slice(2)));let c=await Promise.all([(0,a1.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(HS).then(xde).catch(c1),(0,a1.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(HS).catch(c1)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Dde=Vr(e=>Object.entries(e).filter(([t])=>t.startsWith(sp.IniSectionType.SSO_SESSION+zo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(zo)+1)]:n}),{}),"getSsoSessionData"),Fde=qS(),Lde=Vr(()=>({}),"swallowError"),jde=Vr(async(e={})=>(0,Fde.slurpFile)(e.configFilepath??u1()).then(HS).then(Dde).catch(Lde),"loadSsoSessionData"),Mde=Vr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),qde=Vr(async e=>{let t=await m1(e);return Mde(t.configFile,t.credentialsFile)},"parseKnownFiles")});var v1=h((jKe,h1)=>{u();var lp=Object.defineProperty,Ude=Object.getOwnPropertyDescriptor,Hde=Object.getOwnPropertyNames,Gde=Object.prototype.hasOwnProperty,Oa=(e,t)=>lp(e,"name",{value:t,configurable:!0}),$de=(e,t)=>{for(var r in t)lp(e,r,{get:t[r],enumerable:!0})},zde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Hde(t))!Gde.call(e,i)&&i!==r&&lp(e,i,{get:()=>t[i],enumerable:!(n=Ude(t,i))||n.enumerable});return e},Vde=e=>zde(lp({},"__esModule",{value:!0}),e),g1={};$de(g1,{loadConfig:()=>Yde});h1.exports=Vde(g1);var pd=ft();function $S(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Oa($S,"getSelectorName");var Kde=Oa((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new pd.CredentialsProviderError(r.message||`Not found in ENV: ${$S(e.toString())}`,{logger:t})}},"fromEnv"),p1=f1(),Wde=Oa((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,p1.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,p1.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new pd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${$S(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Xde=Oa(e=>typeof e=="function","isFunction"),Jde=Oa(e=>Xde(e)?async()=>await e():(0,pd.fromStatic)(e),"fromStatic"),Yde=Oa(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,pd.memoize)((0,pd.chain)(Kde(e),Wde(t,n),Jde(r))),"loadConfig")});var gd=h((qKe,w1)=>{"use strict";u();var dp=Object.defineProperty,Qde=Object.getOwnPropertyDescriptor,Zde=Object.getOwnPropertyNames,eue=Object.prototype.hasOwnProperty,y1=(e,t)=>dp(e,"name",{value:t,configurable:!0}),tue=(e,t)=>{for(var r in t)dp(e,r,{get:t[r],enumerable:!0})},rue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zde(t))!eue.call(e,i)&&i!==r&&dp(e,i,{get:()=>t[i],enumerable:!(n=Qde(t,i))||n.enumerable});return e},nue=e=>rue(dp({},"__esModule",{value:!0}),e),S1={};tue(S1,{UA_APP_ID_ENV_NAME:()=>C1,UA_APP_ID_INI_NAME:()=>b1,crtAvailability:()=>E1,defaultUserAgent:()=>sue});w1.exports=nue(S1);var iue=v1(),_1=P("os"),zS=P("process"),E1={isCrtAvailable:!1},oue=y1(()=>E1.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),C1="AWS_SDK_UA_APP_ID",b1="sdk-ua-app-id",sue=y1(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,_1.platform)()}`,(0,_1.release)()],["lang/js"],["md/nodejs",`${zS.versions.node}`]],n=oue();n&&r.push(n),e&&r.push([`api/${e}`,t]),zS.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${zS.env.AWS_EXECUTION_ENV}`]);let i=(0,iue.loadConfig)({environmentVariableSelector:s=>s[C1],configFileSelector:s=>s[b1],default:void 0})(),o;return async()=>{if(!o){let s=await i;o=s?[...r,[`app/${s}`]]:[...r]}return o}},"defaultUserAgent")});var hd=h((GKe,R1)=>{u();var up=Object.defineProperty,aue=Object.getOwnPropertyDescriptor,cue=Object.getOwnPropertyNames,lue=Object.prototype.hasOwnProperty,x1=(e,t)=>up(e,"name",{value:t,configurable:!0}),due=(e,t)=>{for(var r in t)up(e,r,{get:t[r],enumerable:!0})},uue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of cue(t))!lue.call(e,i)&&i!==r&&up(e,i,{get:()=>t[i],enumerable:!(n=aue(t,i))||n.enumerable});return e},mue=e=>uue(up({},"__esModule",{value:!0}),e),O1={};due(O1,{Hash:()=>gue});R1.exports=mue(O1);var VS=ra(),fue=sr(),pue=P("buffer"),P1=P("crypto"),A1=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,fue.toUint8Array)(KS(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,P1.createHmac)(this.algorithmIdentifier,KS(this.secret)):(0,P1.createHash)(this.algorithmIdentifier)}};x1(A1,"Hash");var gue=A1;function KS(e,t){return pue.Buffer.isBuffer(e)?e:typeof e=="string"?(0,VS.fromString)(e,t):ArrayBuffer.isView(e)?(0,VS.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,VS.fromArrayBuffer)(e)}x1(KS,"castSourceData")});var Aa=h(mp=>{"use strict";u();Object.defineProperty(mp,"__esModule",{value:!0});mp.getHomeDir=void 0;var hue=P("os"),vue=P("path"),WS={},_ue=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",yue=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${vue.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=_ue();return WS[i]||(WS[i]=(0,hue.homedir)()),WS[i]};mp.getHomeDir=yue});var XS=h(fp=>{"use strict";u();Object.defineProperty(fp,"__esModule",{value:!0});fp.getSSOTokenFilepath=void 0;var Sue=P("crypto"),Eue=P("path"),Cue=Aa(),bue=e=>{let r=(0,Sue.createHash)("sha1").update(e).digest("hex");return(0,Eue.join)((0,Cue.getHomeDir)(),".aws","sso","cache",`${r}.json`)};fp.getSSOTokenFilepath=bue});var k1=h(pp=>{"use strict";u();Object.defineProperty(pp,"__esModule",{value:!0});pp.getSSOTokenFromFile=void 0;var wue=P("fs"),Pue=XS(),{readFile:xue}=wue.promises,Oue=async e=>{let t=(0,Pue.getSSOTokenFilepath)(e),r=await xue(t,"utf8");return JSON.parse(r)};pp.getSSOTokenFromFile=Oue});var YS=h(gp=>{"use strict";u();Object.defineProperty(gp,"__esModule",{value:!0});gp.slurpFile=void 0;var Aue=P("fs"),{readFile:Rue}=Aue.promises,JS={},kue=(e,t)=>((!JS[e]||t?.ignoreCache)&&(JS[e]=Rue(e,"utf8")),JS[e]);gp.slurpFile=kue});var L1=h((ZKe,_d)=>{u();var _p=Object.defineProperty,Iue=Object.getOwnPropertyDescriptor,Tue=Object.getOwnPropertyNames,Nue=Object.prototype.hasOwnProperty,Kr=(e,t)=>_p(e,"name",{value:t,configurable:!0}),Bue=(e,t)=>{for(var r in t)_p(e,r,{get:t[r],enumerable:!0})},QS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tue(t))!Nue.call(e,i)&&i!==r&&_p(e,i,{get:()=>t[i],enumerable:!(n=Iue(t,i))||n.enumerable});return e},eE=(e,t,r)=>(QS(e,t,"default"),r&&QS(r,t,"default")),Due=e=>QS(_p({},"__esModule",{value:!0}),e),vd={};Bue(vd,{CONFIG_PREFIX_SEPARATOR:()=>Vo,DEFAULT_PROFILE:()=>B1,ENV_PROFILE:()=>N1,getProfileName:()=>Fue,loadSharedConfigFiles:()=>F1,loadSsoSessionData:()=>Xue,parseKnownFiles:()=>Yue});_d.exports=Due(vd);eE(vd,Aa(),_d.exports);var N1="AWS_PROFILE",B1="default",Fue=Kr(e=>e.profile||process.env[N1]||B1,"getProfileName");eE(vd,XS(),_d.exports);eE(vd,k1(),_d.exports);var hp=ut(),Lue=Kr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Vo);return r===-1?!1:Object.values(hp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Vo),o=r.substring(0,i)===hp.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),vp=P("path"),jue=Aa(),Mue="AWS_CONFIG_FILE",D1=Kr(()=>process.env[Mue]||(0,vp.join)((0,jue.getHomeDir)(),".aws","config"),"getConfigFilepath"),que=Aa(),Uue="AWS_SHARED_CREDENTIALS_FILE",Hue=Kr(()=>process.env[Uue]||(0,vp.join)((0,que.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Gue=Aa(),$ue=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,zue=["__proto__","profile __proto__"],ZS=Kr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=$ue.exec(c);if(l){let[,m,,f]=l;Object.values(hp.IniSectionType).includes(m)&&(r=[m,f].join(Vo))}else r=c;if(zue.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Vo):l;t[r][f]=m}}}}return t},"parseIni"),I1=YS(),T1=Kr(()=>({}),"swallowError"),Vo=".",F1=Kr(async(e={})=>{let{filepath:t=Hue(),configFilepath:r=D1()}=e,n=(0,Gue.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,vp.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,vp.join)(n,r.slice(2)));let c=await Promise.all([(0,I1.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(ZS).then(Lue).catch(T1),(0,I1.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(ZS).catch(T1)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Vue=Kr(e=>Object.entries(e).filter(([t])=>t.startsWith(hp.IniSectionType.SSO_SESSION+Vo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Vo)+1)]:n}),{}),"getSsoSessionData"),Kue=YS(),Wue=Kr(()=>({}),"swallowError"),Xue=Kr(async(e={})=>(0,Kue.slurpFile)(e.configFilepath??D1()).then(ZS).then(Vue).catch(Wue),"loadSsoSessionData"),Jue=Kr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),Yue=Kr(async e=>{let t=await F1(e);return Jue(t.configFile,t.credentialsFile)},"parseKnownFiles")});var U1=h((tWe,q1)=>{u();var yp=Object.defineProperty,Que=Object.getOwnPropertyDescriptor,Zue=Object.getOwnPropertyNames,eme=Object.prototype.hasOwnProperty,Ra=(e,t)=>yp(e,"name",{value:t,configurable:!0}),tme=(e,t)=>{for(var r in t)yp(e,r,{get:t[r],enumerable:!0})},rme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zue(t))!eme.call(e,i)&&i!==r&&yp(e,i,{get:()=>t[i],enumerable:!(n=Que(t,i))||n.enumerable});return e},nme=e=>rme(yp({},"__esModule",{value:!0}),e),M1={};tme(M1,{loadConfig:()=>cme});q1.exports=nme(M1);var yd=ft();function tE(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Ra(tE,"getSelectorName");var ime=Ra((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new yd.CredentialsProviderError(r.message||`Not found in ENV: ${tE(e.toString())}`,{logger:t})}},"fromEnv"),j1=L1(),ome=Ra((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,j1.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,j1.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new yd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${tE(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),sme=Ra(e=>typeof e=="function","isFunction"),ame=Ra(e=>sme(e)?async()=>await e():(0,yd.fromStatic)(e),"fromStatic"),cme=Ra(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,yd.memoize)((0,yd.chain)(ime(e),ome(t,n),ame(r))),"loadConfig")});var Sd=h((nWe,$1)=>{u();var Sp=Object.defineProperty,lme=Object.getOwnPropertyDescriptor,dme=Object.getOwnPropertyNames,ume=Object.prototype.hasOwnProperty,mme=(e,t)=>Sp(e,"name",{value:t,configurable:!0}),fme=(e,t)=>{for(var r in t)Sp(e,r,{get:t[r],enumerable:!0})},pme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dme(t))!ume.call(e,i)&&i!==r&&Sp(e,i,{get:()=>t[i],enumerable:!(n=lme(t,i))||n.enumerable});return e},gme=e=>pme(Sp({},"__esModule",{value:!0}),e),G1={};fme(G1,{calculateBodyLength:()=>hme});$1.exports=gme(G1);var H1=P("fs"),hme=mme(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,H1.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,H1.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var oL=h(Ep=>{"use strict";u();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.ruleSet=void 0;var tL="required",Xr="fn",Jr="argv",Ta="ref",z1=!0,V1="isSet",Ed="booleanEquals",ka="error",Ia="endpoint",_i="tree",rE="PartitionResult",nE="getAttr",K1={[tL]:!1,type:"String"},W1={[tL]:!0,default:!1,type:"Boolean"},X1={[Ta]:"Endpoint"},rL={[Xr]:Ed,[Jr]:[{[Ta]:"UseFIPS"},!0]},nL={[Xr]:Ed,[Jr]:[{[Ta]:"UseDualStack"},!0]},Wr={},J1={[Xr]:nE,[Jr]:[{[Ta]:rE},"supportsFIPS"]},iL={[Ta]:rE},Y1={[Xr]:Ed,[Jr]:[!0,{[Xr]:nE,[Jr]:[iL,"supportsDualStack"]}]},Q1=[rL],Z1=[nL],eL=[{[Ta]:"Region"}],vme={version:"1.0",parameters:{Region:K1,UseDualStack:W1,UseFIPS:W1,Endpoint:K1},rules:[{conditions:[{[Xr]:V1,[Jr]:[X1]}],rules:[{conditions:Q1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ka},{conditions:Z1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ka},{endpoint:{url:X1,properties:Wr,headers:Wr},type:Ia}],type:_i},{conditions:[{[Xr]:V1,[Jr]:eL}],rules:[{conditions:[{[Xr]:"aws.partition",[Jr]:eL,assign:rE}],rules:[{conditions:[rL,nL],rules:[{conditions:[{[Xr]:Ed,[Jr]:[z1,J1]},Y1],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wr,headers:Wr},type:Ia}],type:_i},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ka}],type:_i},{conditions:Q1,rules:[{conditions:[{[Xr]:Ed,[Jr]:[J1,z1]}],rules:[{conditions:[{[Xr]:"stringEquals",[Jr]:[{[Xr]:nE,[Jr]:[iL,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Wr,headers:Wr},type:Ia},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wr,headers:Wr},type:Ia}],type:_i},{error:"FIPS is enabled but this partition does not support FIPS",type:ka}],type:_i},{conditions:Z1,rules:[{conditions:[Y1],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wr,headers:Wr},type:Ia}],type:_i},{error:"DualStack is enabled but this partition does not support DualStack",type:ka}],type:_i},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Wr,headers:Wr},type:Ia}],type:_i}],type:_i},{error:"Invalid Configuration: Missing Region",type:ka}]};Ep.ruleSet=vme});var aL=h(Cp=>{"use strict";u();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.defaultEndpointResolver=void 0;var _me=pa(),sL=ma(),yme=oL(),Sme=(e,t={})=>(0,sL.resolveEndpoint)(yme.ruleSet,{endpointParams:e,logger:t.logger});Cp.defaultEndpointResolver=Sme;sL.customEndpointFunctions.aws=_me.awsEndpointFunctions});var dL=h(bp=>{"use strict";u();Object.defineProperty(bp,"__esModule",{value:!0});bp.getRuntimeConfig=void 0;var Eme=(Xt(),ve(Wt)),Cme=(Kt(),ve(ar)),bme=We(),wme=Fo(),cL=Li(),lL=sr(),Pme=FS(),xme=aL(),Ome=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??cL.fromBase64,base64Encoder:e?.base64Encoder??cL.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??xme.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Pme.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Eme.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cme.NoAuthSigner}],logger:e?.logger??new bme.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??wme.parseUrl,utf8Decoder:e?.utf8Decoder??lL.fromUtf8,utf8Encoder:e?.utf8Encoder??lL.toUtf8});bp.getRuntimeConfig=Ome});var Na=h(wp=>{"use strict";u();Object.defineProperty(wp,"__esModule",{value:!0});wp.getHomeDir=void 0;var Ame=P("os"),Rme=P("path"),iE={},kme=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Ime=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Rme.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=kme();return iE[i]||(iE[i]=(0,Ame.homedir)()),iE[i]};wp.getHomeDir=Ime});var oE=h(Pp=>{"use strict";u();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.getSSOTokenFilepath=void 0;var Tme=P("crypto"),Nme=P("path"),Bme=Na(),Dme=e=>{let r=(0,Tme.createHash)("sha1").update(e).digest("hex");return(0,Nme.join)((0,Bme.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Pp.getSSOTokenFilepath=Dme});var uL=h(xp=>{"use strict";u();Object.defineProperty(xp,"__esModule",{value:!0});xp.getSSOTokenFromFile=void 0;var Fme=P("fs"),Lme=oE(),{readFile:jme}=Fme.promises,Mme=async e=>{let t=(0,Lme.getSSOTokenFilepath)(e),r=await jme(t,"utf8");return JSON.parse(r)};xp.getSSOTokenFromFile=Mme});var aE=h(Op=>{"use strict";u();Object.defineProperty(Op,"__esModule",{value:!0});Op.slurpFile=void 0;var qme=P("fs"),{readFile:Ume}=qme.promises,sE={},Hme=(e,t)=>((!sE[e]||t?.ignoreCache)&&(sE[e]=Ume(e,"utf8")),sE[e]);Op.slurpFile=Hme});var _L=h((yWe,bd)=>{u();var kp=Object.defineProperty,Gme=Object.getOwnPropertyDescriptor,$me=Object.getOwnPropertyNames,zme=Object.prototype.hasOwnProperty,Yr=(e,t)=>kp(e,"name",{value:t,configurable:!0}),Vme=(e,t)=>{for(var r in t)kp(e,r,{get:t[r],enumerable:!0})},cE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $me(t))!zme.call(e,i)&&i!==r&&kp(e,i,{get:()=>t[i],enumerable:!(n=Gme(t,i))||n.enumerable});return e},dE=(e,t,r)=>(cE(e,t,"default"),r&&cE(r,t,"default")),Kme=e=>cE(kp({},"__esModule",{value:!0}),e),Cd={};Vme(Cd,{CONFIG_PREFIX_SEPARATOR:()=>Ko,DEFAULT_PROFILE:()=>gL,ENV_PROFILE:()=>pL,getProfileName:()=>Wme,loadSharedConfigFiles:()=>vL,loadSsoSessionData:()=>afe,parseKnownFiles:()=>lfe});bd.exports=Kme(Cd);dE(Cd,Na(),bd.exports);var pL="AWS_PROFILE",gL="default",Wme=Yr(e=>e.profile||process.env[pL]||gL,"getProfileName");dE(Cd,oE(),bd.exports);dE(Cd,uL(),bd.exports);var Ap=ut(),Xme=Yr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ko);return r===-1?!1:Object.values(Ap.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Ko),o=r.substring(0,i)===Ap.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Rp=P("path"),Jme=Na(),Yme="AWS_CONFIG_FILE",hL=Yr(()=>process.env[Yme]||(0,Rp.join)((0,Jme.getHomeDir)(),".aws","config"),"getConfigFilepath"),Qme=Na(),Zme="AWS_SHARED_CREDENTIALS_FILE",efe=Yr(()=>process.env[Zme]||(0,Rp.join)((0,Qme.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),tfe=Na(),rfe=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,nfe=["__proto__","profile __proto__"],lE=Yr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=rfe.exec(c);if(l){let[,m,,f]=l;Object.values(Ap.IniSectionType).includes(m)&&(r=[m,f].join(Ko))}else r=c;if(nfe.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Ko):l;t[r][f]=m}}}}return t},"parseIni"),mL=aE(),fL=Yr(()=>({}),"swallowError"),Ko=".",vL=Yr(async(e={})=>{let{filepath:t=efe(),configFilepath:r=hL()}=e,n=(0,tfe.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Rp.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Rp.join)(n,r.slice(2)));let c=await Promise.all([(0,mL.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(lE).then(Xme).catch(fL),(0,mL.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(lE).catch(fL)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),ife=Yr(e=>Object.entries(e).filter(([t])=>t.startsWith(Ap.IniSectionType.SSO_SESSION+Ko)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ko)+1)]:n}),{}),"getSsoSessionData"),ofe=aE(),sfe=Yr(()=>({}),"swallowError"),afe=Yr(async(e={})=>(0,ofe.slurpFile)(e.configFilepath??hL()).then(lE).then(ife).catch(sfe),"loadSsoSessionData"),cfe=Yr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),lfe=Yr(async e=>{let t=await vL(e);return cfe(t.configFile,t.credentialsFile)},"parseKnownFiles")});var CL=h((EWe,EL)=>{u();var Ip=Object.defineProperty,dfe=Object.getOwnPropertyDescriptor,ufe=Object.getOwnPropertyNames,mfe=Object.prototype.hasOwnProperty,Ba=(e,t)=>Ip(e,"name",{value:t,configurable:!0}),ffe=(e,t)=>{for(var r in t)Ip(e,r,{get:t[r],enumerable:!0})},pfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ufe(t))!mfe.call(e,i)&&i!==r&&Ip(e,i,{get:()=>t[i],enumerable:!(n=dfe(t,i))||n.enumerable});return e},gfe=e=>pfe(Ip({},"__esModule",{value:!0}),e),SL={};ffe(SL,{loadConfig:()=>Sfe});EL.exports=gfe(SL);var wd=ft();function uE(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Ba(uE,"getSelectorName");var hfe=Ba((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new wd.CredentialsProviderError(r.message||`Not found in ENV: ${uE(e.toString())}`,{logger:t})}},"fromEnv"),yL=_L(),vfe=Ba((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,yL.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,yL.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new wd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${uE(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),_fe=Ba(e=>typeof e=="function","isFunction"),yfe=Ba(e=>_fe(e)?async()=>await e():(0,wd.fromStatic)(e),"fromStatic"),Sfe=Ba(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,wd.memoize)((0,wd.chain)(hfe(e),vfe(t,n),yfe(r))),"loadConfig")});var xd=h((bWe,AL)=>{u();var Efe=Object.create,Pd=Object.defineProperty,Cfe=Object.getOwnPropertyDescriptor,bfe=Object.getOwnPropertyNames,wfe=Object.getPrototypeOf,Pfe=Object.prototype.hasOwnProperty,mE=(e,t)=>Pd(e,"name",{value:t,configurable:!0}),xfe=(e,t)=>{for(var r in t)Pd(e,r,{get:t[r],enumerable:!0})},xL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bfe(t))!Pfe.call(e,i)&&i!==r&&Pd(e,i,{get:()=>t[i],enumerable:!(n=Cfe(t,i))||n.enumerable});return e},Ofe=(e,t,r)=>(r=e!=null?Efe(wfe(e)):{},xL(t||!e||!e.__esModule?Pd(r,"default",{value:e,enumerable:!0}):r,e)),Afe=e=>xL(Pd({},"__esModule",{value:!0}),e),OL={};xfe(OL,{resolveDefaultsModeConfig:()=>jfe});AL.exports=Afe(OL);var Rfe=zn(),bL=CL(),kfe=ft(),Ife="AWS_EXECUTION_ENV",wL="AWS_REGION",PL="AWS_DEFAULT_REGION",Tfe="AWS_EC2_METADATA_DISABLED",Nfe=["in-region","cross-region","mobile","standard","legacy"],Bfe="/latest/meta-data/placement/region",Dfe="AWS_DEFAULTS_MODE",Ffe="defaults_mode",Lfe={environmentVariableSelector:e=>e[Dfe],configFileSelector:e=>e[Ffe],default:"legacy"},jfe=mE(({region:e=(0,bL.loadConfig)(Rfe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,bL.loadConfig)(Lfe)}={})=>(0,kfe.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Mfe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Nfe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Mfe=mE(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await qfe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),qfe=mE(async()=>{if(process.env[Ife]&&(process.env[wL]||process.env[PL]))return process.env[wL]??process.env[PL];if(!process.env[Tfe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Ofe(ud())),r=await e();return(await t({...r,path:Bfe})).toString()}catch{}},"inferPhysicalRegion")});var IL=h(Np=>{"use strict";u();Object.defineProperty(Np,"__esModule",{value:!0});Np.getRuntimeConfig=void 0;var Ufe=(Jn(),ve(Xn)),Hfe=Ufe.__importDefault(o1()),Gfe=(Xt(),ve(Wt)),$fe=gd(),Tp=zn(),zfe=hd(),RL=$n(),Od=U1(),kL=Io(),Vfe=Sd(),Kfe=da(),Wfe=dL(),Xfe=We(),Jfe=xd(),Yfe=We(),Qfe=e=>{(0,Yfe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Jfe.resolveDefaultsModeConfig)(e),r=()=>t().then(Xfe.loadConfigsForDefaultMode),n=(0,Wfe.getRuntimeConfig)(e);return(0,Gfe.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vfe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,$fe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Hfe.default.version}),maxAttempts:e?.maxAttempts??(0,Od.loadConfig)(RL.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Od.loadConfig)(Tp.NODE_REGION_CONFIG_OPTIONS,Tp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:kL.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Od.loadConfig)({...RL.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Kfe.DEFAULT_RETRY_MODE}),sha256:e?.sha256??zfe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??kL.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Od.loadConfig)(Tp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Od.loadConfig)(Tp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Np.getRuntimeConfig=Qfe});var Ad=h((OWe,LL)=>{"use strict";u();var Bp=Object.defineProperty,Zfe=Object.getOwnPropertyDescriptor,epe=Object.getOwnPropertyNames,tpe=Object.prototype.hasOwnProperty,Da=(e,t)=>Bp(e,"name",{value:t,configurable:!0}),rpe=(e,t)=>{for(var r in t)Bp(e,r,{get:t[r],enumerable:!0})},npe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of epe(t))!tpe.call(e,i)&&i!==r&&Bp(e,i,{get:()=>t[i],enumerable:!(n=Zfe(t,i))||n.enumerable});return e},ipe=e=>npe(Bp({},"__esModule",{value:!0}),e),NL={};rpe(NL,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>cpe,NODE_REGION_CONFIG_OPTIONS:()=>ape,REGION_ENV_NAME:()=>BL,REGION_INI_NAME:()=>DL,getAwsRegionExtensionConfiguration:()=>ope,resolveAwsRegionExtensionConfiguration:()=>spe,resolveRegionConfig:()=>lpe});LL.exports=ipe(NL);var ope=Da(e=>{let t=Da(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),spe=Da(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),BL="AWS_REGION",DL="region",ape={environmentVariableSelector:e=>e[BL],configFileSelector:e=>e[DL],default:()=>{throw new Error("Region is missing")}},cpe={preferredFile:"credentials"},FL=Da(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),TL=Da(e=>FL(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),lpe=Da(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return TL(t);let n=await t();return TL(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return FL(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var O3=h((DWe,x3)=>{"use strict";u();var Fp=Object.defineProperty,dpe=Object.getOwnPropertyDescriptor,upe=Object.getOwnPropertyNames,mpe=Object.prototype.hasOwnProperty,we=(e,t)=>Fp(e,"name",{value:t,configurable:!0}),fpe=(e,t)=>{for(var r in t)Fp(e,r,{get:t[r],enumerable:!0})},ppe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of upe(t))!mpe.call(e,i)&&i!==r&&Fp(e,i,{get:()=>t[i],enumerable:!(n=dpe(t,i))||n.enumerable});return e},gpe=e=>ppe(Fp({},"__esModule",{value:!0}),e),$L={};fpe($L,{GetRoleCredentialsCommand:()=>y3,GetRoleCredentialsRequestFilterSensitiveLog:()=>s3,GetRoleCredentialsResponseFilterSensitiveLog:()=>c3,InvalidRequestException:()=>JL,ListAccountRolesCommand:()=>fE,ListAccountRolesRequestFilterSensitiveLog:()=>l3,ListAccountsCommand:()=>pE,ListAccountsRequestFilterSensitiveLog:()=>d3,LogoutCommand:()=>b3,LogoutRequestFilterSensitiveLog:()=>u3,ResourceNotFoundException:()=>ZL,RoleCredentialsFilterSensitiveLog:()=>a3,SSO:()=>P3,SSOClient:()=>jp,SSOServiceException:()=>Fa,TooManyRequestsException:()=>r3,UnauthorizedException:()=>o3,__Client:()=>te.Client,paginateListAccountRoles:()=>Upe,paginateListAccounts:()=>Hpe});x3.exports=gpe($L);var jL=Ol(),hpe=Al(),vpe=Rl(),ML=Yl(),_pe=zn(),yi=(Kt(),ve(ar)),ype=Ql(),kd=Mi(),qL=$n(),UL=FS(),Spe=we(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Lp={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Epe=IL(),HL=Ad(),GL=Ke(),te=We(),Cpe=we(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),bpe=we(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Dp=we(e=>e,"asPartial"),wpe=we((e,t)=>{let r={...Dp((0,HL.getAwsRegionExtensionConfiguration)(e)),...Dp((0,te.getDefaultExtensionConfiguration)(e)),...Dp((0,GL.getHttpHandlerExtensionConfiguration)(e)),...Dp(Cpe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,HL.resolveAwsRegionExtensionConfiguration)(r),...(0,te.resolveDefaultRuntimeConfig)(r),...(0,GL.resolveHttpHandlerRuntimeConfig)(r),...bpe(r)}},"resolveRuntimeExtensions"),zL=class extends te.Client{constructor(...[t]){let r=(0,Epe.getRuntimeConfig)(t||{}),n=Spe(r),i=(0,ML.resolveUserAgentConfig)(n),o=(0,qL.resolveRetryConfig)(i),s=(0,_pe.resolveRegionConfig)(o),c=(0,jL.resolveHostHeaderConfig)(s),l=(0,kd.resolveEndpointConfig)(c),m=(0,UL.resolveHttpAuthSchemeConfig)(l),f=wpe(m,t?.extensions||[]);super(f),this.config=f,this.middlewareStack.use((0,ML.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,qL.getRetryPlugin)(this.config)),this.middlewareStack.use((0,ype.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,jL.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,hpe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,vpe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,yi.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:UL.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new yi.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use((0,yi.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};we(zL,"SSOClient");var jp=zL,Mp=Lo(),VL=class KL extends te.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,KL.prototype)}};we(VL,"SSOServiceException");var Fa=VL,WL=class XL extends Fa{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,XL.prototype)}};we(WL,"InvalidRequestException");var JL=WL,YL=class QL extends Fa{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,QL.prototype)}};we(YL,"ResourceNotFoundException");var ZL=YL,e3=class t3 extends Fa{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,t3.prototype)}};we(e3,"TooManyRequestsException");var r3=e3,n3=class i3 extends Fa{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,i3.prototype)}};we(n3,"UnauthorizedException");var o3=n3,s3=we(e=>({...e,...e.accessToken&&{accessToken:te.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),a3=we(e=>({...e,...e.secretAccessKey&&{secretAccessKey:te.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:te.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),c3=we(e=>({...e,...e.roleCredentials&&{roleCredentials:a3(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),l3=we(e=>({...e,...e.accessToken&&{accessToken:te.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),d3=we(e=>({...e,...e.accessToken&&{accessToken:te.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),u3=we(e=>({...e,...e.accessToken&&{accessToken:te.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Rd=(Xt(),ve(Wt)),Ppe=we(async(e,t)=>{let r=(0,yi.requestBuilder)(e,t),n=(0,te.map)({},Up,{[Gp]:e[Hp]});r.bp("/federation/credentials");let i=(0,te.map)({[Mpe]:[,(0,te.expectNonNull)(e[jpe],"roleName")],[f3]:[,(0,te.expectNonNull)(e[m3],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),xpe=we(async(e,t)=>{let r=(0,yi.requestBuilder)(e,t),n=(0,te.map)({},Up,{[Gp]:e[Hp]});r.bp("/assignment/roles");let i=(0,te.map)({[v3]:[,e[h3]],[g3]:[()=>e.maxResults!==void 0,()=>e[p3].toString()],[f3]:[,(0,te.expectNonNull)(e[m3],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountRolesCommand"),Ope=we(async(e,t)=>{let r=(0,yi.requestBuilder)(e,t),n=(0,te.map)({},Up,{[Gp]:e[Hp]});r.bp("/assignment/accounts");let i=(0,te.map)({[v3]:[,e[h3]],[g3]:[()=>e.maxResults!==void 0,()=>e[p3].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountsCommand"),Ape=we(async(e,t)=>{let r=(0,yi.requestBuilder)(e,t),n=(0,te.map)({},Up,{[Gp]:e[Hp]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Rpe=we(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qp(e,t);let r=(0,te.map)({$metadata:Xi(e)}),n=(0,te.expectNonNull)((0,te.expectObject)(await(0,Rd.parseJsonBody)(e.body,t)),"body"),i=(0,te.take)(n,{roleCredentials:te._json});return Object.assign(r,i),r},"de_GetRoleCredentialsCommand"),kpe=we(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qp(e,t);let r=(0,te.map)({$metadata:Xi(e)}),n=(0,te.expectNonNull)((0,te.expectObject)(await(0,Rd.parseJsonBody)(e.body,t)),"body"),i=(0,te.take)(n,{nextToken:te.expectString,roleList:te._json});return Object.assign(r,i),r},"de_ListAccountRolesCommand"),Ipe=we(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qp(e,t);let r=(0,te.map)({$metadata:Xi(e)}),n=(0,te.expectNonNull)((0,te.expectObject)(await(0,Rd.parseJsonBody)(e.body,t)),"body"),i=(0,te.take)(n,{accountList:te._json,nextToken:te.expectString});return Object.assign(r,i),r},"de_ListAccountsCommand"),Tpe=we(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qp(e,t);let r=(0,te.map)({$metadata:Xi(e)});return await(0,te.collectBody)(e.body,t),r},"de_LogoutCommand"),qp=we(async(e,t)=>{let r={...e,body:await(0,Rd.parseJsonErrorBody)(e.body,t)},n=(0,Rd.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Bpe(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Dpe(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Fpe(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Lpe(r,t);default:let i=r.body;return Npe({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),Npe=(0,te.withBaseException)(Fa),Bpe=we(async(e,t)=>{let r=(0,te.map)({}),n=e.body,i=(0,te.take)(n,{message:te.expectString});Object.assign(r,i);let o=new JL({$metadata:Xi(e),...r});return(0,te.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),Dpe=we(async(e,t)=>{let r=(0,te.map)({}),n=e.body,i=(0,te.take)(n,{message:te.expectString});Object.assign(r,i);let o=new ZL({$metadata:Xi(e),...r});return(0,te.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),Fpe=we(async(e,t)=>{let r=(0,te.map)({}),n=e.body,i=(0,te.take)(n,{message:te.expectString});Object.assign(r,i);let o=new r3({$metadata:Xi(e),...r});return(0,te.decorateServiceException)(o,e.body)},"de_TooManyRequestsExceptionRes"),Lpe=we(async(e,t)=>{let r=(0,te.map)({}),n=e.body,i=(0,te.take)(n,{message:te.expectString});Object.assign(r,i);let o=new o3({$metadata:Xi(e),...r});return(0,te.decorateServiceException)(o,e.body)},"de_UnauthorizedExceptionRes"),Xi=we(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Up=we(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),m3="accountId",Hp="accessToken",f3="account_id",p3="maxResults",g3="max_result",h3="nextToken",v3="next_token",jpe="roleName",Mpe="role_name",Gp="x-amz-sso_bearer_token",_3=class extends te.Command.classBuilder().ep({...Lp}).m(function(t,r,n,i){return[(0,Mp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,kd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(s3,c3).ser(Ppe).de(Rpe).build(){};we(_3,"GetRoleCredentialsCommand");var y3=_3,S3=class extends te.Command.classBuilder().ep({...Lp}).m(function(t,r,n,i){return[(0,Mp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,kd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(l3,void 0).ser(xpe).de(kpe).build(){};we(S3,"ListAccountRolesCommand");var fE=S3,E3=class extends te.Command.classBuilder().ep({...Lp}).m(function(t,r,n,i){return[(0,Mp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,kd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(d3,void 0).ser(Ope).de(Ipe).build(){};we(E3,"ListAccountsCommand");var pE=E3,C3=class extends te.Command.classBuilder().ep({...Lp}).m(function(t,r,n,i){return[(0,Mp.getSerdePlugin)(n,this.serialize,this.deserialize),(0,kd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(u3,void 0).ser(Ape).de(Tpe).build(){};we(C3,"LogoutCommand");var b3=C3,qpe={GetRoleCredentialsCommand:y3,ListAccountRolesCommand:fE,ListAccountsCommand:pE,LogoutCommand:b3},w3=class extends jp{};we(w3,"SSO");var P3=w3;(0,te.createAggregatedClient)(qpe,P3);var Upe=(0,yi.createPaginator)(jp,fE,"nextToken","nextToken","maxResults"),Hpe=(0,yi.createPaginator)(jp,pE,"nextToken","nextToken","maxResults")});var hE=h(Ji=>{"use strict";u();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.resolveHttpAuthSchemeConfig=Ji.defaultSSOOIDCHttpAuthSchemeProvider=Ji.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var Gpe=(Xt(),ve(Wt)),A3=Ur(),$pe=async(e,t,r)=>({operation:(0,A3.getSmithyContext)(t).operation,region:await(0,A3.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ji.defaultSSOOIDCHttpAuthSchemeParametersProvider=$pe;function zpe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function gE(e){return{schemeId:"smithy.api#noAuth"}}var Vpe=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(gE(e));break}case"RegisterClient":{t.push(gE(e));break}case"StartDeviceAuthorization":{t.push(gE(e));break}default:t.push(zpe(e))}return t};Ji.defaultSSOOIDCHttpAuthSchemeProvider=Vpe;var Kpe=e=>({...(0,Gpe.resolveAwsSdkSigV4Config)(e)});Ji.resolveHttpAuthSchemeConfig=Kpe});var R3=h((MWe,Wpe)=>{Wpe.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/client-sts":"^3.637.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var La=h($p=>{"use strict";u();Object.defineProperty($p,"__esModule",{value:!0});$p.getHomeDir=void 0;var Xpe=P("os"),Jpe=P("path"),vE={},Ype=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Qpe=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Jpe.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=Ype();return vE[i]||(vE[i]=(0,Xpe.homedir)()),vE[i]};$p.getHomeDir=Qpe});var _E=h(zp=>{"use strict";u();Object.defineProperty(zp,"__esModule",{value:!0});zp.getSSOTokenFilepath=void 0;var Zpe=P("crypto"),ege=P("path"),tge=La(),rge=e=>{let r=(0,Zpe.createHash)("sha1").update(e).digest("hex");return(0,ege.join)((0,tge.getHomeDir)(),".aws","sso","cache",`${r}.json`)};zp.getSSOTokenFilepath=rge});var k3=h(Vp=>{"use strict";u();Object.defineProperty(Vp,"__esModule",{value:!0});Vp.getSSOTokenFromFile=void 0;var nge=P("fs"),ige=_E(),{readFile:oge}=nge.promises,sge=async e=>{let t=(0,ige.getSSOTokenFilepath)(e),r=await oge(t,"utf8");return JSON.parse(r)};Vp.getSSOTokenFromFile=sge});var SE=h(Kp=>{"use strict";u();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.slurpFile=void 0;var age=P("fs"),{readFile:cge}=age.promises,yE={},lge=(e,t)=>((!yE[e]||t?.ignoreCache)&&(yE[e]=cge(e,"utf8")),yE[e]);Kp.slurpFile=lge});var L3=h((WWe,Td)=>{u();var Jp=Object.defineProperty,dge=Object.getOwnPropertyDescriptor,uge=Object.getOwnPropertyNames,mge=Object.prototype.hasOwnProperty,Qr=(e,t)=>Jp(e,"name",{value:t,configurable:!0}),fge=(e,t)=>{for(var r in t)Jp(e,r,{get:t[r],enumerable:!0})},EE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uge(t))!mge.call(e,i)&&i!==r&&Jp(e,i,{get:()=>t[i],enumerable:!(n=dge(t,i))||n.enumerable});return e},bE=(e,t,r)=>(EE(e,t,"default"),r&&EE(r,t,"default")),pge=e=>EE(Jp({},"__esModule",{value:!0}),e),Id={};fge(Id,{CONFIG_PREFIX_SEPARATOR:()=>Wo,DEFAULT_PROFILE:()=>B3,ENV_PROFILE:()=>N3,getProfileName:()=>gge,loadSharedConfigFiles:()=>F3,loadSsoSessionData:()=>Age,parseKnownFiles:()=>kge});Td.exports=pge(Id);bE(Id,La(),Td.exports);var N3="AWS_PROFILE",B3="default",gge=Qr(e=>e.profile||process.env[N3]||B3,"getProfileName");bE(Id,_E(),Td.exports);bE(Id,k3(),Td.exports);var Wp=ut(),hge=Qr(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Wo);return r===-1?!1:Object.values(Wp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Wo),o=r.substring(0,i)===Wp.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Xp=P("path"),vge=La(),_ge="AWS_CONFIG_FILE",D3=Qr(()=>process.env[_ge]||(0,Xp.join)((0,vge.getHomeDir)(),".aws","config"),"getConfigFilepath"),yge=La(),Sge="AWS_SHARED_CREDENTIALS_FILE",Ege=Qr(()=>process.env[Sge]||(0,Xp.join)((0,yge.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Cge=La(),bge=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,wge=["__proto__","profile __proto__"],CE=Qr(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=bge.exec(c);if(l){let[,m,,f]=l;Object.values(Wp.IniSectionType).includes(m)&&(r=[m,f].join(Wo))}else r=c;if(wge.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Wo):l;t[r][f]=m}}}}return t},"parseIni"),I3=SE(),T3=Qr(()=>({}),"swallowError"),Wo=".",F3=Qr(async(e={})=>{let{filepath:t=Ege(),configFilepath:r=D3()}=e,n=(0,Cge.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Xp.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Xp.join)(n,r.slice(2)));let c=await Promise.all([(0,I3.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(CE).then(hge).catch(T3),(0,I3.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(CE).catch(T3)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Pge=Qr(e=>Object.entries(e).filter(([t])=>t.startsWith(Wp.IniSectionType.SSO_SESSION+Wo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Wo)+1)]:n}),{}),"getSsoSessionData"),xge=SE(),Oge=Qr(()=>({}),"swallowError"),Age=Qr(async(e={})=>(0,xge.slurpFile)(e.configFilepath??D3()).then(CE).then(Pge).catch(Oge),"loadSsoSessionData"),Rge=Qr((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),kge=Qr(async e=>{let t=await F3(e);return Rge(t.configFile,t.credentialsFile)},"parseKnownFiles")});var U3=h((JWe,q3)=>{u();var Yp=Object.defineProperty,Ige=Object.getOwnPropertyDescriptor,Tge=Object.getOwnPropertyNames,Nge=Object.prototype.hasOwnProperty,ja=(e,t)=>Yp(e,"name",{value:t,configurable:!0}),Bge=(e,t)=>{for(var r in t)Yp(e,r,{get:t[r],enumerable:!0})},Dge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tge(t))!Nge.call(e,i)&&i!==r&&Yp(e,i,{get:()=>t[i],enumerable:!(n=Ige(t,i))||n.enumerable});return e},Fge=e=>Dge(Yp({},"__esModule",{value:!0}),e),M3={};Bge(M3,{loadConfig:()=>Uge});q3.exports=Fge(M3);var Nd=ft();function wE(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ja(wE,"getSelectorName");var Lge=ja((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Nd.CredentialsProviderError(r.message||`Not found in ENV: ${wE(e.toString())}`,{logger:t})}},"fromEnv"),j3=L3(),jge=ja((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,j3.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,j3.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new Nd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${wE(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Mge=ja(e=>typeof e=="function","isFunction"),qge=ja(e=>Mge(e)?async()=>await e():(0,Nd.fromStatic)(e),"fromStatic"),Uge=ja(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Nd.memoize)((0,Nd.chain)(Lge(e),jge(t,n),qge(r))),"loadConfig")});var rj=h(Qp=>{"use strict";u();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.ruleSet=void 0;var Q3="required",en="fn",tn="argv",Ua="ref",H3=!0,G3="isSet",Bd="booleanEquals",Ma="error",qa="endpoint",Si="tree",PE="PartitionResult",xE="getAttr",$3={[Q3]:!1,type:"String"},z3={[Q3]:!0,default:!1,type:"Boolean"},V3={[Ua]:"Endpoint"},Z3={[en]:Bd,[tn]:[{[Ua]:"UseFIPS"},!0]},ej={[en]:Bd,[tn]:[{[Ua]:"UseDualStack"},!0]},Zr={},K3={[en]:xE,[tn]:[{[Ua]:PE},"supportsFIPS"]},tj={[Ua]:PE},W3={[en]:Bd,[tn]:[!0,{[en]:xE,[tn]:[tj,"supportsDualStack"]}]},X3=[Z3],J3=[ej],Y3=[{[Ua]:"Region"}],Hge={version:"1.0",parameters:{Region:$3,UseDualStack:z3,UseFIPS:z3,Endpoint:$3},rules:[{conditions:[{[en]:G3,[tn]:[V3]}],rules:[{conditions:X3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ma},{conditions:J3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ma},{endpoint:{url:V3,properties:Zr,headers:Zr},type:qa}],type:Si},{conditions:[{[en]:G3,[tn]:Y3}],rules:[{conditions:[{[en]:"aws.partition",[tn]:Y3,assign:PE}],rules:[{conditions:[Z3,ej],rules:[{conditions:[{[en]:Bd,[tn]:[H3,K3]},W3],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zr,headers:Zr},type:qa}],type:Si},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ma}],type:Si},{conditions:X3,rules:[{conditions:[{[en]:Bd,[tn]:[K3,H3]}],rules:[{conditions:[{[en]:"stringEquals",[tn]:[{[en]:xE,[tn]:[tj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Zr,headers:Zr},type:qa},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Zr,headers:Zr},type:qa}],type:Si},{error:"FIPS is enabled but this partition does not support FIPS",type:Ma}],type:Si},{conditions:J3,rules:[{conditions:[W3],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zr,headers:Zr},type:qa}],type:Si},{error:"DualStack is enabled but this partition does not support DualStack",type:Ma}],type:Si},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Zr,headers:Zr},type:qa}],type:Si}],type:Si},{error:"Invalid Configuration: Missing Region",type:Ma}]};Qp.ruleSet=Hge});var ij=h(Zp=>{"use strict";u();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.defaultEndpointResolver=void 0;var Gge=pa(),nj=ma(),$ge=rj(),zge=(e,t={})=>(0,nj.resolveEndpoint)($ge.ruleSet,{endpointParams:e,logger:t.logger});Zp.defaultEndpointResolver=zge;nj.customEndpointFunctions.aws=Gge.awsEndpointFunctions});var aj=h(eg=>{"use strict";u();Object.defineProperty(eg,"__esModule",{value:!0});eg.getRuntimeConfig=void 0;var Vge=(Xt(),ve(Wt)),Kge=(Kt(),ve(ar)),Wge=We(),Xge=Fo(),oj=Li(),sj=sr(),Jge=hE(),Yge=ij(),Qge=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??oj.fromBase64,base64Encoder:e?.base64Encoder??oj.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Yge.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Jge.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Vge.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Kge.NoAuthSigner}],logger:e?.logger??new Wge.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Xge.parseUrl,utf8Decoder:e?.utf8Decoder??sj.fromUtf8,utf8Encoder:e?.utf8Encoder??sj.toUtf8});eg.getRuntimeConfig=Qge});var dj=h(rg=>{"use strict";u();Object.defineProperty(rg,"__esModule",{value:!0});rg.getRuntimeConfig=void 0;var Zge=(Jn(),ve(Xn)),ehe=Zge.__importDefault(R3()),the=(Xt(),ve(Wt)),rhe=ng(),nhe=gd(),tg=zn(),ihe=hd(),cj=$n(),Dd=U3(),lj=Io(),ohe=Sd(),she=da(),ahe=aj(),che=We(),lhe=xd(),dhe=We(),uhe=e=>{(0,dhe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,lhe.resolveDefaultsModeConfig)(e),r=()=>t().then(che.loadConfigsForDefaultMode),n=(0,ahe.getRuntimeConfig)(e);return(0,the.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ohe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??rhe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,nhe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:ehe.default.version}),maxAttempts:e?.maxAttempts??(0,Dd.loadConfig)(cj.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Dd.loadConfig)(tg.NODE_REGION_CONFIG_OPTIONS,tg.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:lj.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Dd.loadConfig)({...cj.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||she.DEFAULT_RETRY_MODE}),sha256:e?.sha256??ihe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??lj.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Dd.loadConfig)(tg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Dd.loadConfig)(tg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};rg.getRuntimeConfig=uhe});var OE=h((m9e,xM)=>{"use strict";u();var og=Object.defineProperty,mhe=Object.getOwnPropertyDescriptor,fhe=Object.getOwnPropertyNames,phe=Object.prototype.hasOwnProperty,se=(e,t)=>og(e,"name",{value:t,configurable:!0}),ghe=(e,t)=>{for(var r in t)og(e,r,{get:t[r],enumerable:!0})},hhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fhe(t))!phe.call(e,i)&&i!==r&&og(e,i,{get:()=>t[i],enumerable:!(n=mhe(t,i))||n.enumerable});return e},vhe=e=>hhe(og({},"__esModule",{value:!0}),e),vj={};ghe(vj,{AccessDeniedException:()=>wj,AuthorizationPendingException:()=>Oj,CreateTokenCommand:()=>vM,CreateTokenRequestFilterSensitiveLog:()=>dM,CreateTokenResponseFilterSensitiveLog:()=>uM,CreateTokenWithIAMCommand:()=>yM,CreateTokenWithIAMRequestFilterSensitiveLog:()=>mM,CreateTokenWithIAMResponseFilterSensitiveLog:()=>fM,ExpiredTokenException:()=>kj,InternalServerException:()=>Nj,InvalidClientException:()=>Fj,InvalidClientMetadataException:()=>sM,InvalidGrantException:()=>Mj,InvalidRedirectUriException:()=>lM,InvalidRequestException:()=>Hj,InvalidRequestRegionException:()=>nM,InvalidScopeException:()=>zj,RegisterClientCommand:()=>EM,RegisterClientResponseFilterSensitiveLog:()=>pM,SSOOIDC:()=>PM,SSOOIDCClient:()=>yj,SSOOIDCServiceException:()=>er,SlowDownException:()=>Wj,StartDeviceAuthorizationCommand:()=>bM,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>gM,UnauthorizedClientException:()=>Yj,UnsupportedGrantTypeException:()=>eM,__Client:()=>w.Client});xM.exports=vhe(vj);var uj=Ol(),_he=Al(),yhe=Rl(),mj=Yl(),She=zn(),Xo=(Kt(),ve(ar)),Ehe=Ql(),Fd=Mi(),fj=$n(),pj=hE(),Che=se(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),sg={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},bhe=dj(),gj=Ad(),hj=Ke(),w=We(),whe=se(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Phe=se(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),ig=se(e=>e,"asPartial"),xhe=se((e,t)=>{let r={...ig((0,gj.getAwsRegionExtensionConfiguration)(e)),...ig((0,w.getDefaultExtensionConfiguration)(e)),...ig((0,hj.getHttpHandlerExtensionConfiguration)(e)),...ig(whe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,gj.resolveAwsRegionExtensionConfiguration)(r),...(0,w.resolveDefaultRuntimeConfig)(r),...(0,hj.resolveHttpHandlerRuntimeConfig)(r),...Phe(r)}},"resolveRuntimeExtensions"),_j=class extends w.Client{constructor(...[t]){let r=(0,bhe.getRuntimeConfig)(t||{}),n=Che(r),i=(0,mj.resolveUserAgentConfig)(n),o=(0,fj.resolveRetryConfig)(i),s=(0,She.resolveRegionConfig)(o),c=(0,uj.resolveHostHeaderConfig)(s),l=(0,Fd.resolveEndpointConfig)(c),m=(0,pj.resolveHttpAuthSchemeConfig)(l),f=xhe(m,t?.extensions||[]);super(f),this.config=f,this.middlewareStack.use((0,mj.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,fj.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ehe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,uj.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_he.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,yhe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Xo.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:pj.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Xo.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use((0,Xo.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};se(_j,"SSOOIDCClient");var yj=_j,ag=Lo(),Sj=class Ej extends w.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Ej.prototype)}};se(Sj,"SSOOIDCServiceException");var er=Sj,Cj=class bj extends er{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,bj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Cj,"AccessDeniedException");var wj=Cj,Pj=class xj extends er{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,xj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Pj,"AuthorizationPendingException");var Oj=Pj,Aj=class Rj extends er{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Rj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Aj,"ExpiredTokenException");var kj=Aj,Ij=class Tj extends er{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Tj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Ij,"InternalServerException");var Nj=Ij,Bj=class Dj extends er{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Dj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Bj,"InvalidClientException");var Fj=Bj,Lj=class jj extends er{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,jj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Lj,"InvalidGrantException");var Mj=Lj,qj=class Uj extends er{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Uj.prototype),this.error=t.error,this.error_description=t.error_description}};se(qj,"InvalidRequestException");var Hj=qj,Gj=class $j extends er{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,$j.prototype),this.error=t.error,this.error_description=t.error_description}};se(Gj,"InvalidScopeException");var zj=Gj,Vj=class Kj extends er{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Kj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Vj,"SlowDownException");var Wj=Vj,Xj=class Jj extends er{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Jj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Xj,"UnauthorizedClientException");var Yj=Xj,Qj=class Zj extends er{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Zj.prototype),this.error=t.error,this.error_description=t.error_description}};se(Qj,"UnsupportedGrantTypeException");var eM=Qj,tM=class rM extends er{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,rM.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};se(tM,"InvalidRequestRegionException");var nM=tM,iM=class oM extends er{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,oM.prototype),this.error=t.error,this.error_description=t.error_description}};se(iM,"InvalidClientMetadataException");var sM=iM,aM=class cM extends er{constructor(t){super({name:"InvalidRedirectUriException",$fault:"client",...t}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,cM.prototype),this.error=t.error,this.error_description=t.error_description}};se(aM,"InvalidRedirectUriException");var lM=aM,dM=se(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:w.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),uM=se(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),mM=se(e=>({...e,...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.assertion&&{assertion:w.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:w.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:w.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),fM=se(e=>({...e,...e.accessToken&&{accessToken:w.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:w.SENSITIVE_STRING},...e.idToken&&{idToken:w.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),pM=se(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),gM=se(e=>({...e,...e.clientSecret&&{clientSecret:w.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),Ha=(Xt(),ve(Wt)),Ohe=se(async(e,t)=>{let r=(0,Xo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let i;return i=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,w._json)(o)})),r.m("POST").h(n).b(i),r.build()},"se_CreateTokenCommand"),Ahe=se(async(e,t)=>{let r=(0,Xo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let i=(0,w.map)({[Jhe]:[,"t"]}),o;return o=JSON.stringify((0,w.take)(e,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,w._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(i).b(o),r.build()},"se_CreateTokenWithIAMCommand"),Rhe=se(async(e,t)=>{let r=(0,Xo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let i;return i=JSON.stringify((0,w.take)(e,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:o=>(0,w._json)(o),issuerUrl:[],redirectUris:o=>(0,w._json)(o),scopes:o=>(0,w._json)(o)})),r.m("POST").h(n).b(i),r.build()},"se_RegisterClientCommand"),khe=se(async(e,t)=>{let r=(0,Xo.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let i;return i=JSON.stringify((0,w.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(i),r.build()},"se_StartDeviceAuthorizationCommand"),Ihe=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cg(e,t);let r=(0,w.map)({$metadata:Ut(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Ha.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,refreshToken:w.expectString,tokenType:w.expectString});return Object.assign(r,i),r},"de_CreateTokenCommand"),The=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cg(e,t);let r=(0,w.map)({$metadata:Ut(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Ha.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{accessToken:w.expectString,expiresIn:w.expectInt32,idToken:w.expectString,issuedTokenType:w.expectString,refreshToken:w.expectString,scope:w._json,tokenType:w.expectString});return Object.assign(r,i),r},"de_CreateTokenWithIAMCommand"),Nhe=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cg(e,t);let r=(0,w.map)({$metadata:Ut(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Ha.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{authorizationEndpoint:w.expectString,clientId:w.expectString,clientIdIssuedAt:w.expectLong,clientSecret:w.expectString,clientSecretExpiresAt:w.expectLong,tokenEndpoint:w.expectString});return Object.assign(r,i),r},"de_RegisterClientCommand"),Bhe=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cg(e,t);let r=(0,w.map)({$metadata:Ut(e)}),n=(0,w.expectNonNull)((0,w.expectObject)(await(0,Ha.parseJsonBody)(e.body,t)),"body"),i=(0,w.take)(n,{deviceCode:w.expectString,expiresIn:w.expectInt32,interval:w.expectInt32,userCode:w.expectString,verificationUri:w.expectString,verificationUriComplete:w.expectString});return Object.assign(r,i),r},"de_StartDeviceAuthorizationCommand"),cg=se(async(e,t)=>{let r={...e,body:await(0,Ha.parseJsonErrorBody)(e.body,t)},n=(0,Ha.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Fhe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Lhe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await jhe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Mhe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await qhe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Hhe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await $he(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Vhe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Khe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Whe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Xhe(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await zhe(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Uhe(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await Ghe(r,t);default:let i=r.body;return Dhe({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),Dhe=(0,w.withBaseException)(er),Fhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new wj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_AccessDeniedExceptionRes"),Lhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Oj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_AuthorizationPendingExceptionRes"),jhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new kj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_ExpiredTokenExceptionRes"),Mhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Nj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InternalServerExceptionRes"),qhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Fj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidClientExceptionRes"),Uhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new sM({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidClientMetadataExceptionRes"),Hhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Mj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidGrantExceptionRes"),Ghe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new lM({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidRedirectUriExceptionRes"),$he=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Hj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),zhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{endpoint:w.expectString,error:w.expectString,error_description:w.expectString,region:w.expectString});Object.assign(r,i);let o=new nM({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidRequestRegionExceptionRes"),Vhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new zj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_InvalidScopeExceptionRes"),Khe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Wj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_SlowDownExceptionRes"),Whe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new Yj({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_UnauthorizedClientExceptionRes"),Xhe=se(async(e,t)=>{let r=(0,w.map)({}),n=e.body,i=(0,w.take)(n,{error:w.expectString,error_description:w.expectString});Object.assign(r,i);let o=new eM({$metadata:Ut(e),...r});return(0,w.decorateServiceException)(o,e.body)},"de_UnsupportedGrantTypeExceptionRes"),Ut=se(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Jhe="aws_iam",hM=class extends w.Command.classBuilder().ep({...sg}).m(function(t,r,n,i){return[(0,ag.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Fd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(dM,uM).ser(Ohe).de(Ihe).build(){};se(hM,"CreateTokenCommand");var vM=hM,_M=class extends w.Command.classBuilder().ep({...sg}).m(function(t,r,n,i){return[(0,ag.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Fd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(mM,fM).ser(Ahe).de(The).build(){};se(_M,"CreateTokenWithIAMCommand");var yM=_M,SM=class extends w.Command.classBuilder().ep({...sg}).m(function(t,r,n,i){return[(0,ag.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Fd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,pM).ser(Rhe).de(Nhe).build(){};se(SM,"RegisterClientCommand");var EM=SM,CM=class extends w.Command.classBuilder().ep({...sg}).m(function(t,r,n,i){return[(0,ag.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Fd.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(gM,void 0).ser(khe).de(Bhe).build(){};se(CM,"StartDeviceAuthorizationCommand");var bM=CM,Yhe={CreateTokenCommand:vM,CreateTokenWithIAMCommand:yM,RegisterClientCommand:EM,StartDeviceAuthorizationCommand:bM},wM=class extends yj{};se(wM,"SSOOIDC");var PM=wM;(0,w.createAggregatedClient)(Yhe,PM)});var Ga=h(lg=>{"use strict";u();Object.defineProperty(lg,"__esModule",{value:!0});lg.getHomeDir=void 0;var Qhe=P("os"),Zhe=P("path"),AE={},eve=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",tve=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Zhe.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=eve();return AE[i]||(AE[i]=(0,Qhe.homedir)()),AE[i]};lg.getHomeDir=tve});var RE=h(dg=>{"use strict";u();Object.defineProperty(dg,"__esModule",{value:!0});dg.getSSOTokenFilepath=void 0;var rve=P("crypto"),nve=P("path"),ive=Ga(),ove=e=>{let r=(0,rve.createHash)("sha1").update(e).digest("hex");return(0,nve.join)((0,ive.getHomeDir)(),".aws","sso","cache",`${r}.json`)};dg.getSSOTokenFilepath=ove});var OM=h(ug=>{"use strict";u();Object.defineProperty(ug,"__esModule",{value:!0});ug.getSSOTokenFromFile=void 0;var sve=P("fs"),ave=RE(),{readFile:cve}=sve.promises,lve=async e=>{let t=(0,ave.getSSOTokenFilepath)(e),r=await cve(t,"utf8");return JSON.parse(r)};ug.getSSOTokenFromFile=lve});var IE=h(mg=>{"use strict";u();Object.defineProperty(mg,"__esModule",{value:!0});mg.slurpFile=void 0;var dve=P("fs"),{readFile:uve}=dve.promises,kE={},mve=(e,t)=>((!kE[e]||t?.ignoreCache)&&(kE[e]=uve(e,"utf8")),kE[e]);mg.slurpFile=mve});var BM=h((C9e,jd)=>{u();var gg=Object.defineProperty,fve=Object.getOwnPropertyDescriptor,pve=Object.getOwnPropertyNames,gve=Object.prototype.hasOwnProperty,rn=(e,t)=>gg(e,"name",{value:t,configurable:!0}),hve=(e,t)=>{for(var r in t)gg(e,r,{get:t[r],enumerable:!0})},TE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pve(t))!gve.call(e,i)&&i!==r&&gg(e,i,{get:()=>t[i],enumerable:!(n=fve(t,i))||n.enumerable});return e},BE=(e,t,r)=>(TE(e,t,"default"),r&&TE(r,t,"default")),vve=e=>TE(gg({},"__esModule",{value:!0}),e),Ld={};hve(Ld,{CONFIG_PREFIX_SEPARATOR:()=>Jo,DEFAULT_PROFILE:()=>IM,ENV_PROFILE:()=>kM,getProfileName:()=>_ve,loadSharedConfigFiles:()=>NM,loadSsoSessionData:()=>Ive,parseKnownFiles:()=>Nve});jd.exports=vve(Ld);BE(Ld,Ga(),jd.exports);var kM="AWS_PROFILE",IM="default",_ve=rn(e=>e.profile||process.env[kM]||IM,"getProfileName");BE(Ld,RE(),jd.exports);BE(Ld,OM(),jd.exports);var fg=ut(),yve=rn(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Jo);return r===-1?!1:Object.values(fg.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Jo),o=r.substring(0,i)===fg.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),pg=P("path"),Sve=Ga(),Eve="AWS_CONFIG_FILE",TM=rn(()=>process.env[Eve]||(0,pg.join)((0,Sve.getHomeDir)(),".aws","config"),"getConfigFilepath"),Cve=Ga(),bve="AWS_SHARED_CREDENTIALS_FILE",wve=rn(()=>process.env[bve]||(0,pg.join)((0,Cve.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Pve=Ga(),xve=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Ove=["__proto__","profile __proto__"],NE=rn(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=xve.exec(c);if(l){let[,m,,f]=l;Object.values(fg.IniSectionType).includes(m)&&(r=[m,f].join(Jo))}else r=c;if(Ove.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Jo):l;t[r][f]=m}}}}return t},"parseIni"),AM=IE(),RM=rn(()=>({}),"swallowError"),Jo=".",NM=rn(async(e={})=>{let{filepath:t=wve(),configFilepath:r=TM()}=e,n=(0,Pve.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,pg.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,pg.join)(n,r.slice(2)));let c=await Promise.all([(0,AM.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(NE).then(yve).catch(RM),(0,AM.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(NE).catch(RM)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Ave=rn(e=>Object.entries(e).filter(([t])=>t.startsWith(fg.IniSectionType.SSO_SESSION+Jo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Jo)+1)]:n}),{}),"getSsoSessionData"),Rve=IE(),kve=rn(()=>({}),"swallowError"),Ive=rn(async(e={})=>(0,Rve.slurpFile)(e.configFilepath??TM()).then(NE).then(Ave).catch(kve),"loadSsoSessionData"),Tve=rn((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),Nve=rn(async e=>{let t=await NM(e);return Tve(t.configFile,t.credentialsFile)},"parseKnownFiles")});var HM=h((w9e,UM)=>{"use strict";u();var Bve=Object.create,qd=Object.defineProperty,Dve=Object.getOwnPropertyDescriptor,Fve=Object.getOwnPropertyNames,Lve=Object.getPrototypeOf,jve=Object.prototype.hasOwnProperty,Yi=(e,t)=>qd(e,"name",{value:t,configurable:!0}),Mve=(e,t)=>{for(var r in t)qd(e,r,{get:t[r],enumerable:!0})},LM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fve(t))!jve.call(e,i)&&i!==r&&qd(e,i,{get:()=>t[i],enumerable:!(n=Dve(t,i))||n.enumerable});return e},jM=(e,t,r)=>(r=e!=null?Bve(Lve(e)):{},LM(t||!e||!e.__esModule?qd(r,"default",{value:e,enumerable:!0}):r,e)),qve=e=>LM(qd({},"__esModule",{value:!0}),e),MM={};Mve(MM,{fromSso:()=>qM,fromStatic:()=>Kve,nodeProvider:()=>Wve});UM.exports=qve(MM);var Uve=5*60*1e3,FE="To refresh this SSO session run 'aws sso login' with the corresponding profile.",DE={},Hve=Yi(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>jM(OE()));if(DE[e])return DE[e];let r=new t({region:e});return DE[e]=r,r},"getSsoOidcClient"),Gve=Yi(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>jM(OE()));return(await Hve(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),kn=ft(),DM=Yi(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new kn.TokenProviderError(`Token is expired. ${FE}`,!1)},"validateTokenExpiry"),Yo=Yi((e,t,r=!1)=>{if(typeof t>"u")throw new kn.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${FE}`,!1)},"validateTokenKey"),Md=BM(),$ve=P("fs"),{writeFile:zve}=$ve.promises,Vve=Yi((e,t)=>{let r=(0,Md.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return zve(r,n)},"writeSSOTokenToFile"),FM=new Date(0),qM=Yi((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers - fromSso");let r=await(0,Md.parseKnownFiles)(e),n=(0,Md.getProfileName)(e),i=r[n];if(i){if(!i.sso_session)throw new kn.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new kn.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await(0,Md.loadSsoSessionData)(e))[o];if(!c)throw new kn.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let b of["sso_start_url","sso_region"])if(!c[b])throw new kn.TokenProviderError(`Sso session '${o}' is missing required property '${b}'.`,!1);let l=c.sso_start_url,m=c.sso_region,f;try{f=await(0,Md.getSSOTokenFromFile)(o)}catch{throw new kn.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${FE}`,!1)}Yo("accessToken",f.accessToken),Yo("expiresAt",f.expiresAt);let{accessToken:g,expiresAt:y}=f,S={token:g,expiration:new Date(y)};if(S.expiration.getTime()-Date.now()>Uve)return S;if(Date.now()-FM.getTime()<30*1e3)return DM(S),S;Yo("clientId",f.clientId,!0),Yo("clientSecret",f.clientSecret,!0),Yo("refreshToken",f.refreshToken,!0);try{FM.setTime(Date.now());let b=await Gve(f,m);Yo("accessToken",b.accessToken),Yo("expiresIn",b.expiresIn);let I=new Date(Date.now()+b.expiresIn*1e3);try{await Vve(o,{...f,accessToken:b.accessToken,expiresAt:I.toISOString(),refreshToken:b.refreshToken})}catch{}return{token:b.accessToken,expiration:I}}catch{return DM(S),S}},"fromSso"),Kve=Yi(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new kn.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),Wve=Yi((e={})=>(0,kn.memoize)((0,kn.chain)(qM(e),async()=>{throw new kn.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var $a=h(hg=>{"use strict";u();Object.defineProperty(hg,"__esModule",{value:!0});hg.getHomeDir=void 0;var Xve=P("os"),Jve=P("path"),LE={},Yve=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Qve=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Jve.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=Yve();return LE[i]||(LE[i]=(0,Xve.homedir)()),LE[i]};hg.getHomeDir=Qve});var jE=h(vg=>{"use strict";u();Object.defineProperty(vg,"__esModule",{value:!0});vg.getSSOTokenFilepath=void 0;var Zve=P("crypto"),e_e=P("path"),t_e=$a(),r_e=e=>{let r=(0,Zve.createHash)("sha1").update(e).digest("hex");return(0,e_e.join)((0,t_e.getHomeDir)(),".aws","sso","cache",`${r}.json`)};vg.getSSOTokenFilepath=r_e});var GM=h(_g=>{"use strict";u();Object.defineProperty(_g,"__esModule",{value:!0});_g.getSSOTokenFromFile=void 0;var n_e=P("fs"),i_e=jE(),{readFile:o_e}=n_e.promises,s_e=async e=>{let t=(0,i_e.getSSOTokenFilepath)(e),r=await o_e(t,"utf8");return JSON.parse(r)};_g.getSSOTokenFromFile=s_e});var qE=h(yg=>{"use strict";u();Object.defineProperty(yg,"__esModule",{value:!0});yg.slurpFile=void 0;var a_e=P("fs"),{readFile:c_e}=a_e.promises,ME={},l_e=(e,t)=>((!ME[e]||t?.ignoreCache)&&(ME[e]=c_e(e,"utf8")),ME[e]);yg.slurpFile=l_e});var JM=h((B9e,Hd)=>{u();var Cg=Object.defineProperty,d_e=Object.getOwnPropertyDescriptor,u_e=Object.getOwnPropertyNames,m_e=Object.prototype.hasOwnProperty,nn=(e,t)=>Cg(e,"name",{value:t,configurable:!0}),f_e=(e,t)=>{for(var r in t)Cg(e,r,{get:t[r],enumerable:!0})},UE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of u_e(t))!m_e.call(e,i)&&i!==r&&Cg(e,i,{get:()=>t[i],enumerable:!(n=d_e(t,i))||n.enumerable});return e},GE=(e,t,r)=>(UE(e,t,"default"),r&&UE(r,t,"default")),p_e=e=>UE(Cg({},"__esModule",{value:!0}),e),Ud={};f_e(Ud,{CONFIG_PREFIX_SEPARATOR:()=>Qo,DEFAULT_PROFILE:()=>KM,ENV_PROFILE:()=>VM,getProfileName:()=>g_e,loadSharedConfigFiles:()=>XM,loadSsoSessionData:()=>A_e,parseKnownFiles:()=>k_e});Hd.exports=p_e(Ud);GE(Ud,$a(),Hd.exports);var VM="AWS_PROFILE",KM="default",g_e=nn(e=>e.profile||process.env[VM]||KM,"getProfileName");GE(Ud,jE(),Hd.exports);GE(Ud,GM(),Hd.exports);var Sg=ut(),h_e=nn(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Qo);return r===-1?!1:Object.values(Sg.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Qo),o=r.substring(0,i)===Sg.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Eg=P("path"),v_e=$a(),__e="AWS_CONFIG_FILE",WM=nn(()=>process.env[__e]||(0,Eg.join)((0,v_e.getHomeDir)(),".aws","config"),"getConfigFilepath"),y_e=$a(),S_e="AWS_SHARED_CREDENTIALS_FILE",E_e=nn(()=>process.env[S_e]||(0,Eg.join)((0,y_e.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),C_e=$a(),b_e=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,w_e=["__proto__","profile __proto__"],HE=nn(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=b_e.exec(c);if(l){let[,m,,f]=l;Object.values(Sg.IniSectionType).includes(m)&&(r=[m,f].join(Qo))}else r=c;if(w_e.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Qo):l;t[r][f]=m}}}}return t},"parseIni"),$M=qE(),zM=nn(()=>({}),"swallowError"),Qo=".",XM=nn(async(e={})=>{let{filepath:t=E_e(),configFilepath:r=WM()}=e,n=(0,C_e.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Eg.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Eg.join)(n,r.slice(2)));let c=await Promise.all([(0,$M.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(HE).then(h_e).catch(zM),(0,$M.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(HE).catch(zM)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),P_e=nn(e=>Object.entries(e).filter(([t])=>t.startsWith(Sg.IniSectionType.SSO_SESSION+Qo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Qo)+1)]:n}),{}),"getSsoSessionData"),x_e=qE(),O_e=nn(()=>({}),"swallowError"),A_e=nn(async(e={})=>(0,x_e.slurpFile)(e.configFilepath??WM()).then(HE).then(P_e).catch(O_e),"loadSsoSessionData"),R_e=nn((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),k_e=nn(async e=>{let t=await XM(e);return R_e(t.configFile,t.credentialsFile)},"parseKnownFiles")});var zE=h((F9e,i2)=>{"use strict";u();var wg=Object.defineProperty,I_e=Object.getOwnPropertyDescriptor,QM=Object.getOwnPropertyNames,T_e=Object.prototype.hasOwnProperty,Pg=(e,t)=>wg(e,"name",{value:t,configurable:!0}),N_e=(e,t)=>function(){return e&&(t=(0,e[QM(e)[0]])(e=0)),t},ZM=(e,t)=>{for(var r in t)wg(e,r,{get:t[r],enumerable:!0})},B_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of QM(t))!T_e.call(e,i)&&i!==r&&wg(e,i,{get:()=>t[i],enumerable:!(n=I_e(t,i))||n.enumerable});return e},D_e=e=>B_e(wg({},"__esModule",{value:!0}),e),e2={};ZM(e2,{GetRoleCredentialsCommand:()=>$E.GetRoleCredentialsCommand,SSOClient:()=>$E.SSOClient});var $E,F_e=N_e({"src/loadSso.ts"(){"use strict";$E=O3()}}),t2={};ZM(t2,{fromSSO:()=>j_e,isSsoProfile:()=>r2,validateSsoProfile:()=>n2});i2.exports=D_e(t2);var r2=Pg(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),L_e=HM(),In=ft(),bg=JM(),Gd=!1,YM=Pg(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,clientConfig:s,profile:c,logger:l})=>{let m,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Qt=await(0,L_e.fromSso)({profile:c})();m={accessToken:Qt.token,expiresAt:new Date(Qt.expiration).toISOString()}}catch(Qt){throw new In.CredentialsProviderError(Qt.message,{tryNextLink:Gd,logger:l})}else try{m=await(0,bg.getSSOTokenFromFile)(e)}catch{throw new In.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Gd,logger:l})}if(new Date(m.expiresAt).getTime()-Date.now()<=0)throw new In.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Gd,logger:l});let{accessToken:g}=m,{SSOClient:y,GetRoleCredentialsCommand:S}=await Promise.resolve().then(()=>(F_e(),e2)),b=o||new y(Object.assign({},s??{},{region:s?.region??n})),I;try{I=await b.send(new S({accountId:r,roleName:i,accessToken:g}))}catch(Qt){throw new In.CredentialsProviderError(Qt,{tryNextLink:Gd,logger:l})}let{roleCredentials:{accessKeyId:A,secretAccessKey:U,sessionToken:Q,expiration:Ee,credentialScope:Ae,accountId:Et}={}}=I;if(!A||!U||!Q||!Ee)throw new In.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Gd,logger:l});return{accessKeyId:A,secretAccessKey:U,sessionToken:Q,expiration:new Date(Ee),...Ae&&{credentialScope:Ae},...Et&&{accountId:Et}}},"resolveSSOCredentials"),n2=Pg((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:o}=e;if(!r||!n||!i||!o)throw new In.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),j_e=Pg((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=e,{ssoClient:c}=e,l=(0,bg.getProfileName)(e);if(!r&&!n&&!i&&!o&&!s){let f=(await(0,bg.parseKnownFiles)(e))[l];if(!f)throw new In.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!r2(f))throw new In.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let U=(await(0,bg.loadSsoSessionData)(e))[f.sso_session],Q=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(i&&i!==U.sso_region)throw new In.CredentialsProviderError("Conflicting SSO region"+Q,{tryNextLink:!1,logger:e.logger});if(r&&r!==U.sso_start_url)throw new In.CredentialsProviderError("Conflicting SSO start_url"+Q,{tryNextLink:!1,logger:e.logger});f.sso_region=U.sso_region,f.sso_start_url=U.sso_start_url}let{sso_start_url:g,sso_account_id:y,sso_region:S,sso_role_name:b,sso_session:I}=n2(f,e.logger);return YM({ssoStartUrl:g,ssoSession:I,ssoAccountId:y,ssoRegion:S,ssoRoleName:b,ssoClient:c,clientConfig:e.clientConfig,profile:l})}else{if(!r||!n||!i||!o)throw new In.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return YM({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,profile:l})}},"fromSSO")});var za=h(xg=>{"use strict";u();Object.defineProperty(xg,"__esModule",{value:!0});xg.getHomeDir=void 0;var M_e=P("os"),q_e=P("path"),VE={},U_e=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",H_e=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${q_e.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=U_e();return VE[i]||(VE[i]=(0,M_e.homedir)()),VE[i]};xg.getHomeDir=H_e});var KE=h(Og=>{"use strict";u();Object.defineProperty(Og,"__esModule",{value:!0});Og.getSSOTokenFilepath=void 0;var G_e=P("crypto"),$_e=P("path"),z_e=za(),V_e=e=>{let r=(0,G_e.createHash)("sha1").update(e).digest("hex");return(0,$_e.join)((0,z_e.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Og.getSSOTokenFilepath=V_e});var o2=h(Ag=>{"use strict";u();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.getSSOTokenFromFile=void 0;var K_e=P("fs"),W_e=KE(),{readFile:X_e}=K_e.promises,J_e=async e=>{let t=(0,W_e.getSSOTokenFilepath)(e),r=await X_e(t,"utf8");return JSON.parse(r)};Ag.getSSOTokenFromFile=J_e});var XE=h(Rg=>{"use strict";u();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.slurpFile=void 0;var Y_e=P("fs"),{readFile:Q_e}=Y_e.promises,WE={},Z_e=(e,t)=>((!WE[e]||t?.ignoreCache)&&(WE[e]=Q_e(e,"utf8")),WE[e]);Rg.slurpFile=Z_e});var m2=h((V9e,zd)=>{u();var Tg=Object.defineProperty,e0e=Object.getOwnPropertyDescriptor,t0e=Object.getOwnPropertyNames,r0e=Object.prototype.hasOwnProperty,on=(e,t)=>Tg(e,"name",{value:t,configurable:!0}),n0e=(e,t)=>{for(var r in t)Tg(e,r,{get:t[r],enumerable:!0})},JE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of t0e(t))!r0e.call(e,i)&&i!==r&&Tg(e,i,{get:()=>t[i],enumerable:!(n=e0e(t,i))||n.enumerable});return e},QE=(e,t,r)=>(JE(e,t,"default"),r&&JE(r,t,"default")),i0e=e=>JE(Tg({},"__esModule",{value:!0}),e),$d={};n0e($d,{CONFIG_PREFIX_SEPARATOR:()=>Zo,DEFAULT_PROFILE:()=>l2,ENV_PROFILE:()=>c2,getProfileName:()=>o0e,loadSharedConfigFiles:()=>u2,loadSsoSessionData:()=>_0e,parseKnownFiles:()=>S0e});zd.exports=i0e($d);QE($d,za(),zd.exports);var c2="AWS_PROFILE",l2="default",o0e=on(e=>e.profile||process.env[c2]||l2,"getProfileName");QE($d,KE(),zd.exports);QE($d,o2(),zd.exports);var kg=ut(),s0e=on(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Zo);return r===-1?!1:Object.values(kg.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(Zo),o=r.substring(0,i)===kg.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ig=P("path"),a0e=za(),c0e="AWS_CONFIG_FILE",d2=on(()=>process.env[c0e]||(0,Ig.join)((0,a0e.getHomeDir)(),".aws","config"),"getConfigFilepath"),l0e=za(),d0e="AWS_SHARED_CREDENTIALS_FILE",u0e=on(()=>process.env[d0e]||(0,Ig.join)((0,l0e.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),m0e=za(),f0e=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,p0e=["__proto__","profile __proto__"],YE=on(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=f0e.exec(c);if(l){let[,m,,f]=l;Object.values(kg.IniSectionType).includes(m)&&(r=[m,f].join(Zo))}else r=c;if(p0e.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(Zo):l;t[r][f]=m}}}}return t},"parseIni"),s2=XE(),a2=on(()=>({}),"swallowError"),Zo=".",u2=on(async(e={})=>{let{filepath:t=u0e(),configFilepath:r=d2()}=e,n=(0,m0e.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Ig.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Ig.join)(n,r.slice(2)));let c=await Promise.all([(0,s2.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(YE).then(s0e).catch(a2),(0,s2.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(YE).catch(a2)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),g0e=on(e=>Object.entries(e).filter(([t])=>t.startsWith(kg.IniSectionType.SSO_SESSION+Zo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Zo)+1)]:n}),{}),"getSsoSessionData"),h0e=XE(),v0e=on(()=>({}),"swallowError"),_0e=on(async(e={})=>(0,h0e.slurpFile)(e.configFilepath??d2()).then(YE).then(g0e).catch(v0e),"loadSsoSessionData"),y0e=on((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),S0e=on(async e=>{let t=await u2(e);return y0e(t.configFile,t.credentialsFile)},"parseKnownFiles")});var ZE=h(Tn=>{"use strict";u();Object.defineProperty(Tn,"__esModule",{value:!0});Tn.resolveHttpAuthSchemeConfig=Tn.resolveStsAuthConfig=Tn.defaultSTSHttpAuthSchemeProvider=Tn.defaultSTSHttpAuthSchemeParametersProvider=void 0;var E0e=(Xt(),ve(Wt)),f2=Ur(),C0e=Vd(),b0e=async(e,t,r)=>({operation:(0,f2.getSmithyContext)(t).operation,region:await(0,f2.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Tn.defaultSTSHttpAuthSchemeParametersProvider=b0e;function w0e(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function p2(e){return{schemeId:"smithy.api#noAuth"}}var P0e=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(p2(e));break}case"AssumeRoleWithWebIdentity":{t.push(p2(e));break}default:t.push(w0e(e))}return t};Tn.defaultSTSHttpAuthSchemeProvider=P0e;var x0e=e=>({...e,stsClientCtor:C0e.STSClient});Tn.resolveStsAuthConfig=x0e;var O0e=e=>{let t=(0,Tn.resolveStsAuthConfig)(e);return{...(0,E0e.resolveAwsSdkSigV4Config)(t)}};Tn.resolveHttpAuthSchemeConfig=O0e});var Nn=h(Va=>{"use strict";u();Object.defineProperty(Va,"__esModule",{value:!0});Va.commonParams=Va.resolveClientEndpointParameters=void 0;var A0e=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Va.resolveClientEndpointParameters=A0e;Va.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var g2=h((Q9e,R0e)=>{R0e.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.637.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Ka=h(Ng=>{"use strict";u();Object.defineProperty(Ng,"__esModule",{value:!0});Ng.getHomeDir=void 0;var k0e=P("os"),I0e=P("path"),eC={},T0e=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",N0e=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${I0e.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=T0e();return eC[i]||(eC[i]=(0,k0e.homedir)()),eC[i]};Ng.getHomeDir=N0e});var tC=h(Bg=>{"use strict";u();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.getSSOTokenFilepath=void 0;var B0e=P("crypto"),D0e=P("path"),F0e=Ka(),L0e=e=>{let r=(0,B0e.createHash)("sha1").update(e).digest("hex");return(0,D0e.join)((0,F0e.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Bg.getSSOTokenFilepath=L0e});var h2=h(Dg=>{"use strict";u();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.getSSOTokenFromFile=void 0;var j0e=P("fs"),M0e=tC(),{readFile:q0e}=j0e.promises,U0e=async e=>{let t=(0,M0e.getSSOTokenFilepath)(e),r=await q0e(t,"utf8");return JSON.parse(r)};Dg.getSSOTokenFromFile=U0e});var nC=h(Fg=>{"use strict";u();Object.defineProperty(Fg,"__esModule",{value:!0});Fg.slurpFile=void 0;var H0e=P("fs"),{readFile:G0e}=H0e.promises,rC={},$0e=(e,t)=>((!rC[e]||t?.ignoreCache)&&(rC[e]=G0e(e,"utf8")),rC[e]);Fg.slurpFile=$0e});var b2=h((aXe,Wd)=>{u();var Mg=Object.defineProperty,z0e=Object.getOwnPropertyDescriptor,V0e=Object.getOwnPropertyNames,K0e=Object.prototype.hasOwnProperty,sn=(e,t)=>Mg(e,"name",{value:t,configurable:!0}),W0e=(e,t)=>{for(var r in t)Mg(e,r,{get:t[r],enumerable:!0})},iC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of V0e(t))!K0e.call(e,i)&&i!==r&&Mg(e,i,{get:()=>t[i],enumerable:!(n=z0e(t,i))||n.enumerable});return e},sC=(e,t,r)=>(iC(e,t,"default"),r&&iC(r,t,"default")),X0e=e=>iC(Mg({},"__esModule",{value:!0}),e),Kd={};W0e(Kd,{CONFIG_PREFIX_SEPARATOR:()=>es,DEFAULT_PROFILE:()=>S2,ENV_PROFILE:()=>y2,getProfileName:()=>J0e,loadSharedConfigFiles:()=>C2,loadSsoSessionData:()=>lye,parseKnownFiles:()=>uye});Wd.exports=X0e(Kd);sC(Kd,Ka(),Wd.exports);var y2="AWS_PROFILE",S2="default",J0e=sn(e=>e.profile||process.env[y2]||S2,"getProfileName");sC(Kd,tC(),Wd.exports);sC(Kd,h2(),Wd.exports);var Lg=ut(),Y0e=sn(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(es);return r===-1?!1:Object.values(Lg.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(es),o=r.substring(0,i)===Lg.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),jg=P("path"),Q0e=Ka(),Z0e="AWS_CONFIG_FILE",E2=sn(()=>process.env[Z0e]||(0,jg.join)((0,Q0e.getHomeDir)(),".aws","config"),"getConfigFilepath"),eye=Ka(),tye="AWS_SHARED_CREDENTIALS_FILE",rye=sn(()=>process.env[tye]||(0,jg.join)((0,eye.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),nye=Ka(),iye=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,oye=["__proto__","profile __proto__"],oC=sn(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=iye.exec(c);if(l){let[,m,,f]=l;Object.values(Lg.IniSectionType).includes(m)&&(r=[m,f].join(es))}else r=c;if(oye.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(es):l;t[r][f]=m}}}}return t},"parseIni"),v2=nC(),_2=sn(()=>({}),"swallowError"),es=".",C2=sn(async(e={})=>{let{filepath:t=rye(),configFilepath:r=E2()}=e,n=(0,nye.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,jg.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,jg.join)(n,r.slice(2)));let c=await Promise.all([(0,v2.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(oC).then(Y0e).catch(_2),(0,v2.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(oC).catch(_2)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),sye=sn(e=>Object.entries(e).filter(([t])=>t.startsWith(Lg.IniSectionType.SSO_SESSION+es)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(es)+1)]:n}),{}),"getSsoSessionData"),aye=nC(),cye=sn(()=>({}),"swallowError"),lye=sn(async(e={})=>(0,aye.slurpFile)(e.configFilepath??E2()).then(oC).then(sye).catch(cye),"loadSsoSessionData"),dye=sn((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),uye=sn(async e=>{let t=await C2(e);return dye(t.configFile,t.credentialsFile)},"parseKnownFiles")});var O2=h((lXe,x2)=>{u();var qg=Object.defineProperty,mye=Object.getOwnPropertyDescriptor,fye=Object.getOwnPropertyNames,pye=Object.prototype.hasOwnProperty,Wa=(e,t)=>qg(e,"name",{value:t,configurable:!0}),gye=(e,t)=>{for(var r in t)qg(e,r,{get:t[r],enumerable:!0})},hye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fye(t))!pye.call(e,i)&&i!==r&&qg(e,i,{get:()=>t[i],enumerable:!(n=mye(t,i))||n.enumerable});return e},vye=e=>hye(qg({},"__esModule",{value:!0}),e),P2={};gye(P2,{loadConfig:()=>Cye});x2.exports=vye(P2);var Xd=ft();function aC(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Wa(aC,"getSelectorName");var _ye=Wa((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Xd.CredentialsProviderError(r.message||`Not found in ENV: ${aC(e.toString())}`,{logger:t})}},"fromEnv"),w2=b2(),yye=Wa((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,w2.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,w2.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new Xd.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${aC(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Sye=Wa(e=>typeof e=="function","isFunction"),Eye=Wa(e=>Sye(e)?async()=>await e():(0,Xd.fromStatic)(e),"fromStatic"),Cye=Wa(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Xd.memoize)((0,Xd.chain)(_ye(e),yye(t,n),Eye(r))),"loadConfig")});var X2=h(Ug=>{"use strict";u();Object.defineProperty(Ug,"__esModule",{value:!0});Ug.ruleSet=void 0;var M2="required",ge="type",ke="fn",Ie="argv",Zi="ref",A2=!1,cC=!0,Qi="booleanEquals",Jt="stringEquals",q2="sigv4",U2="sts",H2="us-east-1",rt="endpoint",R2="https://sts.{Region}.{PartitionResult#dnsSuffix}",Qn="tree",Xa="error",dC="getAttr",k2={[M2]:!1,[ge]:"String"},lC={[M2]:!0,default:!1,[ge]:"Boolean"},G2={[Zi]:"Endpoint"},I2={[ke]:"isSet",[Ie]:[{[Zi]:"Region"}]},Yt={[Zi]:"Region"},T2={[ke]:"aws.partition",[Ie]:[Yt],assign:"PartitionResult"},$2={[Zi]:"UseFIPS"},z2={[Zi]:"UseDualStack"},tr={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:q2,signingName:U2,signingRegion:H2}]},headers:{}},Nr={},N2={conditions:[{[ke]:Jt,[Ie]:[Yt,"aws-global"]}],[rt]:tr,[ge]:rt},V2={[ke]:Qi,[Ie]:[$2,!0]},K2={[ke]:Qi,[Ie]:[z2,!0]},B2={[ke]:dC,[Ie]:[{[Zi]:"PartitionResult"},"supportsFIPS"]},W2={[Zi]:"PartitionResult"},D2={[ke]:Qi,[Ie]:[!0,{[ke]:dC,[Ie]:[W2,"supportsDualStack"]}]},F2=[{[ke]:"isSet",[Ie]:[G2]}],L2=[V2],j2=[K2],bye={version:"1.0",parameters:{Region:k2,UseDualStack:lC,UseFIPS:lC,Endpoint:k2,UseGlobalEndpoint:lC},rules:[{conditions:[{[ke]:Qi,[Ie]:[{[Zi]:"UseGlobalEndpoint"},cC]},{[ke]:"not",[Ie]:F2},I2,T2,{[ke]:Qi,[Ie]:[$2,A2]},{[ke]:Qi,[Ie]:[z2,A2]}],rules:[{conditions:[{[ke]:Jt,[Ie]:[Yt,"ap-northeast-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"ap-south-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"ap-southeast-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"ap-southeast-2"]}],endpoint:tr,[ge]:rt},N2,{conditions:[{[ke]:Jt,[Ie]:[Yt,"ca-central-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"eu-central-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"eu-north-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"eu-west-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"eu-west-2"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"eu-west-3"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"sa-east-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,H2]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"us-east-2"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"us-west-1"]}],endpoint:tr,[ge]:rt},{conditions:[{[ke]:Jt,[Ie]:[Yt,"us-west-2"]}],endpoint:tr,[ge]:rt},{endpoint:{url:R2,properties:{authSchemes:[{name:q2,signingName:U2,signingRegion:"{Region}"}]},headers:Nr},[ge]:rt}],[ge]:Qn},{conditions:F2,rules:[{conditions:L2,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ge]:Xa},{conditions:j2,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ge]:Xa},{endpoint:{url:G2,properties:Nr,headers:Nr},[ge]:rt}],[ge]:Qn},{conditions:[I2],rules:[{conditions:[T2],rules:[{conditions:[V2,K2],rules:[{conditions:[{[ke]:Qi,[Ie]:[cC,B2]},D2],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nr,headers:Nr},[ge]:rt}],[ge]:Qn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ge]:Xa}],[ge]:Qn},{conditions:L2,rules:[{conditions:[{[ke]:Qi,[Ie]:[B2,cC]}],rules:[{conditions:[{[ke]:Jt,[Ie]:[{[ke]:dC,[Ie]:[W2,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Nr,headers:Nr},[ge]:rt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nr,headers:Nr},[ge]:rt}],[ge]:Qn},{error:"FIPS is enabled but this partition does not support FIPS",[ge]:Xa}],[ge]:Qn},{conditions:j2,rules:[{conditions:[D2],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nr,headers:Nr},[ge]:rt}],[ge]:Qn},{error:"DualStack is enabled but this partition does not support DualStack",[ge]:Xa}],[ge]:Qn},N2,{endpoint:{url:R2,properties:Nr,headers:Nr},[ge]:rt}],[ge]:Qn}],[ge]:Qn},{error:"Invalid Configuration: Missing Region",[ge]:Xa}]};Ug.ruleSet=bye});var Y2=h(Hg=>{"use strict";u();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.defaultEndpointResolver=void 0;var wye=pa(),J2=ma(),Pye=X2(),xye=(e,t={})=>(0,J2.resolveEndpoint)(Pye.ruleSet,{endpointParams:e,logger:t.logger});Hg.defaultEndpointResolver=xye;J2.customEndpointFunctions.aws=wye.awsEndpointFunctions});var eq=h(Gg=>{"use strict";u();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.getRuntimeConfig=void 0;var Oye=(Xt(),ve(Wt)),Aye=(Kt(),ve(ar)),Rye=We(),kye=Fo(),Q2=Li(),Z2=sr(),Iye=ZE(),Tye=Y2(),Nye=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Q2.fromBase64,base64Encoder:e?.base64Encoder??Q2.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Tye.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Iye.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Oye.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Aye.NoAuthSigner}],logger:e?.logger??new Rye.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??kye.parseUrl,utf8Decoder:e?.utf8Decoder??Z2.fromUtf8,utf8Encoder:e?.utf8Encoder??Z2.toUtf8});Gg.getRuntimeConfig=Nye});var oq=h(zg=>{"use strict";u();Object.defineProperty(zg,"__esModule",{value:!0});zg.getRuntimeConfig=void 0;var Bye=(Jn(),ve(Xn)),Dye=Bye.__importDefault(g2()),tq=(Xt(),ve(Wt)),rq=ng(),Fye=gd(),$g=zn(),Lye=(Kt(),ve(ar)),jye=hd(),nq=$n(),Jd=O2(),iq=Io(),Mye=Sd(),qye=da(),Uye=eq(),Hye=We(),Gye=xd(),$ye=We(),zye=e=>{(0,$ye.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Gye.resolveDefaultsModeConfig)(e),r=()=>t().then(Hye.loadConfigsForDefaultMode),n=(0,Uye.getRuntimeConfig)(e);return(0,tq.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Mye.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??rq.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Fye.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Dye.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await(0,rq.defaultProvider)(o?.__config||{})()),signer:new tq.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lye.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,Jd.loadConfig)(nq.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Jd.loadConfig)($g.NODE_REGION_CONFIG_OPTIONS,$g.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:iq.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jd.loadConfig)({...nq.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qye.DEFAULT_RETRY_MODE}),sha256:e?.sha256??jye.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??iq.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jd.loadConfig)($g.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Jd.loadConfig)($g.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};zg.getRuntimeConfig=zye});var sq=h(Ja=>{"use strict";u();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.resolveHttpAuthRuntimeConfig=Ja.getHttpAuthExtensionConfiguration=void 0;var Vye=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}};Ja.getHttpAuthExtensionConfiguration=Vye;var Kye=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Ja.resolveHttpAuthRuntimeConfig=Kye});var uq=h(Kg=>{"use strict";u();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.resolveRuntimeExtensions=void 0;var aq=Ad(),cq=Ke(),lq=We(),dq=sq(),Vg=e=>e,Wye=(e,t)=>{let r={...Vg((0,aq.getAwsRegionExtensionConfiguration)(e)),...Vg((0,lq.getDefaultExtensionConfiguration)(e)),...Vg((0,cq.getHttpHandlerExtensionConfiguration)(e)),...Vg((0,dq.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,aq.resolveAwsRegionExtensionConfiguration)(r),...(0,lq.resolveDefaultRuntimeConfig)(r),...(0,cq.resolveHttpHandlerRuntimeConfig)(r),...(0,dq.resolveHttpAuthRuntimeConfig)(r)}};Kg.resolveRuntimeExtensions=Wye});var Vd=h(Ya=>{"use strict";u();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.STSClient=Ya.__Client=void 0;var mq=Ol(),Xye=Al(),Jye=Rl(),fq=Yl(),Yye=zn(),uC=(Kt(),ve(ar)),Qye=Ql(),Zye=Mi(),pq=$n(),hq=We();Object.defineProperty(Ya,"__Client",{enumerable:!0,get:function(){return hq.Client}});var gq=ZE(),eSe=Nn(),tSe=oq(),rSe=uq(),mC=class extends hq.Client{constructor(...[t]){let r=(0,tSe.getRuntimeConfig)(t||{}),n=(0,eSe.resolveClientEndpointParameters)(r),i=(0,fq.resolveUserAgentConfig)(n),o=(0,pq.resolveRetryConfig)(i),s=(0,Yye.resolveRegionConfig)(o),c=(0,mq.resolveHostHeaderConfig)(s),l=(0,Zye.resolveEndpointConfig)(c),m=(0,gq.resolveHttpAuthSchemeConfig)(l),f=(0,rSe.resolveRuntimeExtensions)(m,t?.extensions||[]);super(f),this.config=f,this.middlewareStack.use((0,fq.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,pq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Qye.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Xye.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Jye.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,uC.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:gq.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new uC.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use((0,uC.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};Ya.STSClient=mC});var KC=h((BXe,VC)=>{"use strict";u();var Wg=Object.defineProperty,nSe=Object.getOwnPropertyDescriptor,iSe=Object.getOwnPropertyNames,oSe=Object.prototype.hasOwnProperty,B=(e,t)=>Wg(e,"name",{value:t,configurable:!0}),sSe=(e,t)=>{for(var r in t)Wg(e,r,{get:t[r],enumerable:!0})},UC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iSe(t))!oSe.call(e,i)&&i!==r&&Wg(e,i,{get:()=>t[i],enumerable:!(n=nSe(t,i))||n.enumerable});return e},aSe=(e,t,r)=>(UC(e,t,"default"),r&&UC(r,t,"default")),cSe=e=>UC(Wg({},"__esModule",{value:!0}),e),HC={};sSe(HC,{AssumeRoleCommand:()=>$C,AssumeRoleResponseFilterSensitiveLog:()=>$q,AssumeRoleWithSAMLCommand:()=>eU,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>zq,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>Vq,AssumeRoleWithWebIdentityCommand:()=>zC,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Kq,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Wq,ClientInputEndpointParameters:()=>kEe.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>oc,DecodeAuthorizationMessageCommand:()=>nU,ExpiredTokenException:()=>Cq,GetAccessKeyInfoCommand:()=>oU,GetCallerIdentityCommand:()=>aU,GetFederationTokenCommand:()=>lU,GetFederationTokenResponseFilterSensitiveLog:()=>Xq,GetSessionTokenCommand:()=>uU,GetSessionTokenResponseFilterSensitiveLog:()=>Jq,IDPCommunicationErrorException:()=>qq,IDPRejectedClaimException:()=>Bq,InvalidAuthorizationMessageException:()=>Gq,InvalidIdentityTokenException:()=>Lq,MalformedPolicyDocumentException:()=>Pq,PackedPolicyTooLargeException:()=>Aq,RegionDisabledException:()=>Iq,STS:()=>fU,STSServiceException:()=>Zn,decorateDefaultCredentialProvider:()=>NEe,getDefaultRoleAssumer:()=>yU,getDefaultRoleAssumerWithWebIdentity:()=>SU});VC.exports=cSe(HC);aSe(HC,Vd(),VC.exports);var eo=Mi(),to=Lo(),lSe=Nn(),re=We(),_q=class yq extends re.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,yq.prototype)}};B(_q,"STSServiceException");var Zn=_q,Sq=class Eq extends Zn{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Eq.prototype)}};B(Sq,"ExpiredTokenException");var Cq=Sq,bq=class wq extends Zn{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,wq.prototype)}};B(bq,"MalformedPolicyDocumentException");var Pq=bq,xq=class Oq extends Zn{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Oq.prototype)}};B(xq,"PackedPolicyTooLargeException");var Aq=xq,Rq=class kq extends Zn{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,kq.prototype)}};B(Rq,"RegionDisabledException");var Iq=Rq,Tq=class Nq extends Zn{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Nq.prototype)}};B(Tq,"IDPRejectedClaimException");var Bq=Tq,Dq=class Fq extends Zn{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Fq.prototype)}};B(Dq,"InvalidIdentityTokenException");var Lq=Dq,jq=class Mq extends Zn{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Mq.prototype)}};B(jq,"IDPCommunicationErrorException");var qq=jq,Uq=class Hq extends Zn{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,Hq.prototype)}};B(Uq,"InvalidAuthorizationMessageException");var Gq=Uq,oc=B(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:re.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),$q=B(e=>({...e,...e.Credentials&&{Credentials:oc(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),zq=B(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:re.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),Vq=B(e=>({...e,...e.Credentials&&{Credentials:oc(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),Kq=B(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:re.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),Wq=B(e=>({...e,...e.Credentials&&{Credentials:oc(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),Xq=B(e=>({...e,...e.Credentials&&{Credentials:oc(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),Jq=B(e=>({...e,...e.Credentials&&{Credentials:oc(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),wi=(Xt(),ve(Wt)),dSe=Ke(),uSe=B(async(e,t)=>{let r=io,n;return n=co({...DSe(e,t),[so]:mEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),mSe=B(async(e,t)=>{let r=io,n;return n=co({...FSe(e,t),[so]:fEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),fSe=B(async(e,t)=>{let r=io,n;return n=co({...LSe(e,t),[so]:pEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),pSe=B(async(e,t)=>{let r=io,n;return n=co({...jSe(e,t),[so]:gEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),gSe=B(async(e,t)=>{let r=io,n;return n=co({...MSe(e,t),[so]:hEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),hSe=B(async(e,t)=>{let r=io,n;return n=co({...qSe(e,t),[so]:vEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),vSe=B(async(e,t)=>{let r=io,n;return n=co({...USe(e,t),[so]:_Ee,[ao]:oo}),no(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),_Se=B(async(e,t)=>{let r=io,n;return n=co({...HSe(e,t),[so]:yEe,[ao]:oo}),no(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),ySe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=WSe(r.AssumeRoleResult,t),{$metadata:rr(e),...n}},"de_AssumeRoleCommand"),SSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=XSe(r.AssumeRoleWithSAMLResult,t),{$metadata:rr(e),...n}},"de_AssumeRoleWithSAMLCommand"),ESe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=JSe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:rr(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),CSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=YSe(r.DecodeAuthorizationMessageResult,t),{$metadata:rr(e),...n}},"de_DecodeAuthorizationMessageCommand"),bSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=eEe(r.GetAccessKeyInfoResult,t),{$metadata:rr(e),...n}},"de_GetAccessKeyInfoCommand"),wSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=tEe(r.GetCallerIdentityResult,t),{$metadata:rr(e),...n}},"de_GetCallerIdentityCommand"),PSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=rEe(r.GetFederationTokenResult,t),{$metadata:rr(e),...n}},"de_GetFederationTokenCommand"),xSe=B(async(e,t)=>{if(e.statusCode>=300)return ro(e,t);let r=await(0,wi.parseXmlBody)(e.body,t),n={};return n=nEe(r.GetSessionTokenResult,t),{$metadata:rr(e),...n}},"de_GetSessionTokenCommand"),ro=B(async(e,t)=>{let r={...e,body:await(0,wi.parseXmlErrorBody)(e.body,t)},n=SEe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await OSe(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await TSe(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await NSe(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await BSe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await RSe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await ISe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await ASe(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await kSe(r,t);default:let i=r.body;return uEe({output:e,parsedBody:i.Error,errorCode:n})}},"de_CommandError"),OSe=B(async(e,t)=>{let r=e.body,n=QSe(r.Error,t),i=new Cq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_ExpiredTokenExceptionRes"),ASe=B(async(e,t)=>{let r=e.body,n=iEe(r.Error,t),i=new qq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_IDPCommunicationErrorExceptionRes"),RSe=B(async(e,t)=>{let r=e.body,n=oEe(r.Error,t),i=new Bq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_IDPRejectedClaimExceptionRes"),kSe=B(async(e,t)=>{let r=e.body,n=sEe(r.Error,t),i=new Gq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_InvalidAuthorizationMessageExceptionRes"),ISe=B(async(e,t)=>{let r=e.body,n=aEe(r.Error,t),i=new Lq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_InvalidIdentityTokenExceptionRes"),TSe=B(async(e,t)=>{let r=e.body,n=cEe(r.Error,t),i=new Pq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_MalformedPolicyDocumentExceptionRes"),NSe=B(async(e,t)=>{let r=e.body,n=lEe(r.Error,t),i=new Aq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_PackedPolicyTooLargeExceptionRes"),BSe=B(async(e,t)=>{let r=e.body,n=dEe(r.Error,t),i=new Iq({$metadata:rr(e),...n});return(0,re.decorateServiceException)(i,r)},"de_RegionDisabledExceptionRes"),DSe=B((e,t)=>{var r,n,i,o;let s={};if(e[bi]!=null&&(s[bi]=e[bi]),e[tc]!=null&&(s[tc]=e[tc]),e[cn]!=null){let c=Xg(e[cn],t);((r=e[cn])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(c).forEach(([l,m])=>{let f=`PolicyArns.${l}`;s[f]=m})}if(e[an]!=null&&(s[an]=e[an]),e[mr]!=null&&(s[mr]=e[mr]),e[nc]!=null){let c=Yq(e[nc],t);((n=e[nc])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(c).forEach(([l,m])=>{let f=`Tags.${l}`;s[f]=m})}if(e[FC]!=null){let c=KSe(e[FC],t);((i=e[FC])==null?void 0:i.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(c).forEach(([l,m])=>{let f=`TransitiveTagKeys.${l}`;s[f]=m})}if(e[vC]!=null&&(s[vC]=e[vC]),e[rc]!=null&&(s[rc]=e[rc]),e[ic]!=null&&(s[ic]=e[ic]),e[dn]!=null&&(s[dn]=e[dn]),e[OC]!=null){let c=zSe(e[OC],t);((o=e[OC])==null?void 0:o.length)===0&&(s.ProvidedContexts=[]),Object.entries(c).forEach(([l,m])=>{let f=`ProvidedContexts.${l}`;s[f]=m})}return s},"se_AssumeRoleRequest"),FSe=B((e,t)=>{var r;let n={};if(e[bi]!=null&&(n[bi]=e[bi]),e[PC]!=null&&(n[PC]=e[PC]),e[TC]!=null&&(n[TC]=e[TC]),e[cn]!=null){let i=Xg(e[cn],t);((r=e[cn])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([o,s])=>{let c=`PolicyArns.${o}`;n[c]=s})}return e[an]!=null&&(n[an]=e[an]),e[mr]!=null&&(n[mr]=e[mr]),n},"se_AssumeRoleWithSAMLRequest"),LSe=B((e,t)=>{var r;let n={};if(e[bi]!=null&&(n[bi]=e[bi]),e[tc]!=null&&(n[tc]=e[tc]),e[MC]!=null&&(n[MC]=e[MC]),e[AC]!=null&&(n[AC]=e[AC]),e[cn]!=null){let i=Xg(e[cn],t);((r=e[cn])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([o,s])=>{let c=`PolicyArns.${o}`;n[c]=s})}return e[an]!=null&&(n[an]=e[an]),e[mr]!=null&&(n[mr]=e[mr]),n},"se_AssumeRoleWithWebIdentityRequest"),jSe=B((e,t)=>{let r={};return e[_C]!=null&&(r[_C]=e[_C]),r},"se_DecodeAuthorizationMessageRequest"),MSe=B((e,t)=>{let r={};return e[Qa]!=null&&(r[Qa]=e[Qa]),r},"se_GetAccessKeyInfoRequest"),qSe=B((e,t)=>({}),"se_GetCallerIdentityRequest"),USe=B((e,t)=>{var r,n;let i={};if(e[bC]!=null&&(i[bC]=e[bC]),e[an]!=null&&(i[an]=e[an]),e[cn]!=null){let o=Xg(e[cn],t);((r=e[cn])==null?void 0:r.length)===0&&(i.PolicyArns=[]),Object.entries(o).forEach(([s,c])=>{let l=`PolicyArns.${s}`;i[l]=c})}if(e[mr]!=null&&(i[mr]=e[mr]),e[nc]!=null){let o=Yq(e[nc],t);((n=e[nc])==null?void 0:n.length)===0&&(i.Tags=[]),Object.entries(o).forEach(([s,c])=>{let l=`Tags.${s}`;i[l]=c})}return i},"se_GetFederationTokenRequest"),HSe=B((e,t)=>{let r={};return e[mr]!=null&&(r[mr]=e[mr]),e[rc]!=null&&(r[rc]=e[rc]),e[ic]!=null&&(r[ic]=e[ic]),r},"se_GetSessionTokenRequest"),Xg=B((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=GSe(i,t);Object.entries(o).forEach(([s,c])=>{r[`member.${n}.${s}`]=c}),n++}return r},"se_policyDescriptorListType"),GSe=B((e,t)=>{let r={};return e[qC]!=null&&(r[qC]=e[qC]),r},"se_PolicyDescriptorType"),$Se=B((e,t)=>{let r={};return e[xC]!=null&&(r[xC]=e[xC]),e[pC]!=null&&(r[pC]=e[pC]),r},"se_ProvidedContext"),zSe=B((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=$Se(i,t);Object.entries(o).forEach(([s,c])=>{r[`member.${n}.${s}`]=c}),n++}return r},"se_ProvidedContextsListType"),VSe=B((e,t)=>{let r={};return e[CC]!=null&&(r[CC]=e[CC]),e[jC]!=null&&(r[jC]=e[jC]),r},"se_Tag"),KSe=B((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_tagKeyListType"),Yq=B((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=VSe(i,t);Object.entries(o).forEach(([s,c])=>{r[`member.${n}.${s}`]=c}),n++}return r},"se_tagListType"),GC=B((e,t)=>{let r={};return e[fC]!=null&&(r[fC]=(0,re.expectString)(e[fC])),e[Ci]!=null&&(r[Ci]=(0,re.expectString)(e[Ci])),r},"de_AssumedRoleUser"),WSe=B((e,t)=>{let r={};return e[ur]!=null&&(r[ur]=Yd(e[ur],t)),e[Ei]!=null&&(r[Ei]=GC(e[Ei],t)),e[ln]!=null&&(r[ln]=(0,re.strictParseInt32)(e[ln])),e[dn]!=null&&(r[dn]=(0,re.expectString)(e[dn])),r},"de_AssumeRoleResponse"),XSe=B((e,t)=>{let r={};return e[ur]!=null&&(r[ur]=Yd(e[ur],t)),e[Ei]!=null&&(r[Ei]=GC(e[Ei],t)),e[ln]!=null&&(r[ln]=(0,re.strictParseInt32)(e[ln])),e[kC]!=null&&(r[kC]=(0,re.expectString)(e[kC])),e[BC]!=null&&(r[BC]=(0,re.expectString)(e[BC])),e[EC]!=null&&(r[EC]=(0,re.expectString)(e[EC])),e[ec]!=null&&(r[ec]=(0,re.expectString)(e[ec])),e[wC]!=null&&(r[wC]=(0,re.expectString)(e[wC])),e[dn]!=null&&(r[dn]=(0,re.expectString)(e[dn])),r},"de_AssumeRoleWithSAMLResponse"),JSe=B((e,t)=>{let r={};return e[ur]!=null&&(r[ur]=Yd(e[ur],t)),e[NC]!=null&&(r[NC]=(0,re.expectString)(e[NC])),e[Ei]!=null&&(r[Ei]=GC(e[Ei],t)),e[ln]!=null&&(r[ln]=(0,re.strictParseInt32)(e[ln])),e[RC]!=null&&(r[RC]=(0,re.expectString)(e[RC])),e[ec]!=null&&(r[ec]=(0,re.expectString)(e[ec])),e[dn]!=null&&(r[dn]=(0,re.expectString)(e[dn])),r},"de_AssumeRoleWithWebIdentityResponse"),Yd=B((e,t)=>{let r={};return e[Qa]!=null&&(r[Qa]=(0,re.expectString)(e[Qa])),e[IC]!=null&&(r[IC]=(0,re.expectString)(e[IC])),e[DC]!=null&&(r[DC]=(0,re.expectString)(e[DC])),e[hC]!=null&&(r[hC]=(0,re.expectNonNull)((0,re.parseRfc3339DateTimeWithOffset)(e[hC]))),r},"de_Credentials"),YSe=B((e,t)=>{let r={};return e[gC]!=null&&(r[gC]=(0,re.expectString)(e[gC])),r},"de_DecodeAuthorizationMessageResponse"),QSe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_ExpiredTokenException"),ZSe=B((e,t)=>{let r={};return e[SC]!=null&&(r[SC]=(0,re.expectString)(e[SC])),e[Ci]!=null&&(r[Ci]=(0,re.expectString)(e[Ci])),r},"de_FederatedUser"),eEe=B((e,t)=>{let r={};return e[Za]!=null&&(r[Za]=(0,re.expectString)(e[Za])),r},"de_GetAccessKeyInfoResponse"),tEe=B((e,t)=>{let r={};return e[LC]!=null&&(r[LC]=(0,re.expectString)(e[LC])),e[Za]!=null&&(r[Za]=(0,re.expectString)(e[Za])),e[Ci]!=null&&(r[Ci]=(0,re.expectString)(e[Ci])),r},"de_GetCallerIdentityResponse"),rEe=B((e,t)=>{let r={};return e[ur]!=null&&(r[ur]=Yd(e[ur],t)),e[yC]!=null&&(r[yC]=ZSe(e[yC],t)),e[ln]!=null&&(r[ln]=(0,re.strictParseInt32)(e[ln])),r},"de_GetFederationTokenResponse"),nEe=B((e,t)=>{let r={};return e[ur]!=null&&(r[ur]=Yd(e[ur],t)),r},"de_GetSessionTokenResponse"),iEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_IDPCommunicationErrorException"),oEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_IDPRejectedClaimException"),sEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_InvalidAuthorizationMessageException"),aEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_InvalidIdentityTokenException"),cEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_MalformedPolicyDocumentException"),lEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_PackedPolicyTooLargeException"),dEe=B((e,t)=>{let r={};return e[nt]!=null&&(r[nt]=(0,re.expectString)(e[nt])),r},"de_RegionDisabledException"),rr=B(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),uEe=(0,re.withBaseException)(Zn),no=B(async(e,t,r,n,i)=>{let{hostname:o,protocol:s="https",port:c,path:l}=await e.endpoint(),m={protocol:s,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(m.hostname=n),i!==void 0&&(m.body=i),new dSe.HttpRequest(m)},"buildHttpRpcRequest"),io={"content-type":"application/x-www-form-urlencoded"},oo="2011-06-15",so="Action",Qa="AccessKeyId",mEe="AssumeRole",fC="AssumedRoleId",Ei="AssumedRoleUser",fEe="AssumeRoleWithSAML",pEe="AssumeRoleWithWebIdentity",Za="Account",Ci="Arn",ec="Audience",ur="Credentials",pC="ContextAssertion",gEe="DecodeAuthorizationMessage",gC="DecodedMessage",mr="DurationSeconds",hC="Expiration",vC="ExternalId",_C="EncodedMessage",yC="FederatedUser",SC="FederatedUserId",hEe="GetAccessKeyInfo",vEe="GetCallerIdentity",_Ee="GetFederationToken",yEe="GetSessionToken",EC="Issuer",CC="Key",bC="Name",wC="NameQualifier",an="Policy",cn="PolicyArns",PC="PrincipalArn",xC="ProviderArn",OC="ProvidedContexts",AC="ProviderId",ln="PackedPolicySize",RC="Provider",bi="RoleArn",tc="RoleSessionName",kC="Subject",IC="SecretAccessKey",TC="SAMLAssertion",NC="SubjectFromWebIdentityToken",dn="SourceIdentity",rc="SerialNumber",BC="SubjectType",DC="SessionToken",nc="Tags",ic="TokenCode",FC="TransitiveTagKeys",LC="UserId",ao="Version",jC="Value",MC="WebIdentityToken",qC="arn",nt="message",co=B(e=>Object.entries(e).map(([t,r])=>(0,re.extendedEncodeURIComponent)(t)+"="+(0,re.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),SEe=B((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),Qq=class extends re.Command.classBuilder().ep({...lSe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,$q).ser(uSe).de(ySe).build(){};B(Qq,"AssumeRoleCommand");var $C=Qq,EEe=Nn(),Zq=class extends re.Command.classBuilder().ep({...EEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(zq,Vq).ser(mSe).de(SSe).build(){};B(Zq,"AssumeRoleWithSAMLCommand");var eU=Zq,CEe=Nn(),tU=class extends re.Command.classBuilder().ep({...CEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Kq,Wq).ser(fSe).de(ESe).build(){};B(tU,"AssumeRoleWithWebIdentityCommand");var zC=tU,bEe=Nn(),rU=class extends re.Command.classBuilder().ep({...bEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(pSe).de(CSe).build(){};B(rU,"DecodeAuthorizationMessageCommand");var nU=rU,wEe=Nn(),iU=class extends re.Command.classBuilder().ep({...wEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(gSe).de(bSe).build(){};B(iU,"GetAccessKeyInfoCommand");var oU=iU,PEe=Nn(),sU=class extends re.Command.classBuilder().ep({...PEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(hSe).de(wSe).build(){};B(sU,"GetCallerIdentityCommand");var aU=sU,xEe=Nn(),cU=class extends re.Command.classBuilder().ep({...xEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,Xq).ser(vSe).de(PSe).build(){};B(cU,"GetFederationTokenCommand");var lU=cU,OEe=Nn(),dU=class extends re.Command.classBuilder().ep({...OEe.commonParams}).m(function(t,r,n,i){return[(0,to.getSerdePlugin)(n,this.serialize,this.deserialize),(0,eo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,Jq).ser(_Se).de(xSe).build(){};B(dU,"GetSessionTokenCommand");var uU=dU,AEe=Vd(),REe={AssumeRoleCommand:$C,AssumeRoleWithSAMLCommand:eU,AssumeRoleWithWebIdentityCommand:zC,DecodeAuthorizationMessageCommand:nU,GetAccessKeyInfoCommand:oU,GetCallerIdentityCommand:aU,GetFederationTokenCommand:lU,GetSessionTokenCommand:uU},mU=class extends AEe.STSClient{};B(mU,"STS");var fU=mU;(0,re.createAggregatedClient)(REe,fU);var kEe=Nn(),vq="us-east-1",pU=B(e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},"getAccountIdFromAssumedRoleUser"),gU=B(async(e,t,r)=>{var n;let i=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (provider)`,`${o} (parent client)`,`${vq} (STS default)`),i??o??vq},"resolveRegion"),IEe=B((e,t)=>{let r,n;return async(i,o)=>{var s,c,l;if(n=i,!r){let{logger:y=(s=e?.parentClientConfig)==null?void 0:s.logger,region:S,requestHandler:b=(c=e?.parentClientConfig)==null?void 0:c.requestHandler,credentialProviderLogger:I}=e,A=await gU(S,(l=e?.parentClientConfig)==null?void 0:l.region,I),U=!hU(b);r=new t({credentialDefaultProvider:()=>async()=>n,region:A,requestHandler:U?b:void 0,logger:y})}let{Credentials:m,AssumedRoleUser:f}=await r.send(new $C(o));if(!m||!m.AccessKeyId||!m.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let g=pU(f);return{accessKeyId:m.AccessKeyId,secretAccessKey:m.SecretAccessKey,sessionToken:m.SessionToken,expiration:m.Expiration,...m.CredentialScope&&{credentialScope:m.CredentialScope},...g&&{accountId:g}}}},"getDefaultRoleAssumer"),TEe=B((e,t)=>{let r;return async n=>{var i,o,s;if(!r){let{logger:f=(i=e?.parentClientConfig)==null?void 0:i.logger,region:g,requestHandler:y=(o=e?.parentClientConfig)==null?void 0:o.requestHandler,credentialProviderLogger:S}=e,b=await gU(g,(s=e?.parentClientConfig)==null?void 0:s.region,S),I=!hU(y);r=new t({region:b,requestHandler:I?y:void 0,logger:f})}let{Credentials:c,AssumedRoleUser:l}=await r.send(new zC(n));if(!c||!c.AccessKeyId||!c.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let m=pU(l);return{accessKeyId:c.AccessKeyId,secretAccessKey:c.SecretAccessKey,sessionToken:c.SessionToken,expiration:c.Expiration,...c.CredentialScope&&{credentialScope:c.CredentialScope},...m&&{accountId:m}}}},"getDefaultRoleAssumerWithWebIdentity"),hU=B(e=>{var t;return((t=e?.metadata)==null?void 0:t.handlerProtocol)==="h2"},"isH2"),vU=Vd(),_U=B((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let i of t)this.middlewareStack.use(i)}},B(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),yU=B((e={},t)=>IEe(e,_U(vU.STSClient,t)),"getDefaultRoleAssumer"),SU=B((e={},t)=>TEe(e,_U(vU.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),NEe=B(e=>t=>e({roleAssumer:yU(t),roleAssumerWithWebIdentity:SU(t),...t}),"decorateDefaultCredentialProvider")});var sc=h(Jg=>{"use strict";u();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.getHomeDir=void 0;var BEe=P("os"),DEe=P("path"),WC={},FEe=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",LEe=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${DEe.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=FEe();return WC[i]||(WC[i]=(0,BEe.homedir)()),WC[i]};Jg.getHomeDir=LEe});var XC=h(Yg=>{"use strict";u();Object.defineProperty(Yg,"__esModule",{value:!0});Yg.getSSOTokenFilepath=void 0;var jEe=P("crypto"),MEe=P("path"),qEe=sc(),UEe=e=>{let r=(0,jEe.createHash)("sha1").update(e).digest("hex");return(0,MEe.join)((0,qEe.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Yg.getSSOTokenFilepath=UEe});var EU=h(Qg=>{"use strict";u();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.getSSOTokenFromFile=void 0;var HEe=P("fs"),GEe=XC(),{readFile:$Ee}=HEe.promises,zEe=async e=>{let t=(0,GEe.getSSOTokenFilepath)(e),r=await $Ee(t,"utf8");return JSON.parse(r)};Qg.getSSOTokenFromFile=zEe});var YC=h(Zg=>{"use strict";u();Object.defineProperty(Zg,"__esModule",{value:!0});Zg.slurpFile=void 0;var VEe=P("fs"),{readFile:KEe}=VEe.promises,JC={},WEe=(e,t)=>((!JC[e]||t?.ignoreCache)&&(JC[e]=KEe(e,"utf8")),JC[e]);Zg.slurpFile=WEe});var AU=h((zXe,Zd)=>{u();var rh=Object.defineProperty,XEe=Object.getOwnPropertyDescriptor,JEe=Object.getOwnPropertyNames,YEe=Object.prototype.hasOwnProperty,un=(e,t)=>rh(e,"name",{value:t,configurable:!0}),QEe=(e,t)=>{for(var r in t)rh(e,r,{get:t[r],enumerable:!0})},QC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of JEe(t))!YEe.call(e,i)&&i!==r&&rh(e,i,{get:()=>t[i],enumerable:!(n=XEe(t,i))||n.enumerable});return e},eb=(e,t,r)=>(QC(e,t,"default"),r&&QC(r,t,"default")),ZEe=e=>QC(rh({},"__esModule",{value:!0}),e),Qd={};QEe(Qd,{CONFIG_PREFIX_SEPARATOR:()=>ts,DEFAULT_PROFILE:()=>PU,ENV_PROFILE:()=>wU,getProfileName:()=>eCe,loadSharedConfigFiles:()=>OU,loadSsoSessionData:()=>fCe,parseKnownFiles:()=>gCe});Zd.exports=ZEe(Qd);eb(Qd,sc(),Zd.exports);var wU="AWS_PROFILE",PU="default",eCe=un(e=>e.profile||process.env[wU]||PU,"getProfileName");eb(Qd,XC(),Zd.exports);eb(Qd,EU(),Zd.exports);var eh=ut(),tCe=un(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(ts);return r===-1?!1:Object.values(eh.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(ts),o=r.substring(0,i)===eh.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),th=P("path"),rCe=sc(),nCe="AWS_CONFIG_FILE",xU=un(()=>process.env[nCe]||(0,th.join)((0,rCe.getHomeDir)(),".aws","config"),"getConfigFilepath"),iCe=sc(),oCe="AWS_SHARED_CREDENTIALS_FILE",sCe=un(()=>process.env[oCe]||(0,th.join)((0,iCe.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),aCe=sc(),cCe=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,lCe=["__proto__","profile __proto__"],ZC=un(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=cCe.exec(c);if(l){let[,m,,f]=l;Object.values(eh.IniSectionType).includes(m)&&(r=[m,f].join(ts))}else r=c;if(lCe.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(ts):l;t[r][f]=m}}}}return t},"parseIni"),CU=YC(),bU=un(()=>({}),"swallowError"),ts=".",OU=un(async(e={})=>{let{filepath:t=sCe(),configFilepath:r=xU()}=e,n=(0,aCe.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,th.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,th.join)(n,r.slice(2)));let c=await Promise.all([(0,CU.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(ZC).then(tCe).catch(bU),(0,CU.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(ZC).catch(bU)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),dCe=un(e=>Object.entries(e).filter(([t])=>t.startsWith(eh.IniSectionType.SSO_SESSION+ts)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(ts)+1)]:n}),{}),"getSsoSessionData"),uCe=YC(),mCe=un(()=>({}),"swallowError"),fCe=un(async(e={})=>(0,uCe.slurpFile)(e.configFilepath??xU()).then(ZC).then(dCe).catch(mCe),"loadSsoSessionData"),pCe=un((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),gCe=un(async e=>{let t=await OU(e);return pCe(t.configFile,t.credentialsFile)},"parseKnownFiles")});var nb=h((KXe,IU)=>{"use strict";u();var nh=Object.defineProperty,hCe=Object.getOwnPropertyDescriptor,vCe=Object.getOwnPropertyNames,_Ce=Object.prototype.hasOwnProperty,rb=(e,t)=>nh(e,"name",{value:t,configurable:!0}),yCe=(e,t)=>{for(var r in t)nh(e,r,{get:t[r],enumerable:!0})},SCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vCe(t))!_Ce.call(e,i)&&i!==r&&nh(e,i,{get:()=>t[i],enumerable:!(n=hCe(t,i))||n.enumerable});return e},ECe=e=>SCe(nh({},"__esModule",{value:!0}),e),kU={};yCe(kU,{fromProcess:()=>xCe});IU.exports=ECe(kU);var RU=AU(),tb=ft(),CCe=P("child_process"),bCe=P("util"),wCe=rb((e,t,r)=>{var n;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let i=t.AccountId;return!i&&((n=r?.[e])!=null&&n.aws_account_id)&&(i=r[e].aws_account_id),{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...i&&{accountId:i}}},"getValidatedProcessCredentials"),PCe=rb(async(e,t,r)=>{let n=t[e];if(t[e]){let i=n.credential_process;if(i!==void 0){let o=(0,bCe.promisify)(CCe.exec);try{let{stdout:s}=await o(i),c;try{c=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return wCe(e,c,t)}catch(s){throw new tb.CredentialsProviderError(s.message,{logger:r})}}else throw new tb.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new tb.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),xCe=rb((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,RU.parseKnownFiles)(e);return PCe((0,RU.getProfileName)(e),r,e.logger)},"fromProcess")});var ib=h(ei=>{"use strict";u();var OCe=ei&&ei.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ACe=ei&&ei.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RCe=ei&&ei.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OCe(t,e,r);return ACe(t,e),t};Object.defineProperty(ei,"__esModule",{value:!0});ei.fromWebToken=void 0;var kCe=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:i,policyArns:o,policy:s,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>RCe(KC()));l=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:i,PolicyArns:o,Policy:s,DurationSeconds:c})};ei.fromWebToken=kCe});var TU=h(ih=>{"use strict";u();Object.defineProperty(ih,"__esModule",{value:!0});ih.fromTokenFile=void 0;var ICe=ft(),TCe=P("fs"),NCe=ib(),BCe="AWS_WEB_IDENTITY_TOKEN_FILE",DCe="AWS_ROLE_ARN",FCe="AWS_ROLE_SESSION_NAME",LCe=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[BCe],r=e?.roleArn??process.env[DCe],n=e?.roleSessionName??process.env[FCe];if(!t||!r)throw new ICe.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});return(0,NCe.fromWebToken)({...e,webIdentityToken:(0,TCe.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};ih.fromTokenFile=LCe});var ab=h((ZXe,oh)=>{"use strict";u();var NU=Object.defineProperty,jCe=Object.getOwnPropertyDescriptor,MCe=Object.getOwnPropertyNames,qCe=Object.prototype.hasOwnProperty,ob=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MCe(t))!qCe.call(e,i)&&i!==r&&NU(e,i,{get:()=>t[i],enumerable:!(n=jCe(t,i))||n.enumerable});return e},BU=(e,t,r)=>(ob(e,t,"default"),r&&ob(r,t,"default")),UCe=e=>ob(NU({},"__esModule",{value:!0}),e),sb={};oh.exports=UCe(sb);BU(sb,TU(),oh.exports);BU(sb,ib(),oh.exports)});var UU=h((t7e,qU)=>{"use strict";u();var HCe=Object.create,tu=Object.defineProperty,GCe=Object.getOwnPropertyDescriptor,$Ce=Object.getOwnPropertyNames,zCe=Object.getPrototypeOf,VCe=Object.prototype.hasOwnProperty,fr=(e,t)=>tu(e,"name",{value:t,configurable:!0}),KCe=(e,t)=>{for(var r in t)tu(e,r,{get:t[r],enumerable:!0})},LU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $Ce(t))!VCe.call(e,i)&&i!==r&&tu(e,i,{get:()=>t[i],enumerable:!(n=GCe(t,i))||n.enumerable});return e},lo=(e,t,r)=>(r=e!=null?HCe(zCe(e)):{},LU(t||!e||!e.__esModule?tu(r,"default",{value:e,enumerable:!0}):r,e)),WCe=e=>LU(tu({},"__esModule",{value:!0}),e),jU={};KCe(jU,{fromIni:()=>sbe});qU.exports=WCe(jU);var cb=m2(),eu=ft(),XCe=fr((e,t,r)=>{let n={EcsContainer:async i=>{let{fromHttp:o}=await Promise.resolve().then(()=>lo(DS())),{fromContainerMetadata:s}=await Promise.resolve().then(()=>lo(ud()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),(0,eu.chain)(o(i??{}),s(i))},Ec2InstanceMetadata:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>lo(ud()));return o(i)},Environment:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>lo(fS()));return o(i)}};if(e in n)return n[e];throw new eu.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),JCe=fr((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(YCe(e,{profile:t,logger:r})||QCe(e,{profile:t,logger:r})),"isAssumeRoleProfile"),YCe=fr((e,{profile:t,logger:r})=>{var n;let i=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return i&&((n=r?.debug)==null||n.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),i},"isAssumeRoleWithSourceProfile"),QCe=fr((e,{profile:t,logger:r})=>{var n;let i=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return i&&((n=r?.debug)==null||n.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),i},"isCredentialSourceProfile"),ZCe=fr(async(e,t,r,n={})=>{var i,o;(i=r.logger)==null||i.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:y}=await Promise.resolve().then(()=>lo(KC()));r.roleAssumer=y({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:c}=s;if(c&&c in n)throw new eu.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,cb.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(o=r.logger)==null||o.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${c?`source_profile=[${c}]`:`profile=[${e}]`}`);let l=c?MU(c,{...t,[c]:{...t[c],role_arn:s.role_arn??t[c].role_arn}},r,{...n,[c]:!0}):(await XCe(s.credential_source,e,r.logger)(r))(),m={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:f}=s;if(f){if(!r.mfaCodeProvider)throw new eu.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});m.SerialNumber=f,m.TokenCode=await r.mfaCodeProvider(f)}let g=await l;return r.roleAssumer(g,m)},"resolveAssumeRoleCredentials"),ebe=fr(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),tbe=fr(async(e,t)=>Promise.resolve().then(()=>lo(nb())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),rbe=fr(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>lo(zE()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),nbe=fr(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),DU=fr(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),FU=fr((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}})},"resolveStaticCredentials"),ibe=fr(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),obe=fr(async(e,t)=>Promise.resolve().then(()=>lo(ab())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),MU=fr(async(e,t,r,n={})=>{let i=t[e];if(Object.keys(n).length>0&&DU(i))return FU(i,r);if(JCe(i,{profile:e,logger:r.logger}))return ZCe(e,t,r,n);if(DU(i))return FU(i,r);if(ibe(i))return obe(i,r);if(ebe(i))return tbe(r,e);if(nbe(i))return await rbe(e,r);throw new eu.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),sbe=fr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,cb.parseKnownFiles)(e);return MU((0,cb.getProfileName)(e),r,e)},"fromIni")});var ng=h((n7e,KU)=>{"use strict";u();var abe=Object.create,ru=Object.defineProperty,cbe=Object.getOwnPropertyDescriptor,lbe=Object.getOwnPropertyNames,dbe=Object.getPrototypeOf,ube=Object.prototype.hasOwnProperty,sh=(e,t)=>ru(e,"name",{value:t,configurable:!0}),mbe=(e,t)=>{for(var r in t)ru(e,r,{get:t[r],enumerable:!0})},GU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lbe(t))!ube.call(e,i)&&i!==r&&ru(e,i,{get:()=>t[i],enumerable:!(n=cbe(t,i))||n.enumerable});return e},ac=(e,t,r)=>(r=e!=null?abe(dbe(e)):{},GU(t||!e||!e.__esModule?ru(r,"default",{value:e,enumerable:!0}):r,e)),fbe=e=>GU(ru({},"__esModule",{value:!0}),e),$U={};mbe($U,{credentialsTreatedAsExpired:()=>VU,credentialsWillNeedRefresh:()=>zU,defaultProvider:()=>vbe});KU.exports=fbe($U);var lb=fS(),pbe=wF(),rs=ft(),gbe="AWS_EC2_METADATA_DISABLED",hbe=sh(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:i,fromContainerMetadata:o,fromInstanceMetadata:s}=await Promise.resolve().then(()=>ac(ud()));if(process.env[i]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:c}=await Promise.resolve().then(()=>ac(DS()));return(0,rs.chain)(c(e),o(e))}return process.env[gbe]?async()=>{throw new rs.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),HU=!1,vbe=sh((e={})=>(0,rs.memoize)((0,rs.chain)(async()=>{var t,r,n,i;if(e.profile??process.env[pbe.ENV_PROFILE])throw process.env[lb.ENV_KEY]&&process.env[lb.ENV_SECRET]&&(HU||(((t=e.logger)!=null&&t.warn&&((n=(r=e.logger)==null?void 0:r.constructor)==null?void 0:n.name)!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),HU=!0)),new rs.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(i=e.logger)==null||i.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,lb.fromEnv)(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=e;if(!r&&!n&&!i&&!o&&!s)throw new rs.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:c}=await Promise.resolve().then(()=>ac(zE()));return c(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>ac(UU()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>ac(nb()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>ac(ab()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await hbe(e))()},async()=>{throw new rs.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),VU,zU),"defaultProvider"),zU=sh(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),VU=sh(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var fH=h((o7e,mH)=>{"use strict";u();var ah=Object.defineProperty,_be=Object.getOwnPropertyDescriptor,ybe=Object.getOwnPropertyNames,Sbe=Object.prototype.hasOwnProperty,Ne=(e,t)=>ah(e,"name",{value:t,configurable:!0}),Ebe=(e,t)=>{for(var r in t)ah(e,r,{get:t[r],enumerable:!0})},Cbe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ybe(t))!Sbe.call(e,i)&&i!==r&&ah(e,i,{get:()=>t[i],enumerable:!(n=_be(t,i))||n.enumerable});return e},bbe=e=>Cbe(ah({},"__esModule",{value:!0}),e),XU={};Ebe(XU,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>wbe,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>JU,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>YU,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>Pbe,NODE_USE_ARN_REGION_ENV_NAME:()=>QU,NODE_USE_ARN_REGION_INI_NAME:()=>ZU,bucketEndpointMiddleware:()=>lH,bucketEndpointMiddlewareOptions:()=>dH,bucketHostname:()=>mb,getArnResources:()=>aH,getBucketEndpointPlugin:()=>zbe,getSuffixForArnEndpoint:()=>nH,resolveBucketEndpointConfig:()=>uH,validateAccountId:()=>sH,validateDNSHostLabel:()=>cc,validateNoDualstack:()=>lh,validateNoFIPS:()=>cH,validateOutpostService:()=>iH,validatePartition:()=>oH,validateRegion:()=>ch});mH.exports=bbe(XU);var uo=Cm(),JU="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",YU="s3_disable_multiregion_access_points",wbe={environmentVariableSelector:e=>(0,uo.booleanSelector)(e,JU,uo.SelectorType.ENV),configFileSelector:e=>(0,uo.booleanSelector)(e,YU,uo.SelectorType.CONFIG),default:!1},QU="AWS_S3_USE_ARN_REGION",ZU="s3_use_arn_region",Pbe={environmentVariableSelector:e=>(0,uo.booleanSelector)(e,QU,uo.SelectorType.ENV),configFileSelector:e=>(0,uo.booleanSelector)(e,ZU,uo.SelectorType.CONFIG),default:!1},WU=X0(),xbe=Ke(),Obe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Abe=/(\d+\.){3}\d+/,Rbe=/\.\./,eH=/\./,kbe=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,tH=/^s3(-external-1)?\.amazonaws\.com$/,ub="amazonaws.com",Ibe=Ne(e=>typeof e.bucketName=="string","isBucketNameOptions"),Tbe=Ne(e=>Obe.test(e)&&!Abe.test(e)&&!Rbe.test(e),"isDnsCompatibleBucketName"),rH=Ne(e=>{let t=e.match(kbe);return[t[4],e.replace(new RegExp(`^${t[0]}`),"")]},"getRegionalSuffix"),Nbe=Ne(e=>tH.test(e)?["us-east-1",ub]:rH(e),"getSuffix"),nH=Ne(e=>tH.test(e)?[e.replace(`.${ub}`,""),ub]:rH(e),"getSuffixForArnEndpoint"),Bbe=Ne(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),Dbe=Ne(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),Fbe=Ne(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),iH=Ne(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),oH=Ne((e,t)=>{if(e!==t.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${t.clientPartition}"`)},"validatePartition"),ch=Ne((e,t)=>{if(e==="")throw new Error("ARN region is empty");if(t.useFipsEndpoint)if(t.allowFipsRegion){if(!db(e,t.clientRegion))throw new Error(`Client FIPS region ${t.clientRegion} doesn't match region ${e} in ARN`)}else throw new Error("FIPS region is not supported");if(!t.useArnRegion&&!db(e,t.clientRegion||"")&&!db(e,t.clientSigningRegion||""))throw new Error(`Region in ARN is incompatible, got ${e} but expected ${t.clientRegion}`)},"validateRegion"),fb=Ne(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),db=Ne((e,t)=>e===t,"isEqualRegions"),sH=Ne(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),cc=Ne((e,t={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||t?.tlsCompatible&&eH.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),Lbe=Ne(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),aH=Ne(e=>{let t=e.includes(":")?":":"/",[r,...n]=e.split(t);if(r==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${t}{accesspointname}`);return{accesspointName:n[0]}}else if(r==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${t}{outpostId}${t}accesspoint${t}{accesspointName}`);let[i,o,s]=n;return{outpostId:i,accesspointName:s}}else throw new Error(`ARN resource should begin with 'accesspoint${t}' or 'outpost${t}'`)},"getArnResources"),lh=Ne(e=>{if(e)throw new Error("Dualstack endpoint is not supported with Outpost or Multi-region Access Point ARN.")},"validateNoDualstack"),cH=Ne(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),jbe=Ne(e=>{try{e.split(".").forEach(t=>{cc(t)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),mb=Ne(e=>(Lbe(e),Ibe(e)?Mbe(e):qbe(e)),"bucketHostname"),Mbe=Ne(({accelerateEndpoint:e=!1,clientRegion:t,baseHostname:r,bucketName:n,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,pathStyleEndpoint:s=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[m,f]=l?[t,r]:Nbe(r);return s||!Tbe(n)||c&&eH.test(n)?{bucketEndpoint:!1,hostname:i?`s3.dualstack.${m}.${f}`:r}:(e?r=`s3-accelerate${i?".dualstack":""}.${f}`:i&&(r=`s3.dualstack.${m}.${f}`),{bucketEndpoint:!0,hostname:`${n}.${r}`})},"getEndpointFromBucketName"),qbe=Ne(e=>{let{isCustomEndpoint:t,baseHostname:r,clientRegion:n}=e,i=t?r:nH(r)[1],{pathStyleEndpoint:o,accelerateEndpoint:s=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:m,clientPartition:f="aws"}=e;Bbe({pathStyleEndpoint:o,accelerateEndpoint:s,tlsCompatible:l});let{service:g,partition:y,accountId:S,region:b,resource:I}=m;Dbe(g),oH(y,{clientPartition:f}),sH(S);let{accesspointName:A,outpostId:U}=aH(I);return g==="s3-object-lambda"?Ube({...e,tlsCompatible:l,bucketName:m,accesspointName:A,hostnameSuffix:i}):b===""?Hbe({...e,clientRegion:n,mrapAlias:A,hostnameSuffix:i}):U?Gbe({...e,clientRegion:n,outpostId:U,accesspointName:A,hostnameSuffix:i}):$be({...e,clientRegion:n,accesspointName:A,hostnameSuffix:i})},"getEndpointFromArn"),Ube=Ne(({dualstackEndpoint:e=!1,fipsEndpoint:t=!1,tlsCompatible:r=!0,useArnRegion:n,clientRegion:i,clientSigningRegion:o=i,accesspointName:s,bucketName:c,hostnameSuffix:l})=>{let{accountId:m,region:f,service:g}=c;fb(i),ch(f,{useArnRegion:n,clientRegion:i,clientSigningRegion:o,allowFipsRegion:!0,useFipsEndpoint:t}),lh(e);let y=`${s}-${m}`;cc(y,{tlsCompatible:r});let S=n?f:i,b=n?f:o;return{bucketEndpoint:!0,hostname:`${y}.${g}${t?"-fips":""}.${S}.${l}`,signingRegion:b,signingService:g}},"getEndpointFromObjectLambdaArn"),Hbe=Ne(({disableMultiregionAccessPoints:e,dualstackEndpoint:t=!1,isCustomEndpoint:r,mrapAlias:n,hostnameSuffix:i})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return jbe(n),lh(t),{bucketEndpoint:!0,hostname:`${n}${r?"":".accesspoint.s3-global"}.${i}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),Gbe=Ne(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,outpostId:i,dualstackEndpoint:o=!1,fipsEndpoint:s=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:m,hostnameSuffix:f})=>{fb(t),ch(n.region,{useArnRegion:e,clientRegion:t,clientSigningRegion:r,useFipsEndpoint:s});let g=`${l}-${n.accountId}`;cc(g,{tlsCompatible:c});let y=e?n.region:t,S=e?n.region:r;return iH(n.service),cc(i,{tlsCompatible:c}),lh(o),cH(s),{bucketEndpoint:!0,hostname:`${`${g}.${i}`}${m?"":`.s3-outposts.${y}`}.${f}`,signingRegion:S,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),$be=Ne(({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,tlsCompatible:s=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:m})=>{fb(t),ch(n.region,{useArnRegion:e,clientRegion:t,clientSigningRegion:r,allowFipsRegion:!0,useFipsEndpoint:o});let f=`${c}-${n.accountId}`;cc(f,{tlsCompatible:s});let g=e?n.region:t,y=e?n.region:r;return Fbe(n.service),{bucketEndpoint:!0,hostname:`${f}${l?"":`.s3-accesspoint${o?"-fips":""}${i?".dualstack":""}.${g}`}.${m}`,signingRegion:y}},"getEndpointFromAccessPointArn"),lH=Ne(e=>(t,r)=>async n=>{let{Bucket:i}=n.input,o=e.bucketEndpoint,s=n.request;if(xbe.HttpRequest.isInstance(s)){if(e.bucketEndpoint)s.hostname=i;else if((0,WU.validate)(i)){let c=(0,WU.parse)(i),l=await e.region(),m=await e.useDualstackEndpoint(),f=await e.useFipsEndpoint(),{partition:g,signingRegion:y=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:m,useFipsEndpoint:f})||{},S=await e.useArnRegion(),{hostname:b,bucketEndpoint:I,signingRegion:A,signingService:U}=mb({bucketName:c,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:m,fipsEndpoint:f,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",useArnRegion:S,clientPartition:g,clientSigningRegion:y,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});A&&A!==y&&(r.signing_region=A),U&&U!=="s3"&&(r.signing_service=U),s.hostname=b,o=I}else{let c=await e.region(),l=await e.useDualstackEndpoint(),m=await e.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=mb({bucketName:i,clientRegion:c,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:m,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});s.hostname=f,o=g}o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),s.path===""&&(s.path="/"))}return t({...n,request:s})},"bucketEndpointMiddleware"),dH={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},zbe=Ne(e=>({applyToStack:t=>{t.addRelativeTo(lH(e),dH)}}),"getBucketEndpointPlugin");function uH(e){let{bucketEndpoint:t=!1,forcePathStyle:r=!1,useAccelerateEndpoint:n=!1,useArnRegion:i=!1,disableMultiregionAccessPoints:o=!1}=e;return{...e,bucketEndpoint:t,forcePathStyle:r,useAccelerateEndpoint:n,useArnRegion:typeof i=="function"?i:()=>Promise.resolve(i),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)}}Ne(uH,"resolveBucketEndpointConfig")});var hH=h((a7e,gH)=>{u();var dh=Object.defineProperty,Vbe=Object.getOwnPropertyDescriptor,Kbe=Object.getOwnPropertyNames,Wbe=Object.prototype.hasOwnProperty,Xbe=(e,t)=>dh(e,"name",{value:t,configurable:!0}),Jbe=(e,t)=>{for(var r in t)dh(e,r,{get:t[r],enumerable:!0})},Ybe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kbe(t))!Wbe.call(e,i)&&i!==r&&dh(e,i,{get:()=>t[i],enumerable:!(n=Vbe(t,i))||n.enumerable});return e},Qbe=e=>Ybe(dh({},"__esModule",{value:!0}),e),pH={};Jbe(pH,{isArrayBuffer:()=>Zbe});gH.exports=Qbe(pH);var Zbe=Xbe(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var SH=h((l7e,yH)=>{u();var uh=Object.defineProperty,ewe=Object.getOwnPropertyDescriptor,twe=Object.getOwnPropertyNames,rwe=Object.prototype.hasOwnProperty,vH=(e,t)=>uh(e,"name",{value:t,configurable:!0}),nwe=(e,t)=>{for(var r in t)uh(e,r,{get:t[r],enumerable:!0})},iwe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of twe(t))!rwe.call(e,i)&&i!==r&&uh(e,i,{get:()=>t[i],enumerable:!(n=ewe(t,i))||n.enumerable});return e},owe=e=>iwe(uh({},"__esModule",{value:!0}),e),_H={};nwe(_H,{fromArrayBuffer:()=>awe,fromString:()=>cwe});yH.exports=owe(_H);var swe=hH(),pb=P("buffer"),awe=vH((e,t=0,r=e.byteLength-t)=>{if(!(0,swe.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return pb.Buffer.from(e,t,r)},"fromArrayBuffer"),cwe=vH((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?pb.Buffer.from(e,t):pb.Buffer.from(e)},"fromString")});var PH=h((u7e,wH)=>{u();var mh=Object.defineProperty,lwe=Object.getOwnPropertyDescriptor,dwe=Object.getOwnPropertyNames,uwe=Object.prototype.hasOwnProperty,gb=(e,t)=>mh(e,"name",{value:t,configurable:!0}),mwe=(e,t)=>{for(var r in t)mh(e,r,{get:t[r],enumerable:!0})},fwe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dwe(t))!uwe.call(e,i)&&i!==r&&mh(e,i,{get:()=>t[i],enumerable:!(n=lwe(t,i))||n.enumerable});return e},pwe=e=>fwe(mh({},"__esModule",{value:!0}),e),EH={};mwe(EH,{fromUtf8:()=>bH,toUint8Array:()=>gwe,toUtf8:()=>hwe});wH.exports=pwe(EH);var CH=SH(),bH=gb(e=>{let t=(0,CH.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),gwe=gb(e=>typeof e=="string"?bH(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),hwe=gb(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,CH.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var xH=h(fh=>{"use strict";u();Object.defineProperty(fh,"__esModule",{value:!0});fh.convertToBuffer=void 0;var vwe=PH(),_we=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:vwe.fromUtf8;function ywe(e){return e instanceof Uint8Array?e:typeof e=="string"?_we(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}fh.convertToBuffer=ywe});var OH=h(ph=>{"use strict";u();Object.defineProperty(ph,"__esModule",{value:!0});ph.isEmptyData=void 0;function Swe(e){return typeof e=="string"?e.length===0:e.byteLength===0}ph.isEmptyData=Swe});var AH=h(gh=>{"use strict";u();Object.defineProperty(gh,"__esModule",{value:!0});gh.numToUint8=void 0;function Ewe(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}gh.numToUint8=Ewe});var RH=h(hh=>{"use strict";u();Object.defineProperty(hh,"__esModule",{value:!0});hh.uint32ArrayFrom=void 0;function Cwe(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}hh.uint32ArrayFrom=Cwe});var nu=h(ti=>{"use strict";u();Object.defineProperty(ti,"__esModule",{value:!0});ti.uint32ArrayFrom=ti.numToUint8=ti.isEmptyData=ti.convertToBuffer=void 0;var bwe=xH();Object.defineProperty(ti,"convertToBuffer",{enumerable:!0,get:function(){return bwe.convertToBuffer}});var wwe=OH();Object.defineProperty(ti,"isEmptyData",{enumerable:!0,get:function(){return wwe.isEmptyData}});var Pwe=AH();Object.defineProperty(ti,"numToUint8",{enumerable:!0,get:function(){return Pwe.numToUint8}});var xwe=RH();Object.defineProperty(ti,"uint32ArrayFrom",{enumerable:!0,get:function(){return xwe.uint32ArrayFrom}})});var TH=h(vh=>{"use strict";u();Object.defineProperty(vh,"__esModule",{value:!0});vh.AwsCrc32=void 0;var kH=(Jn(),ve(Xn)),hb=nu(),IH=iu(),Owe=function(){function e(){this.crc32=new IH.Crc32}return e.prototype.update=function(t){(0,hb.isEmptyData)(t)||this.crc32.update((0,hb.convertToBuffer)(t))},e.prototype.digest=function(){return kH.__awaiter(this,void 0,void 0,function(){return kH.__generator(this,function(t){return[2,(0,hb.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new IH.Crc32},e}();vh.AwsCrc32=Owe});var iu=h(mo=>{"use strict";u();Object.defineProperty(mo,"__esModule",{value:!0});mo.AwsCrc32=mo.Crc32=mo.crc32=void 0;var Awe=(Jn(),ve(Xn)),Rwe=nu();function kwe(e){return new NH().update(e).digest()}mo.crc32=kwe;var NH=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var i=Awe.__values(t),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^Twe[(this.checksum^s)&255]}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();mo.Crc32=NH;var Iwe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Twe=(0,Rwe.uint32ArrayFrom)(Iwe),Nwe=TH();Object.defineProperty(mo,"AwsCrc32",{enumerable:!0,get:function(){return Nwe.AwsCrc32}})});var WH=h((N7e,KH)=>{u();var yh=Object.defineProperty,Bwe=Object.getOwnPropertyDescriptor,Dwe=Object.getOwnPropertyNames,Fwe=Object.prototype.hasOwnProperty,Pi=(e,t)=>yh(e,"name",{value:t,configurable:!0}),Lwe=(e,t)=>{for(var r in t)yh(e,r,{get:t[r],enumerable:!0})},jwe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Dwe(t))!Fwe.call(e,i)&&i!==r&&yh(e,i,{get:()=>t[i],enumerable:!(n=Bwe(t,i))||n.enumerable});return e},Mwe=e=>jwe(yh({},"__esModule",{value:!0}),e),DH={};Lwe(DH,{EventStreamCodec:()=>Qwe,HeaderMarshaller:()=>MH,Int64:()=>_h,MessageDecoderStream:()=>Zwe,MessageEncoderStream:()=>ePe,SmithyMessageDecoderStream:()=>tPe,SmithyMessageEncoderStream:()=>rPe});KH.exports=Mwe(DH);var qwe=iu(),ns=tm(),FH=class LH{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&vb(r),new LH(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&vb(t),parseInt((0,ns.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};Pi(FH,"Int64");var _h=FH;function vb(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Pi(vb,"negate");var jH=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let o of Object.keys(t)){let s=this.fromUtf8(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(t.value,3),s;case"string":let c=this.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let m=new Uint8Array(l.buffer);return m.set(c,3),m;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(_h.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!Xwe.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let g=new Uint8Array(17);return g[0]=9,g.set((0,ns.fromHex)(t.value.replace(/\-/g,"")),1),g}}parse(t){let r={},n=0;for(;n<t.byteLength;){let i=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[o]={type:BH,value:!0};break;case 1:r[o]={type:BH,value:!1};break;case 2:r[o]={type:Uwe,value:t.getInt8(n++)};break;case 3:r[o]={type:Hwe,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:Gwe,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:$we,value:new _h(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let s=t.getUint16(n,!1);n+=2,r[o]={type:zwe,value:new Uint8Array(t.buffer,t.byteOffset+n,s)},n+=s;break;case 7:let c=t.getUint16(n,!1);n+=2,r[o]={type:Vwe,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,c))},n+=c;break;case 8:r[o]={type:Kwe,value:new Date(new _h(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let l=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:Wwe,value:`${(0,ns.toHex)(l.subarray(0,4))}-${(0,ns.toHex)(l.subarray(4,6))}-${(0,ns.toHex)(l.subarray(6,8))}-${(0,ns.toHex)(l.subarray(8,10))}-${(0,ns.toHex)(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};Pi(jH,"HeaderMarshaller");var MH=jH,BH="boolean",Uwe="byte",Hwe="short",Gwe="integer",$we="long",zwe="binary",Vwe="string",Kwe="timestamp",Wwe="uuid",Xwe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Jwe=iu(),qH=4,fo=qH*2,is=4,Ywe=fo+is*2;function UH({byteLength:e,byteOffset:t,buffer:r}){if(e<Ywe)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");let o=n.getUint32(qH,!1),s=n.getUint32(fo,!1),c=n.getUint32(e-is,!1),l=new Jwe.Crc32().update(new Uint8Array(r,t,fo));if(s!==l.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(r,t+fo,e-(fo+is))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(r,t+fo+is,o),body:new Uint8Array(r,t+fo+is+o,i-o-(fo+is+is))}}Pi(UH,"splitMessage");var HH=class{constructor(t,r){this.headerMarshaller=new MH(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new qwe.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),s.setUint32(i-4,c.update(o.subarray(8,i-4)).digest(),!1),o}decode(t){let{headers:r,body:n}=UH(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};Pi(HH,"EventStreamCodec");var Qwe=HH,GH=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};Pi(GH,"MessageDecoderStream");var Zwe=GH,$H=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};Pi($H,"MessageEncoderStream");var ePe=$H,zH=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};Pi(zH,"SmithyMessageDecoderStream");var tPe=zH,VH=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};Pi(VH,"SmithyMessageEncoderStream");var rPe=VH});var tG=h((F7e,eG)=>{u();var Sh=Object.defineProperty,nPe=Object.getOwnPropertyDescriptor,iPe=Object.getOwnPropertyNames,oPe=Object.prototype.hasOwnProperty,lc=(e,t)=>Sh(e,"name",{value:t,configurable:!0}),sPe=(e,t)=>{for(var r in t)Sh(e,r,{get:t[r],enumerable:!0})},aPe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iPe(t))!oPe.call(e,i)&&i!==r&&Sh(e,i,{get:()=>t[i],enumerable:!(n=nPe(t,i))||n.enumerable});return e},cPe=e=>aPe(Sh({},"__esModule",{value:!0}),e),XH={};sPe(XH,{EventStreamMarshaller:()=>ZH,eventStreamSerdeProvider:()=>lPe});eG.exports=cPe(XH);var ou=WH();function JH(e){let t=0,r=0,n=null,i=null,o=lc(c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);t=c,r=4,n=new Uint8Array(c),new DataView(n.buffer).setUint32(0,c,!1)},"allocateMessage"),s=lc(async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:m}=await c.next();if(m){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let f=l.length,g=0;for(;g<f;){if(!n){let S=f-g;i||(i=new Uint8Array(4));let b=Math.min(4-r,S);if(i.set(l.slice(g,g+b),r),r+=b,g+=b,r<4)break;o(new DataView(i.buffer).getUint32(0,!1)),i=null}let y=Math.min(t-r,f-g);n.set(l.slice(g,g+y),r),r+=y,g+=y,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:s}}lc(JH,"getChunkedStream");function YH(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){let i=r.headers[":exception-type"].value,o={[i]:r},s=await e(o);if(s.$unknown){let c=new Error(t(r.body));throw c.name=i,c}throw s[i]}else if(n==="event"){let i={[r.headers[":event-type"].value]:r},o=await e(i);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}lc(YH,"getMessageUnmarshaller");var QH=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new ou.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=JH(t);return new ou.SmithyMessageDecoderStream({messageStream:new ou.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:YH(r,this.utfEncoder)})}serialize(t,r){return new ou.MessageEncoderStream({messageStream:new ou.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};lc(QH,"EventStreamMarshaller");var ZH=QH,lPe=lc(e=>new ZH(e),"eventStreamSerdeProvider")});var aG=h((M7e,sG)=>{u();var Eh=Object.defineProperty,dPe=Object.getOwnPropertyDescriptor,uPe=Object.getOwnPropertyNames,mPe=Object.prototype.hasOwnProperty,_b=(e,t)=>Eh(e,"name",{value:t,configurable:!0}),fPe=(e,t)=>{for(var r in t)Eh(e,r,{get:t[r],enumerable:!0})},pPe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uPe(t))!mPe.call(e,i)&&i!==r&&Eh(e,i,{get:()=>t[i],enumerable:!(n=dPe(t,i))||n.enumerable});return e},gPe=e=>pPe(Eh({},"__esModule",{value:!0}),e),rG={};fPe(rG,{EventStreamMarshaller:()=>oG,eventStreamSerdeProvider:()=>_Pe});sG.exports=gPe(rG);var hPe=tG(),vPe=P("stream");async function*nG(e){let t=!1,r=!1,n=new Array;for(e.on("error",i=>{if(t||(t=!0),i)throw i}),e.on("data",i=>{n.push(i)}),e.on("end",()=>{t=!0});!r;){let i=await new Promise(o=>setTimeout(()=>o(n.shift()),0));i&&(yield i),r=t&&n.length===0}}_b(nG,"readabletoIterable");var iG=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new hPe.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:nG(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return vPe.Readable.from(this.universalMarshaller.serialize(t,r))}};_b(iG,"EventStreamMarshaller");var oG=iG,_Pe=_b(e=>new oG(e),"eventStreamSerdeProvider")});var mG=h((H7e,uG)=>{u();var Ch=Object.defineProperty,yPe=Object.getOwnPropertyDescriptor,SPe=Object.getOwnPropertyNames,EPe=Object.prototype.hasOwnProperty,bh=(e,t)=>Ch(e,"name",{value:t,configurable:!0}),CPe=(e,t)=>{for(var r in t)Ch(e,r,{get:t[r],enumerable:!0})},bPe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of SPe(t))!EPe.call(e,i)&&i!==r&&Ch(e,i,{get:()=>t[i],enumerable:!(n=yPe(t,i))||n.enumerable});return e},wPe=e=>bPe(Ch({},"__esModule",{value:!0}),e),cG={};CPe(cG,{fileStreamHasher:()=>APe,readableStreamHasher:()=>kPe});uG.exports=wPe(cG);var PPe=P("fs"),xPe=sr(),OPe=P("stream"),lG=class extends OPe.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update((0,xPe.toUint8Array)(t))}catch(i){return n(i)}n()}};bh(lG,"HashCalculator");var dG=lG,APe=bh((e,t)=>new Promise((r,n)=>{if(!RPe(t)){n(new Error("Unable to calculate hash for non-file streams."));return}let i=(0,PPe.createReadStream)(t.path,{start:t.start,end:t.end}),o=new e,s=new dG(o);i.pipe(s),i.on("error",c=>{s.end(),n(c)}),s.on("error",n),s.on("finish",function(){o.digest().then(r).catch(n)})}),"fileStreamHasher"),RPe=bh(e=>typeof e.path=="string","isReadStream"),kPe=bh((e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new dG(r);return t.pipe(n),new Promise((i,o)=>{t.on("error",s=>{n.end(),o(s)}),n.on("error",o),n.on("finish",()=>{r.digest().then(i).catch(o)})})},"readableStreamHasher")});var dc=h(wh=>{"use strict";u();Object.defineProperty(wh,"__esModule",{value:!0});wh.getHomeDir=void 0;var IPe=P("os"),TPe=P("path"),yb={},NPe=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",BPe=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${TPe.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=NPe();return yb[i]||(yb[i]=(0,IPe.homedir)()),yb[i]};wh.getHomeDir=BPe});var Sb=h(Ph=>{"use strict";u();Object.defineProperty(Ph,"__esModule",{value:!0});Ph.getSSOTokenFilepath=void 0;var DPe=P("crypto"),FPe=P("path"),LPe=dc(),jPe=e=>{let r=(0,DPe.createHash)("sha1").update(e).digest("hex");return(0,FPe.join)((0,LPe.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ph.getSSOTokenFilepath=jPe});var fG=h(xh=>{"use strict";u();Object.defineProperty(xh,"__esModule",{value:!0});xh.getSSOTokenFromFile=void 0;var MPe=P("fs"),qPe=Sb(),{readFile:UPe}=MPe.promises,HPe=async e=>{let t=(0,qPe.getSSOTokenFilepath)(e),r=await UPe(t,"utf8");return JSON.parse(r)};xh.getSSOTokenFromFile=HPe});var Cb=h(Oh=>{"use strict";u();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.slurpFile=void 0;var GPe=P("fs"),{readFile:$Pe}=GPe.promises,Eb={},zPe=(e,t)=>((!Eb[e]||t?.ignoreCache)&&(Eb[e]=$Pe(e,"utf8")),Eb[e]);Oh.slurpFile=zPe});var SG=h((Q7e,au)=>{u();var kh=Object.defineProperty,VPe=Object.getOwnPropertyDescriptor,KPe=Object.getOwnPropertyNames,WPe=Object.prototype.hasOwnProperty,mn=(e,t)=>kh(e,"name",{value:t,configurable:!0}),XPe=(e,t)=>{for(var r in t)kh(e,r,{get:t[r],enumerable:!0})},bb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of KPe(t))!WPe.call(e,i)&&i!==r&&kh(e,i,{get:()=>t[i],enumerable:!(n=VPe(t,i))||n.enumerable});return e},Pb=(e,t,r)=>(bb(e,t,"default"),r&&bb(r,t,"default")),JPe=e=>bb(kh({},"__esModule",{value:!0}),e),su={};XPe(su,{CONFIG_PREFIX_SEPARATOR:()=>os,DEFAULT_PROFILE:()=>vG,ENV_PROFILE:()=>hG,getProfileName:()=>YPe,loadSharedConfigFiles:()=>yG,loadSsoSessionData:()=>dxe,parseKnownFiles:()=>mxe});au.exports=JPe(su);Pb(su,dc(),au.exports);var hG="AWS_PROFILE",vG="default",YPe=mn(e=>e.profile||process.env[hG]||vG,"getProfileName");Pb(su,Sb(),au.exports);Pb(su,fG(),au.exports);var Ah=ut(),QPe=mn(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(os);return r===-1?!1:Object.values(Ah.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(os),o=r.substring(0,i)===Ah.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Rh=P("path"),ZPe=dc(),exe="AWS_CONFIG_FILE",_G=mn(()=>process.env[exe]||(0,Rh.join)((0,ZPe.getHomeDir)(),".aws","config"),"getConfigFilepath"),txe=dc(),rxe="AWS_SHARED_CREDENTIALS_FILE",nxe=mn(()=>process.env[rxe]||(0,Rh.join)((0,txe.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),ixe=dc(),oxe=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,sxe=["__proto__","profile __proto__"],wb=mn(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),l=oxe.exec(c);if(l){let[,m,,f]=l;Object.values(Ah.IniSectionType).includes(m)&&(r=[m,f].join(os))}else r=c;if(sxe.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,m]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(m==="")n=l;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let f=n?[n,l].join(os):l;t[r][f]=m}}}}return t},"parseIni"),pG=Cb(),gG=mn(()=>({}),"swallowError"),os=".",yG=mn(async(e={})=>{let{filepath:t=nxe(),configFilepath:r=_G()}=e,n=(0,ixe.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,Rh.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,Rh.join)(n,r.slice(2)));let c=await Promise.all([(0,pG.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(wb).then(QPe).catch(gG),(0,pG.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(wb).catch(gG)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),axe=mn(e=>Object.entries(e).filter(([t])=>t.startsWith(Ah.IniSectionType.SSO_SESSION+os)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(os)+1)]:n}),{}),"getSsoSessionData"),cxe=Cb(),lxe=mn(()=>({}),"swallowError"),dxe=mn(async(e={})=>(0,cxe.slurpFile)(e.configFilepath??_G()).then(wb).then(axe).catch(lxe),"loadSsoSessionData"),uxe=mn((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),mxe=mn(async e=>{let t=await yG(e);return uxe(t.configFile,t.credentialsFile)},"parseKnownFiles")});var wG=h((eJe,bG)=>{u();var Ih=Object.defineProperty,fxe=Object.getOwnPropertyDescriptor,pxe=Object.getOwnPropertyNames,gxe=Object.prototype.hasOwnProperty,uc=(e,t)=>Ih(e,"name",{value:t,configurable:!0}),hxe=(e,t)=>{for(var r in t)Ih(e,r,{get:t[r],enumerable:!0})},vxe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pxe(t))!gxe.call(e,i)&&i!==r&&Ih(e,i,{get:()=>t[i],enumerable:!(n=fxe(t,i))||n.enumerable});return e},_xe=e=>vxe(Ih({},"__esModule",{value:!0}),e),CG={};hxe(CG,{loadConfig:()=>bxe});bG.exports=_xe(CG);var cu=ft();function xb(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}uc(xb,"getSelectorName");var yxe=uc((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new cu.CredentialsProviderError(r.message||`Not found in ENV: ${xb(e.toString())}`,{logger:t})}},"fromEnv"),EG=SG(),Sxe=uc((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,EG.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,EG.loadSharedConfigFiles)(r),s=o[n]||{},c=i[n]||{},l=t==="config"?{...s,...c}:{...c,...s};try{let f=e(l,t==="config"?i:o);if(f===void 0)throw new Error;return f}catch(m){throw new cu.CredentialsProviderError(m.message||`Not found in config files w/ profile [${n}]: ${xb(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Exe=uc(e=>typeof e=="function","isFunction"),Cxe=uc(e=>Exe(e)?async()=>await e():(0,cu.fromStatic)(e),"fromStatic"),bxe=uc(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,cu.memoize)((0,cu.chain)(yxe(e),Sxe(t,n),Cxe(r))),"loadConfig")});var RG=h(Th=>{"use strict";u();Object.defineProperty(Th,"__esModule",{value:!0});Th.getRuntimeConfig=void 0;var PG=(Xt(),ve(Wt)),wxe=ky(),Pxe=We(),xxe=Fo(),xG=Li(),OG=Nl(),AG=sr(),Oxe=dS(),Axe=cS(),Rxe=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??xG.fromBase64,base64Encoder:e?.base64Encoder??xG.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Axe.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??OG.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Oxe.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new PG.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new PG.AwsSdkSigV4ASigner}],logger:e?.logger??new Pxe.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??OG.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??wxe.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??xxe.parseUrl,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??AG.fromUtf8,utf8Encoder:e?.utf8Encoder??AG.toUtf8});Th.getRuntimeConfig=Rxe});var NG=h(Bh=>{"use strict";u();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.getRuntimeConfig=void 0;var kxe=(Jn(),ve(Xn)),Ixe=kxe.__importDefault(cF()),kG=(Xt(),ve(Wt)),Txe=ng(),Nxe=fH(),Bxe=ee(),Dxe=gd(),Nh=zn(),Fxe=aG(),Ob=hd(),Lxe=mG(),IG=$n(),po=wG(),TG=Io(),jxe=Sd(),Mxe=da(),qxe=RG(),Uxe=We(),Hxe=xd(),Gxe=We(),$xe=e=>{(0,Gxe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Hxe.resolveDefaultsModeConfig)(e),r=()=>t().then(Uxe.loadConfigsForDefaultMode),n=(0,qxe.getRuntimeConfig)(e);return(0,kG.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??jxe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Txe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Dxe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Ixe.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,po.loadConfig)(Bxe.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??Fxe.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,po.loadConfig)(IG.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),md5:e?.md5??Ob.Hash.bind(null,"md5"),region:e?.region??(0,po.loadConfig)(Nh.NODE_REGION_CONFIG_OPTIONS,Nh.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:TG.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,po.loadConfig)({...IG.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Mxe.DEFAULT_RETRY_MODE}),sha1:e?.sha1??Ob.Hash.bind(null,"sha1"),sha256:e?.sha256??Ob.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,po.loadConfig)(kG.NODE_SIGV4A_CONFIG_OPTIONS),streamCollector:e?.streamCollector??TG.streamCollector,streamHasher:e?.streamHasher??Lxe.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,po.loadConfig)(Nxe.NODE_USE_ARN_REGION_CONFIG_OPTIONS),useDualstackEndpoint:e?.useDualstackEndpoint??(0,po.loadConfig)(Nh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,po.loadConfig)(Nh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Bh.getRuntimeConfig=$xe});var LG=h((sJe,FG)=>{"use strict";u();var Dh=Object.defineProperty,zxe=Object.getOwnPropertyDescriptor,Vxe=Object.getOwnPropertyNames,Kxe=Object.prototype.hasOwnProperty,Ab=(e,t)=>Dh(e,"name",{value:t,configurable:!0}),Wxe=(e,t)=>{for(var r in t)Dh(e,r,{get:t[r],enumerable:!0})},Xxe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vxe(t))!Kxe.call(e,i)&&i!==r&&Dh(e,i,{get:()=>t[i],enumerable:!(n=zxe(t,i))||n.enumerable});return e},Jxe=e=>Xxe(Dh({},"__esModule",{value:!0}),e),BG={};Wxe(BG,{getSsecPlugin:()=>Yxe,isValidBase64EncodedSSECustomerKey:()=>kb,ssecMiddleware:()=>Rb,ssecMiddlewareOptions:()=>DG});FG.exports=Jxe(BG);function Rb(e){return t=>async r=>{let n={...r.input},i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of i){let s=n[o.target];if(s){let c;typeof s=="string"?kb(s,e)?c=e.base64Decoder(s):(c=e.utf8Decoder(s),n[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s),n[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),n[o.hash]=e.base64Encoder(await l.digest())}}return t({...r,input:n})}}Ab(Rb,"ssecMiddleware");var DG={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Yxe=Ab(e=>({applyToStack:t=>{t.add(Rb(e),DG)}}),"getSsecPlugin");function kb(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}Ab(kb,"isValidBase64EncodedSSECustomerKey")});var HG=h((cJe,UG)=>{"use strict";u();var Fh=Object.defineProperty,Qxe=Object.getOwnPropertyDescriptor,Zxe=Object.getOwnPropertyNames,eOe=Object.prototype.hasOwnProperty,jG=(e,t)=>Fh(e,"name",{value:t,configurable:!0}),tOe=(e,t)=>{for(var r in t)Fh(e,r,{get:t[r],enumerable:!0})},rOe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zxe(t))!eOe.call(e,i)&&i!==r&&Fh(e,i,{get:()=>t[i],enumerable:!(n=Qxe(t,i))||n.enumerable});return e},nOe=e=>rOe(Fh({},"__esModule",{value:!0}),e),MG={};tOe(MG,{getLocationConstraintPlugin:()=>iOe,locationConstraintMiddleware:()=>Ib,locationConstraintMiddlewareOptions:()=>qG});UG.exports=nOe(MG);function Ib(e){return t=>async r=>{let{CreateBucketConfiguration:n}=r.input,i=await e.region();return!n?.LocationConstraint&&!n?.Location&&(r={...r,input:{...r.input,CreateBucketConfiguration:i==="us-east-1"?void 0:{LocationConstraint:i}}}),t(r)}}jG(Ib,"locationConstraintMiddleware");var qG={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},iOe=jG(e=>({applyToStack:t=>{t.add(Ib(e),qG)}}),"getLocationConstraintPlugin")});var zG=h(Lh=>{"use strict";u();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.AwsCrc32c=void 0;var GG=(Jn(),ve(Xn)),Tb=nu(),$G=Nb(),oOe=function(){function e(){this.crc32c=new $G.Crc32c}return e.prototype.update=function(t){(0,Tb.isEmptyData)(t)||this.crc32c.update((0,Tb.convertToBuffer)(t))},e.prototype.digest=function(){return GG.__awaiter(this,void 0,void 0,function(){return GG.__generator(this,function(t){return[2,(0,Tb.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new $G.Crc32c},e}();Lh.AwsCrc32c=oOe});var Nb=h(go=>{"use strict";u();Object.defineProperty(go,"__esModule",{value:!0});go.AwsCrc32c=go.Crc32c=go.crc32c=void 0;var sOe=(Jn(),ve(Xn)),aOe=nu();function cOe(e){return new VG().update(e).digest()}go.crc32c=cOe;var VG=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var i=sOe.__values(t),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^dOe[(this.checksum^s)&255]}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();go.Crc32c=VG;var lOe=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],dOe=(0,aOe.uint32ArrayFrom)(lOe),uOe=zG();Object.defineProperty(go,"AwsCrc32c",{enumerable:!0,get:function(){return uOe.AwsCrc32c}})});var KG=h(jh=>{"use strict";u();Object.defineProperty(jh,"__esModule",{value:!0});jh.createReadStreamOnBuffer=void 0;var mOe=P("stream");function fOe(e){let t=new mOe.Transform;return t.push(e),t.push(null),t}jh.createReadStreamOnBuffer=fOe});var a$=h((hJe,s$)=>{"use strict";u();var Mh=Object.defineProperty,pOe=Object.getOwnPropertyDescriptor,gOe=Object.getOwnPropertyNames,hOe=Object.prototype.hasOwnProperty,Br=(e,t)=>Mh(e,"name",{value:t,configurable:!0}),vOe=(e,t)=>{for(var r in t)Mh(e,r,{get:t[r],enumerable:!0})},_Oe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gOe(t))!hOe.call(e,i)&&i!==r&&Mh(e,i,{get:()=>t[i],enumerable:!(n=pOe(t,i))||n.enumerable});return e},yOe=e=>_Oe(Mh({},"__esModule",{value:!0}),e),XG={};vOe(XG,{ChecksumAlgorithm:()=>JG,ChecksumLocation:()=>YG,DEFAULT_CHECKSUM_ALGORITHM:()=>QG,S3_EXPRESS_DEFAULT_CHECKSUM_ALGORITHM:()=>ZG,flexibleChecksumsMiddleware:()=>i$,flexibleChecksumsMiddlewareOptions:()=>n$,getFlexibleChecksumsPlugin:()=>TOe});s$.exports=yOe(XG);var JG=(e=>(e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256",e))(JG||{}),YG=(e=>(e.HEADER="header",e.TRAILER="trailer",e))(YG||{}),QG="MD5",ZG="CRC32",e$=Ke(),Bb=["CRC32","CRC32C","SHA1","SHA256"],SOe=["CRC32","CRC32C","SHA1","SHA256"],EOe=Br((e,{requestChecksumRequired:t,requestAlgorithmMember:r},n)=>{let i=n?ZG:QG;if(!r||!e[r])return t?i:void 0;let o=e[r];if(!Bb.includes(o))throw new Error(`The checksum algorithm "${o}" is not supported by the client. Select one of ${Bb}.`);return o},"getChecksumAlgorithmForRequest"),Db=Br(e=>e==="MD5"?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,"getChecksumLocationName"),COe=Br((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},"hasHeader"),bOe=Gu(),Fb=Br(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(0,bOe.isArrayBuffer)(e),"isStreaming"),wOe=iu(),POe=Nb(),t$=Br((e,t)=>({MD5:t.md5,CRC32:wOe.AwsCrc32,CRC32C:POe.AwsCrc32c,SHA1:t.sha1,SHA256:t.sha256})[e],"selectChecksumAlgorithmFunction"),xOe=sr(),r$=Br((e,t)=>{let r=new e;return r.update((0,xOe.toUint8Array)(t||"")),r.digest()},"stringHasher"),n$={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},i$=Br((e,t)=>(r,n)=>async i=>{if(!e$.HttpRequest.isInstance(i.request))return r(i);let{request:o}=i,{body:s,headers:c}=o,{base64Encoder:l,streamHasher:m}=e,{input:f,requestChecksumRequired:g,requestAlgorithmMember:y}=t,S=EOe(f,{requestChecksumRequired:g,requestAlgorithmMember:y},!!n.isS3ExpressBucket),b=s,I=c;if(S){let U=Db(S),Q=t$(S,e);if(Fb(s)){let{getAwsChunkedEncodingStream:Ee,bodyLengthChecker:Ae}=e;b=Ee(s,{base64Encoder:l,bodyLengthChecker:Ae,checksumLocationName:U,checksumAlgorithmFn:Q,streamHasher:m}),I={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":U},delete I["content-length"]}else if(!COe(U,c)){let Ee=await r$(Q,s);I={...c,[U]:l(Ee)}}}return await r({...i,request:{...o,headers:I,body:b}})},"flexibleChecksumsMiddleware"),o$=Br((e=[])=>{let t=[];for(let r of SOe)!e.includes(r)||!Bb.includes(r)||t.push(r);return t},"getChecksumAlgorithmListForResponse"),OOe=Br(e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},"isChecksumWithPartNumber"),WG=KG(),AOe=Br(async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let i=Fb(e)?t(r,e):r$(r,e);return n(await i)},"getChecksum"),ROe=Br(async(e,{config:t,responseAlgorithms:r})=>{let n=o$(r),{body:i,headers:o}=e;for(let s of n){let c=Db(s),l=o[c];if(l){let m=t$(s,t),{streamHasher:f,base64Encoder:g}=t,y=await AOe(i,{streamHasher:f,checksumAlgorithmFn:m,base64Encoder:g});if(y===l)break;throw new Error(`Checksum mismatch: expected "${y}" but received "${l}" in response header "${c}".`)}}},"validateChecksumFromResponse"),kOe={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},IOe=Br((e,t)=>(r,n)=>async i=>{if(!e$.HttpRequest.isInstance(i.request))return r(i);let o=i.input,s=await r(i),c=s.response,l,{requestValidationModeMember:m,responseAlgorithms:f}=t;if(m&&o[m]==="ENABLED"){let{clientName:g,commandName:y}=n;if(g==="S3Client"&&y==="GetObjectCommand"&&o$(f).every(I=>{let A=Db(I),U=c.headers[A];return!U||OOe(U)}))return s;let b=Fb(c.body);b&&(l=await e.streamCollector(c.body),c.body=(0,WG.createReadStreamOnBuffer)(l)),await ROe(s.response,{config:e,responseAlgorithms:f}),b&&l&&(c.body=(0,WG.createReadStreamOnBuffer)(l))}return s},"flexibleChecksumsResponseMiddleware"),TOe=Br((e,t)=>({applyToStack:r=>{r.add(i$(e,t),n$),r.addRelativeTo(IOe(e,t),kOe)}}),"getFlexibleChecksumsPlugin")});var f$=h((_Je,m$)=>{u();var qh=Object.defineProperty,NOe=Object.getOwnPropertyDescriptor,BOe=Object.getOwnPropertyNames,DOe=Object.prototype.hasOwnProperty,xi=(e,t)=>qh(e,"name",{value:t,configurable:!0}),FOe=(e,t)=>{for(var r in t)qh(e,r,{get:t[r],enumerable:!0})},LOe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of BOe(t))!DOe.call(e,i)&&i!==r&&qh(e,i,{get:()=>t[i],enumerable:!(n=NOe(t,i))||n.enumerable});return e},jOe=e=>LOe(qh({},"__esModule",{value:!0}),e),l$={};FOe(l$,{WaiterState:()=>u$,checkExceptions:()=>qOe,createWaiter:()=>zOe,waiterServiceDefaults:()=>d$});m$.exports=jOe(l$);var MOe=xi(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),d$={minDelay:2,maxDelay:120},u$=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(u$||{}),qOe=xi(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),UOe=xi((e,t,r,n)=>{if(n>r)return t;let i=e*2**(n-1);return HOe(e,i)},"exponentialBackoffWithJitter"),HOe=xi((e,t)=>e+Math.random()*(t-e),"randomInRange"),GOe=xi(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:i,abortSignal:o},s,c)=>{var l;let{state:m,reason:f}=await c(i,s);if(m!=="RETRY")return{state:m,reason:f};let g=1,y=Date.now()+r*1e3,S=Math.log(t/e)/Math.log(2)+1;for(;;){if((l=n?.signal)!=null&&l.aborted||o?.aborted)return{state:"ABORTED"};let b=UOe(e,t,S,g);if(Date.now()+b*1e3>y)return{state:"TIMEOUT"};await MOe(b);let{state:I,reason:A}=await c(i,s);if(I!=="RETRY")return{state:I,reason:A};g+=1}},"runPolling"),$Oe=xi(e=>{if(e.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),c$=xi(async e=>new Promise(t=>{let r=xi(()=>t({state:"ABORTED"}),"onAbort");typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r}),"abortTimeout"),zOe=xi(async(e,t,r)=>{let n={...d$,...e};$Oe(n);let i=[GOe(n,t,r)];return e.abortController&&i.push(c$(e.abortController.signal)),e.abortSignal&&i.push(c$(e.abortSignal)),Promise.race(i)},"createWaiter")});var pK=h((lQe,fK)=>{"use strict";u();var Mv=Object.defineProperty,VOe=Object.getOwnPropertyDescriptor,KOe=Object.getOwnPropertyNames,WOe=Object.prototype.hasOwnProperty,d=(e,t)=>Mv(e,"name",{value:t,configurable:!0}),XOe=(e,t)=>{for(var r in t)Mv(e,r,{get:t[r],enumerable:!0})},JOe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of KOe(t))!WOe.call(e,i)&&i!==r&&Mv(e,i,{get:()=>t[i],enumerable:!(n=VOe(t,i))||n.enumerable});return e},YOe=e=>JOe(Mv({},"__esModule",{value:!0}),e),U$={};XOe(U$,{AbortMultipartUploadCommand:()=>H6,AnalyticsFilter:()=>bv,AnalyticsS3ExportFileFormat:()=>OAe,ArchiveStatus:()=>nRe,BucketAccelerateStatus:()=>cAe,BucketAlreadyExists:()=>Q$,BucketAlreadyOwnedByYou:()=>t5,BucketCannedACL:()=>SAe,BucketLocationConstraint:()=>wAe,BucketLogsPermission:()=>LAe,BucketType:()=>CAe,BucketVersioningStatus:()=>JAe,ChecksumAlgorithm:()=>pAe,ChecksumMode:()=>ZAe,CompleteMultipartUploadCommand:()=>$6,CompleteMultipartUploadOutputFilterSensitiveLog:()=>p5,CompleteMultipartUploadRequestFilterSensitiveLog:()=>g5,CompressionType:()=>uRe,CopyObjectCommand:()=>V6,CopyObjectOutputFilterSensitiveLog:()=>h5,CopyObjectRequestFilterSensitiveLog:()=>v5,CreateBucketCommand:()=>W6,CreateMultipartUploadCommand:()=>J6,CreateMultipartUploadOutputFilterSensitiveLog:()=>_5,CreateMultipartUploadRequestFilterSensitiveLog:()=>y5,CreateSessionCommand:()=>CP,CreateSessionOutputFilterSensitiveLog:()=>E5,DataRedundancy:()=>EAe,DeleteBucketAnalyticsConfigurationCommand:()=>Q6,DeleteBucketCommand:()=>e4,DeleteBucketCorsCommand:()=>r4,DeleteBucketEncryptionCommand:()=>i4,DeleteBucketIntelligentTieringConfigurationCommand:()=>s4,DeleteBucketInventoryConfigurationCommand:()=>c4,DeleteBucketLifecycleCommand:()=>d4,DeleteBucketMetricsConfigurationCommand:()=>m4,DeleteBucketOwnershipControlsCommand:()=>p4,DeleteBucketPolicyCommand:()=>h4,DeleteBucketReplicationCommand:()=>_4,DeleteBucketTaggingCommand:()=>S4,DeleteBucketWebsiteCommand:()=>C4,DeleteMarkerReplicationStatus:()=>UAe,DeleteObjectCommand:()=>w4,DeleteObjectTaggingCommand:()=>A4,DeleteObjectsCommand:()=>x4,DeletePublicAccessBlockCommand:()=>k4,EncodingType:()=>iRe,EncryptionFilterSensitiveLog:()=>z5,Event:()=>MAe,ExistingObjectReplicationStatus:()=>$Ae,ExpirationStatus:()=>FAe,ExpressionType:()=>dRe,FileHeaderInfo:()=>mRe,FilterRuleName:()=>qAe,GetBucketAccelerateConfigurationCommand:()=>T4,GetBucketAclCommand:()=>B4,GetBucketAnalyticsConfigurationCommand:()=>F4,GetBucketCorsCommand:()=>j4,GetBucketEncryptionCommand:()=>q4,GetBucketEncryptionOutputFilterSensitiveLog:()=>w5,GetBucketIntelligentTieringConfigurationCommand:()=>H4,GetBucketInventoryConfigurationCommand:()=>$4,GetBucketInventoryConfigurationOutputFilterSensitiveLog:()=>R5,GetBucketLifecycleConfigurationCommand:()=>V4,GetBucketLocationCommand:()=>W4,GetBucketLoggingCommand:()=>J4,GetBucketMetricsConfigurationCommand:()=>Q4,GetBucketNotificationConfigurationCommand:()=>e8,GetBucketOwnershipControlsCommand:()=>r8,GetBucketPolicyCommand:()=>i8,GetBucketPolicyStatusCommand:()=>s8,GetBucketReplicationCommand:()=>c8,GetBucketRequestPaymentCommand:()=>d8,GetBucketTaggingCommand:()=>m8,GetBucketVersioningCommand:()=>p8,GetBucketWebsiteCommand:()=>h8,GetObjectAclCommand:()=>_8,GetObjectAttributesCommand:()=>S8,GetObjectAttributesRequestFilterSensitiveLog:()=>T5,GetObjectCommand:()=>C8,GetObjectLegalHoldCommand:()=>w8,GetObjectLockConfigurationCommand:()=>x8,GetObjectOutputFilterSensitiveLog:()=>k5,GetObjectRequestFilterSensitiveLog:()=>I5,GetObjectRetentionCommand:()=>A8,GetObjectTaggingCommand:()=>k8,GetObjectTorrentCommand:()=>T8,GetObjectTorrentOutputFilterSensitiveLog:()=>N5,GetPublicAccessBlockCommand:()=>B8,HeadBucketCommand:()=>t_,HeadObjectCommand:()=>r_,HeadObjectOutputFilterSensitiveLog:()=>B5,HeadObjectRequestFilterSensitiveLog:()=>D5,IntelligentTieringAccessTier:()=>kAe,IntelligentTieringStatus:()=>RAe,InvalidObjectState:()=>a5,InventoryConfigurationFilterSensitiveLog:()=>qv,InventoryDestinationFilterSensitiveLog:()=>A5,InventoryEncryptionFilterSensitiveLog:()=>x5,InventoryFormat:()=>IAe,InventoryFrequency:()=>BAe,InventoryIncludedObjectVersions:()=>TAe,InventoryOptionalField:()=>NAe,InventoryS3BucketDestinationFilterSensitiveLog:()=>O5,JSONType:()=>fRe,LifecycleRuleFilter:()=>wv,ListBucketAnalyticsConfigurationsCommand:()=>j8,ListBucketIntelligentTieringConfigurationsCommand:()=>q8,ListBucketInventoryConfigurationsCommand:()=>H8,ListBucketInventoryConfigurationsOutputFilterSensitiveLog:()=>F5,ListBucketMetricsConfigurationsCommand:()=>$8,ListBucketsCommand:()=>bP,ListDirectoryBucketsCommand:()=>wP,ListMultipartUploadsCommand:()=>W8,ListObjectVersionsCommand:()=>Z8,ListObjectsCommand:()=>J8,ListObjectsV2Command:()=>PP,ListPartsCommand:()=>xP,ListPartsRequestFilterSensitiveLog:()=>L5,LocationType:()=>bAe,MFADelete:()=>cRe,MFADeleteStatus:()=>XAe,MetadataDirective:()=>gAe,MetricsFilter:()=>Pv,MetricsStatus:()=>HAe,NoSuchBucket:()=>i5,NoSuchKey:()=>d5,NoSuchUpload:()=>V$,NotFound:()=>f5,ObjectAlreadyInActiveTierError:()=>H5,ObjectAttributes:()=>eRe,ObjectCannedACL:()=>fAe,ObjectLockEnabled:()=>tRe,ObjectLockLegalHoldStatus:()=>hAe,ObjectLockMode:()=>vAe,ObjectLockRetentionMode:()=>rRe,ObjectNotInActiveTierError:()=>X$,ObjectOwnership:()=>PAe,ObjectStorageClass:()=>oRe,ObjectVersionStorageClass:()=>aRe,OptionalObjectAttributes:()=>sRe,OutputLocationFilterSensitiveLog:()=>K5,OwnerOverride:()=>uAe,PartitionDateSource:()=>jAe,Payer:()=>WAe,Permission:()=>dAe,Protocol:()=>YAe,PutBucketAccelerateConfigurationCommand:()=>rV,PutBucketAclCommand:()=>iV,PutBucketAnalyticsConfigurationCommand:()=>sV,PutBucketCorsCommand:()=>cV,PutBucketEncryptionCommand:()=>dV,PutBucketEncryptionRequestFilterSensitiveLog:()=>j5,PutBucketIntelligentTieringConfigurationCommand:()=>mV,PutBucketInventoryConfigurationCommand:()=>pV,PutBucketInventoryConfigurationRequestFilterSensitiveLog:()=>M5,PutBucketLifecycleConfigurationCommand:()=>hV,PutBucketLoggingCommand:()=>_V,PutBucketMetricsConfigurationCommand:()=>SV,PutBucketNotificationConfigurationCommand:()=>CV,PutBucketOwnershipControlsCommand:()=>wV,PutBucketPolicyCommand:()=>xV,PutBucketReplicationCommand:()=>AV,PutBucketRequestPaymentCommand:()=>kV,PutBucketTaggingCommand:()=>TV,PutBucketVersioningCommand:()=>BV,PutBucketWebsiteCommand:()=>FV,PutObjectAclCommand:()=>jV,PutObjectCommand:()=>qV,PutObjectLegalHoldCommand:()=>HV,PutObjectLockConfigurationCommand:()=>$V,PutObjectOutputFilterSensitiveLog:()=>G5,PutObjectRequestFilterSensitiveLog:()=>$5,PutObjectRetentionCommand:()=>VV,PutObjectTaggingCommand:()=>WV,PutPublicAccessBlockCommand:()=>JV,QuoteFields:()=>pRe,ReplicaModificationsStatus:()=>zAe,ReplicationRuleFilter:()=>xv,ReplicationRuleStatus:()=>KAe,ReplicationStatus:()=>QAe,ReplicationTimeStatus:()=>GAe,RequestCharged:()=>sAe,RequestPayer:()=>aAe,RestoreObjectCommand:()=>QV,RestoreObjectRequestFilterSensitiveLog:()=>X5,RestoreRequestFilterSensitiveLog:()=>W5,RestoreRequestType:()=>gRe,S3:()=>cK,S3Client:()=>vl,S3LocationFilterSensitiveLog:()=>V5,S3ServiceException:()=>Ln,SSEKMSFilterSensitiveLog:()=>P5,SelectObjectContentCommand:()=>eK,SelectObjectContentEventStream:()=>dw,SelectObjectContentEventStreamFilterSensitiveLog:()=>hRe,SelectObjectContentOutputFilterSensitiveLog:()=>J5,SelectObjectContentRequestFilterSensitiveLog:()=>Y5,ServerSideEncryption:()=>mAe,ServerSideEncryptionByDefaultFilterSensitiveLog:()=>C5,ServerSideEncryptionConfigurationFilterSensitiveLog:()=>Kw,ServerSideEncryptionRuleFilterSensitiveLog:()=>b5,SessionCredentialsFilterSensitiveLog:()=>S5,SessionMode:()=>xAe,SseKmsEncryptedObjectsStatus:()=>VAe,StorageClass:()=>_Ae,StorageClassAnalysisSchemaVersion:()=>AAe,TaggingDirective:()=>yAe,Tier:()=>lRe,TransitionStorageClass:()=>DAe,Type:()=>lAe,UploadPartCommand:()=>rK,UploadPartCopyCommand:()=>iK,UploadPartCopyOutputFilterSensitiveLog:()=>ez,UploadPartCopyRequestFilterSensitiveLog:()=>tz,UploadPartOutputFilterSensitiveLog:()=>Q5,UploadPartRequestFilterSensitiveLog:()=>Z5,WriteGetObjectResponseCommand:()=>sK,WriteGetObjectResponseRequestFilterSensitiveLog:()=>rz,__Client:()=>a.Client,paginateListBuckets:()=>N2e,paginateListDirectoryBuckets:()=>D2e,paginateListObjectsV2:()=>L2e,paginateListParts:()=>M2e,waitForBucketExists:()=>q2e,waitForBucketNotExists:()=>H2e,waitForObjectExists:()=>$2e,waitForObjectNotExists:()=>V2e,waitUntilBucketExists:()=>U2e,waitUntilBucketNotExists:()=>G2e,waitUntilObjectExists:()=>z2e,waitUntilObjectNotExists:()=>K2e});fK.exports=YOe(U$);var QOe=xx(),p$=Ol(),ZOe=Al(),eAe=Rl(),lu=ee(),g$=Yl(),tAe=zn(),Lb=(Kt(),ve(ar)),rAe=VT(),nAe=Ql(),h$=$n(),v$=dS(),iAe=ee(),F=Mi(),L=Lo(),oAe=d(e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),"resolveClientEndpointParameters"),j={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},a=We(),H$=class G$ extends a.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,G$.prototype)}};d(H$,"S3ServiceException");var Ln=H$,sAe={requester:"requester"},aAe={requester:"requester"},$$=class z$ extends Ln{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,z$.prototype)}};d($$,"NoSuchUpload");var V$=$$,cAe={Enabled:"Enabled",Suspended:"Suspended"},lAe={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},dAe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},uAe={Destination:"Destination"},mAe={AES256:"AES256",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},fAe={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},pAe={CRC32:"CRC32",CRC32C:"CRC32C",SHA1:"SHA1",SHA256:"SHA256"},gAe={COPY:"COPY",REPLACE:"REPLACE"},hAe={OFF:"OFF",ON:"ON"},vAe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},_Ae={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},yAe={COPY:"COPY",REPLACE:"REPLACE"},K$=class W$ extends Ln{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,W$.prototype)}};d(K$,"ObjectNotInActiveTierError");var X$=K$,J$=class Y$ extends Ln{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,Y$.prototype)}};d(J$,"BucketAlreadyExists");var Q$=J$,Z$=class e5 extends Ln{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,e5.prototype)}};d(Z$,"BucketAlreadyOwnedByYou");var t5=Z$,SAe={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},EAe={SingleAvailabilityZone:"SingleAvailabilityZone"},CAe={Directory:"Directory"},bAe={AvailabilityZone:"AvailabilityZone"},wAe={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},PAe={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},xAe={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},r5=class n5 extends Ln{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,n5.prototype)}};d(r5,"NoSuchBucket");var i5=r5,bv;(e=>{e.visit=d((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(bv||(bv={}));var OAe={CSV:"CSV"},AAe={V_1:"V_1"},RAe={Disabled:"Disabled",Enabled:"Enabled"},kAe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},IAe={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},TAe={All:"All",Current:"Current"},NAe={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},BAe={Daily:"Daily",Weekly:"Weekly"},wv;(e=>{e.visit=d((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(wv||(wv={}));var DAe={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},FAe={Disabled:"Disabled",Enabled:"Enabled"},LAe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},jAe={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},Pv;(e=>{e.visit=d((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Pv||(Pv={}));var MAe={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},qAe={prefix:"prefix",suffix:"suffix"},UAe={Disabled:"Disabled",Enabled:"Enabled"},HAe={Disabled:"Disabled",Enabled:"Enabled"},GAe={Disabled:"Disabled",Enabled:"Enabled"},$Ae={Disabled:"Disabled",Enabled:"Enabled"},xv;(e=>{e.visit=d((t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1]),"visit")})(xv||(xv={}));var zAe={Disabled:"Disabled",Enabled:"Enabled"},VAe={Disabled:"Disabled",Enabled:"Enabled"},KAe={Disabled:"Disabled",Enabled:"Enabled"},WAe={BucketOwner:"BucketOwner",Requester:"Requester"},XAe={Disabled:"Disabled",Enabled:"Enabled"},JAe={Enabled:"Enabled",Suspended:"Suspended"},YAe={http:"http",https:"https"},QAe={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},ZAe={ENABLED:"ENABLED"},o5=class s5 extends Ln{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,s5.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}};d(o5,"InvalidObjectState");var a5=o5,c5=class l5 extends Ln{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,l5.prototype)}};d(c5,"NoSuchKey");var d5=c5,eRe={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},tRe={Enabled:"Enabled"},rRe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},u5=class m5 extends Ln{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,m5.prototype)}};d(u5,"NotFound");var f5=u5,nRe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},iRe={url:"url"},oRe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},sRe={RESTORE_STATUS:"RestoreStatus"},aRe={STANDARD:"STANDARD"},p5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"CompleteMultipartUploadOutputFilterSensitiveLog"),g5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"CompleteMultipartUploadRequestFilterSensitiveLog"),h5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),"CopyObjectOutputFilterSensitiveLog"),v5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:a.SENSITIVE_STRING}}),"CopyObjectRequestFilterSensitiveLog"),_5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),"CreateMultipartUploadOutputFilterSensitiveLog"),y5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),"CreateMultipartUploadRequestFilterSensitiveLog"),S5=d(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:a.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:a.SENSITIVE_STRING}}),"SessionCredentialsFilterSensitiveLog"),E5=d(e=>({...e,...e.Credentials&&{Credentials:S5(e.Credentials)}}),"CreateSessionOutputFilterSensitiveLog"),C5=d(e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:a.SENSITIVE_STRING}}),"ServerSideEncryptionByDefaultFilterSensitiveLog"),b5=d(e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:C5(e.ApplyServerSideEncryptionByDefault)}}),"ServerSideEncryptionRuleFilterSensitiveLog"),Kw=d(e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>b5(t))}}),"ServerSideEncryptionConfigurationFilterSensitiveLog"),w5=d(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Kw(e.ServerSideEncryptionConfiguration)}}),"GetBucketEncryptionOutputFilterSensitiveLog"),P5=d(e=>({...e,...e.KeyId&&{KeyId:a.SENSITIVE_STRING}}),"SSEKMSFilterSensitiveLog"),x5=d(e=>({...e,...e.SSEKMS&&{SSEKMS:P5(e.SSEKMS)}}),"InventoryEncryptionFilterSensitiveLog"),O5=d(e=>({...e,...e.Encryption&&{Encryption:x5(e.Encryption)}}),"InventoryS3BucketDestinationFilterSensitiveLog"),A5=d(e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:O5(e.S3BucketDestination)}}),"InventoryDestinationFilterSensitiveLog"),qv=d(e=>({...e,...e.Destination&&{Destination:A5(e.Destination)}}),"InventoryConfigurationFilterSensitiveLog"),R5=d(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:qv(e.InventoryConfiguration)}}),"GetBucketInventoryConfigurationOutputFilterSensitiveLog"),k5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"GetObjectOutputFilterSensitiveLog"),I5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"GetObjectRequestFilterSensitiveLog"),T5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"GetObjectAttributesRequestFilterSensitiveLog"),N5=d(e=>({...e}),"GetObjectTorrentOutputFilterSensitiveLog"),B5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"HeadObjectOutputFilterSensitiveLog"),D5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"HeadObjectRequestFilterSensitiveLog"),F5=d(e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>qv(t))}}),"ListBucketInventoryConfigurationsOutputFilterSensitiveLog"),L5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"ListPartsRequestFilterSensitiveLog"),j5=d(e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Kw(e.ServerSideEncryptionConfiguration)}}),"PutBucketEncryptionRequestFilterSensitiveLog"),M5=d(e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:qv(e.InventoryConfiguration)}}),"PutBucketInventoryConfigurationRequestFilterSensitiveLog"),de=(Xt(),ve(Wt)),_=MD(),M=(Kt(),ve(ar)),lw=Ke(),cRe={Disabled:"Disabled",Enabled:"Enabled"},q5=class U5 extends Ln{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,U5.prototype)}};d(q5,"ObjectAlreadyInActiveTierError");var H5=q5,lRe={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},dRe={SQL:"SQL"},uRe={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},mRe={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},fRe={DOCUMENT:"DOCUMENT",LINES:"LINES"},pRe={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},gRe={SELECT:"SELECT"},dw;(e=>{e.visit=d((t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1]),"visit")})(dw||(dw={}));var G5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),"PutObjectOutputFilterSensitiveLog"),$5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),"PutObjectRequestFilterSensitiveLog"),z5=d(e=>({...e,...e.KMSKeyId&&{KMSKeyId:a.SENSITIVE_STRING}}),"EncryptionFilterSensitiveLog"),V5=d(e=>({...e,...e.Encryption&&{Encryption:z5(e.Encryption)}}),"S3LocationFilterSensitiveLog"),K5=d(e=>({...e,...e.S3&&{S3:V5(e.S3)}}),"OutputLocationFilterSensitiveLog"),W5=d(e=>({...e,...e.OutputLocation&&{OutputLocation:K5(e.OutputLocation)}}),"RestoreRequestFilterSensitiveLog"),X5=d(e=>({...e,...e.RestoreRequest&&{RestoreRequest:W5(e.RestoreRequest)}}),"RestoreObjectRequestFilterSensitiveLog"),hRe=d(e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"SelectObjectContentEventStreamFilterSensitiveLog"),J5=d(e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),"SelectObjectContentOutputFilterSensitiveLog"),Y5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"SelectObjectContentRequestFilterSensitiveLog"),Q5=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"UploadPartOutputFilterSensitiveLog"),Z5=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),"UploadPartRequestFilterSensitiveLog"),ez=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"UploadPartCopyOutputFilterSensitiveLog"),tz=d(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:a.SENSITIVE_STRING}}),"UploadPartCopyRequestFilterSensitiveLog"),rz=d(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),"WriteGetObjectResponseRequestFilterSensitiveLog"),vRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"AbortMultipartUpload"],[yu]:[,(0,a.expectNonNull)(e[Or],"UploadId")]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_AbortMultipartUploadCommand"),_Re=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Ws]:e[Ue],[Xs]:e[He],[Js]:e[Ge],[Ys]:e[$e],[Fe]:e[De],[$]:e[G],[Jv]:e[Gv],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[yu]:[,(0,a.expectNonNull)(e[Or],"UploadId")]}),o,s;return e.MultipartUpload!==void 0&&(s=ENe(e.MultipartUpload,t),s=s.n("CompleteMultipartUpload"),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("POST").h(n).q(i).b(o),r.build()},"se_CompleteMultipartUploadCommand"),yRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[ul]:e[Qc],[pu]:e[Zc],[vP]:e[Se],[gu]:e[el],[hu]:e[tl],[vu]:e[rl],[_u]:e[nl],[O6]:e[Pz],[A6]:e[xz],[R6]:[()=>O(e[Ov]),()=>(0,a.dateToUtcString)(e[Ov]).toString()],[k6]:e[Oz],[I6]:[()=>O(e[Av]),()=>(0,a.dateToUtcString)(e[Av]).toString()],[Gs]:[()=>O(e[ai]),()=>(0,a.dateToUtcString)(e[ai]).toString()],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[gl]:e[al],[fMe]:e[i3e],[CMe]:e[Y3e],[Mn]:e[Ar],[bu]:e[he],[wu]:e[fu],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[qn]:e[_r],[hl]:e[ll],[Rt]:[()=>O(e[at]),()=>e[at].toString()],[T6]:e[Az],[N6]:e[Rz],[B6]:e[kz],[Fe]:e[De],[EP]:e[Ms],[Cu]:e[cl],[$s]:[()=>O(e[ci]),()=>(0,a.serializeDateTime)(e[ci]).toString()],[Eu]:e[Vs],[$]:e[G],[j6]:e[Nz],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((s,c)=>(s[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],s),{})});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"CopyObject"]});return r.m("PUT").h(n).q(i).b(void 0),r.build()},"se_CopyObjectCommand"),SRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[ul]:e[Qc],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[_P]:e[eP],[gl]:e[al],[Oje]:[()=>O(e[A$]),()=>e[A$].toString()],[hMe]:e[du]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i,o;return e.CreateBucketConfiguration!==void 0&&(o=ANe(e.CreateBucketConfiguration,t),i=Me,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).b(i),r.build()},"se_CreateBucketCommand"),ERe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[ul]:e[Qc],[pu]:e[Zc],[gu]:e[el],[hu]:e[tl],[vu]:e[rl],[_u]:e[nl],[Gs]:[()=>O(e[ai]),()=>(0,a.dateToUtcString)(e[ai]).toString()],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[gl]:e[al],[Mn]:e[Ar],[bu]:e[he],[wu]:e[fu],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[qn]:e[_r],[hl]:e[ll],[Rt]:[()=>O(e[at]),()=>e[at].toString()],[Fe]:e[De],[EP]:e[Ms],[Cu]:e[cl],[$s]:[()=>O(e[ci]),()=>(0,a.serializeDateTime)(e[ci]).toString()],[Eu]:e[Vs],[$]:e[G],[vP]:e[Se],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((s,c)=>(s[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],s),{})});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[C6]:[,""]});return r.m("POST").h(n).q(i).b(void 0),r.build()},"se_CreateMultipartUploadCommand"),CRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[kje]:e[V3e]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[hje]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_CreateSessionCommand"),bRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("DELETE").h(n).b(void 0),r.build()},"se_DeleteBucketCommand"),wRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[$v]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketAnalyticsConfigurationCommand"),PRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[aP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketCorsCommand"),xRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[cP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketEncryptionCommand"),ORe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={};r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Yv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketIntelligentTieringConfigurationCommand"),ARe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Xv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketInventoryConfigurationCommand"),RRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[lP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketLifecycleCommand"),kRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Qv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketMetricsConfigurationCommand"),IRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[uP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketOwnershipControlsCommand"),TRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[mP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketPolicyCommand"),NRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[pP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketReplicationCommand"),BRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[dl]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketTaggingCommand"),DRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[gP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteBucketWebsiteCommand"),FRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[yP]:e[tP],[Fe]:e[De],[hP]:[()=>O(e[zc]),()=>e[zc].toString()],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"DeleteObject"],[Rr]:[,e[ye]]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteObjectCommand"),LRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[yP]:e[tP],[Fe]:e[De],[hP]:[()=>O(e[zc]),()=>e[zc].toString()],[$]:e[G],[vt]:e[Se]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[oje]:[,""]}),o,s;return e.Delete!==void 0&&(s=TNe(e.Delete,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("POST").h(n).q(i).b(o),r.build()},"se_DeleteObjectsCommand"),jRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[dl]:[,""],[Rr]:[,e[ye]]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeleteObjectTaggingCommand"),MRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[fP]:[,""]});return r.m("DELETE").h(n).q(i).b(void 0),r.build()},"se_DeletePublicAccessBlockCommand"),qRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G],[Fe]:e[De]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[t6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketAccelerateConfigurationCommand"),URe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[zv]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketAclCommand"),HRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[$v]:[,""],[$t]:[,"GetBucketAnalyticsConfiguration"],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketAnalyticsConfigurationCommand"),GRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[aP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketCorsCommand"),$Re=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[cP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketEncryptionCommand"),zRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={};r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Yv]:[,""],[$t]:[,"GetBucketIntelligentTieringConfiguration"],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketIntelligentTieringConfigurationCommand"),VRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Xv]:[,""],[$t]:[,"GetBucketInventoryConfiguration"],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketInventoryConfigurationCommand"),KRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[lP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketLifecycleConfigurationCommand"),WRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[l6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketLocationCommand"),XRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[d6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketLoggingCommand"),JRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Qv]:[,""],[$t]:[,"GetBucketMetricsConfiguration"],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketMetricsConfigurationCommand"),YRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[u6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketNotificationConfigurationCommand"),QRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[uP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketOwnershipControlsCommand"),ZRe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[mP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketPolicyCommand"),eke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[fje]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketPolicyStatusCommand"),tke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[pP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketReplicationCommand"),rke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[f6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketRequestPaymentCommand"),nke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[dl]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketTaggingCommand"),ike=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[b6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketVersioningCommand"),oke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[gP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetBucketWebsiteCommand"),ske=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[i6]:e[Lz],[o6]:[()=>O(e[Rv]),()=>(0,a.dateToUtcString)(e[Rv]).toString()],[Jv]:e[Gv],[s6]:[()=>O(e[kv]),()=>(0,a.dateToUtcString)(e[kv]).toString()],[p6]:e[$z],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[Fe]:e[De],[$]:e[G],[x6]:e[bz]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"GetObject"],[g6]:[,e[zz]],[h6]:[,e[Vz]],[v6]:[,e[Kz]],[_6]:[,e[Wz]],[y6]:[,e[Xz]],[S6]:[()=>e.ResponseExpires!==void 0,()=>(0,a.dateToUtcString)(e[Jz]).toString()],[Rr]:[,e[ye]],[Zv]:[()=>e.PartNumber!==void 0,()=>e[wr].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectCommand"),ake=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[zv]:[,""],[Rr]:[,e[ye]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectAclCommand"),cke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[pMe]:[()=>O(e[Ri]),()=>e[Ri].toString()],[vMe]:e[yo],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[Fe]:e[De],[$]:e[G],[gMe]:[()=>O(e[O$]),()=>(e[O$]||[]).map(s=>s).join(", ")]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[nje]:[,""],[Rr]:[,e[ye]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectAttributesCommand"),lke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[c6]:[,""],[Rr]:[,e[ye]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectLegalHoldCommand"),dke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[m6]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectLockConfigurationCommand"),uke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[E6]:[,""],[Rr]:[,e[ye]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectRetentionCommand"),mke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G],[Fe]:e[De]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[dl]:[,""],[Rr]:[,e[ye]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectTaggingCommand"),fke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[Sje]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetObjectTorrentCommand"),pke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[fP]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetPublicAccessBlockCommand"),gke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("HEAD").h(n).b(void 0),r.build()},"se_HeadBucketCommand"),hke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[i6]:e[Lz],[o6]:[()=>O(e[Rv]),()=>(0,a.dateToUtcString)(e[Rv]).toString()],[Jv]:e[Gv],[s6]:[()=>O(e[kv]),()=>(0,a.dateToUtcString)(e[kv]).toString()],[p6]:e[$z],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[Fe]:e[De],[$]:e[G],[x6]:e[bz]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[g6]:[,e[zz]],[h6]:[,e[Vz]],[v6]:[,e[Kz]],[_6]:[,e[Wz]],[y6]:[,e[Xz]],[S6]:[()=>e.ResponseExpires!==void 0,()=>(0,a.dateToUtcString)(e[Jz]).toString()],[Rr]:[,e[ye]],[Zv]:[()=>e.PartNumber!==void 0,()=>e[wr].toString()]});return r.m("HEAD").h(n).q(i).b(void 0),r.build()},"se_HeadObjectCommand"),vke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[$v]:[,""],[$t]:[,"ListBucketAnalyticsConfigurations"],[Ks]:[,e[je]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListBucketAnalyticsConfigurationsCommand"),_ke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={};r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Yv]:[,""],[$t]:[,"ListBucketIntelligentTieringConfigurations"],[Ks]:[,e[je]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListBucketIntelligentTieringConfigurationsCommand"),yke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Xv]:[,""],[$t]:[,"ListBucketInventoryConfigurations"],[Ks]:[,e[je]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListBucketInventoryConfigurationsCommand"),Ske=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Qv]:[,""],[$t]:[,"ListBucketMetricsConfigurations"],[Ks]:[,e[je]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListBucketMetricsConfigurationsCommand"),Eke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={};r.bp("/");let i=(0,a.map)({[$t]:[,"ListBuckets"],[lje]:[()=>e.MaxBuckets!==void 0,()=>e[n3e].toString()],[Ks]:[,e[je]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListBucketsCommand"),Cke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={};r.bp("/");let i=(0,a.map)({[$t]:[,"ListDirectoryBuckets"],[Ks]:[,e[je]],[dje]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[o3e].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListDirectoryBucketsCommand"),bke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G],[Fe]:e[De]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[C6]:[,""],[Vv]:[,e[ir]],[Kv]:[,e[or]],[a6]:[,e[_o]],[mje]:[()=>e.MaxUploads!==void 0,()=>e[rv].toString()],[e_]:[,e[H]],[Eje]:[,e[Sv]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListMultipartUploadsCommand"),wke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G],[SP]:[()=>O(e[Vc]),()=>(e[Vc]||[]).map(s=>s).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Vv]:[,e[ir]],[Kv]:[,e[or]],[cje]:[,e[ev]],[dP]:[()=>e.MaxKeys!==void 0,()=>e[pn].toString()],[e_]:[,e[H]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListObjectsCommand"),Pke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G],[SP]:[()=>O(e[Vc]),()=>(e[Vc]||[]).map(s=>s).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[aje]:[,"2"],[Vv]:[,e[ir]],[Kv]:[,e[or]],[dP]:[()=>e.MaxKeys!==void 0,()=>e[pn].toString()],[e_]:[,e[H]],[Ks]:[,e[je]],[sje]:[()=>e.FetchOwner!==void 0,()=>e[wLe].toString()],[vje]:[,e[fv]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListObjectsV2Command"),xke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[$]:e[G],[Fe]:e[De],[SP]:[()=>O(e[Vc]),()=>(e[Vc]||[]).map(s=>s).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Cje]:[,""],[Vv]:[,e[ir]],[Kv]:[,e[or]],[a6]:[,e[_o]],[dP]:[()=>e.MaxKeys!==void 0,()=>e[pn].toString()],[e_]:[,e[H]],[bje]:[,e[Cv]]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListObjectVersionsCommand"),Oke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[Fe]:e[De],[$]:e[G],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"ListParts"],[uje]:[()=>e.MaxParts!==void 0,()=>e[Ri].toString()],[pje]:[,e[yo]],[yu]:[,(0,a.expectNonNull)(e[Or],"UploadId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListPartsCommand"),Ake=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[$]:e[G],[vt]:e[Se]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[t6]:[,""]}),o,s;return e.AccelerateConfiguration!==void 0&&(s=cNe(e.AccelerateConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketAccelerateConfigurationCommand"),Rke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[ul]:e[Qc],[Nt]:e[kt],[vt]:e[Se],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[_P]:e[eP],[gl]:e[al],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[zv]:[,""]}),o,s;return e.AccessControlPolicy!==void 0&&(s=nz(e.AccessControlPolicy,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketAclCommand"),kke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[$v]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]}),o,s;return e.AnalyticsConfiguration!==void 0&&(s=pNe(e.AnalyticsConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketAnalyticsConfigurationCommand"),Ike=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[aP]:[,""]}),o,s;return e.CORSConfiguration!==void 0&&(s=PNe(e.CORSConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketCorsCommand"),Tke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[cP]:[,""]}),o,s;return e.ServerSideEncryptionConfiguration!==void 0&&(s=nDe(e.ServerSideEncryptionConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketEncryptionCommand"),Nke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n={"content-type":"application/xml"};r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Yv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]}),o,s;return e.IntelligentTieringConfiguration!==void 0&&(s=KNe(e.IntelligentTieringConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketIntelligentTieringConfigurationCommand"),Bke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Xv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]}),o,s;return e.InventoryConfiguration!==void 0&&(s=XNe(e.InventoryConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketInventoryConfigurationCommand"),Dke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[lP]:[,""]}),o,s;return e.LifecycleConfiguration!==void 0&&(s=yNe(e.LifecycleConfiguration,t),s=s.n("LifecycleConfiguration"),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketLifecycleConfigurationCommand"),Fke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[d6]:[,""]}),o,s;return e.BucketLoggingStatus!==void 0&&(s=SNe(e.BucketLoggingStatus,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketLoggingCommand"),Lke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[Qv]:[,""],[En]:[,(0,a.expectNonNull)(e[ce],"Id")]}),o,s;return e.MetricsConfiguration!==void 0&&(s=hBe(e.MetricsConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketMetricsConfigurationCommand"),jke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[$]:e[G],[EMe]:[()=>O(e[k$]),()=>e[k$].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[u6]:[,""]}),o,s;return e.NotificationConfiguration!==void 0&&(s=EBe(e.NotificationConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketNotificationConfigurationCommand"),Mke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[uP]:[,""]}),o,s;return e.OwnershipControls!==void 0&&(s=kBe(e.OwnershipControls,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketOwnershipControlsCommand"),qke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"text/plain",[Nt]:e[kt],[vt]:e[Se],[Rje]:[()=>O(e[S$]),()=>e[S$].toString()],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[mP]:[,""]}),o,s;return e.Policy!==void 0&&(s=e.Policy,o=s),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketPolicyCommand"),Uke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[P6]:e[Zz],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[pP]:[,""]}),o,s;return e.ReplicationConfiguration!==void 0&&(s=UBe(e.ReplicationConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketReplicationCommand"),Hke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[f6]:[,""]}),o,s;return e.RequestPaymentConfiguration!==void 0&&(s=KBe(e.RequestPaymentConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketRequestPaymentCommand"),Gke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[dl]:[,""]}),o,s;return e.Tagging!==void 0&&(s=Jw(e.Tagging,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketTaggingCommand"),$ke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[yP]:e[tP],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[b6]:[,""]}),o,s;return e.VersioningConfiguration!==void 0&&(s=bDe(e.VersioningConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketVersioningCommand"),zke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[gP]:[,""]}),o,s;return e.WebsiteConfiguration!==void 0&&(s=wDe(e.WebsiteConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutBucketWebsiteCommand"),Vke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[_u]:e[nl]||"application/octet-stream",[ul]:e[Qc],[pu]:e[Zc],[gu]:e[el],[hu]:e[tl],[vu]:e[rl],[Hs]:[()=>O(e[Eo]),()=>e[Eo].toString()],[Nt]:e[kt],[vt]:e[Se],[Ws]:e[Ue],[Xs]:e[He],[Js]:e[Ge],[Ys]:e[$e],[Gs]:[()=>O(e[ai]),()=>(0,a.dateToUtcString)(e[ai]).toString()],[Jv]:e[Gv],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[gl]:e[al],[Mn]:e[Ar],[bu]:e[he],[wu]:e[fu],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[qn]:e[_r],[hl]:e[ll],[Rt]:[()=>O(e[at]),()=>e[at].toString()],[Fe]:e[De],[EP]:e[Ms],[Cu]:e[cl],[$s]:[()=>O(e[ci]),()=>(0,a.serializeDateTime)(e[ci]).toString()],[Eu]:e[Vs],[$]:e[G],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{})});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"PutObject"]}),o,s;return e.Body!==void 0&&(s=e.Body,o=s),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectCommand"),Kke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[ul]:e[Qc],[Nt]:e[kt],[vt]:e[Se],[ml]:e[il],[fl]:e[ol],[pl]:e[sl],[_P]:e[eP],[gl]:e[al],[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[zv]:[,""],[Rr]:[,e[ye]]}),o,s;return e.AccessControlPolicy!==void 0&&(s=nz(e.AccessControlPolicy,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectAclCommand"),Wke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Fe]:e[De],[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[c6]:[,""],[Rr]:[,e[ye]]}),o,s;return e.LegalHold!==void 0&&(s=PBe(e.LegalHold,t),s=s.n("LegalHold"),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectLegalHoldCommand"),Xke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Fe]:e[De],[P6]:e[Zz],[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[m6]:[,""]}),o,s;return e.ObjectLockConfiguration!==void 0&&(s=wBe(e.ObjectLockConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectLockConfigurationCommand"),Jke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Fe]:e[De],[hP]:[()=>O(e[zc]),()=>e[zc].toString()],[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[E6]:[,""],[Rr]:[,e[ye]]}),o,s;return e.Retention!==void 0&&(s=xBe(e.Retention,t),s=s.n("Retention"),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectRetentionCommand"),Yke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G],[Fe]:e[De]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[dl]:[,""],[Rr]:[,e[ye]]}),o,s;return e.Tagging!==void 0&&(s=Jw(e.Tagging,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutObjectTaggingCommand"),Qke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Nt]:e[kt],[vt]:e[Se],[$]:e[G]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let i=(0,a.map)({[fP]:[,""]}),o,s;return e.PublicAccessBlockConfiguration!==void 0&&(s=DBe(e.PublicAccessBlockConfiguration,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("PUT").h(n).q(i).b(o),r.build()},"se_PutPublicAccessBlockCommand"),Zke=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Fe]:e[De],[vt]:e[Se],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[gje]:[,""],[Rr]:[,e[ye]]}),o,s;return e.RestoreRequest!==void 0&&(s=XBe(e.RestoreRequest,t),o=Me,s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=s.toString()),r.m("POST").h(n).q(i).b(o),r.build()},"se_RestoreObjectCommand"),eIe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/xml",[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[_je]:[,""],[yje]:[,"2"]}),o;o=Me;let s=new _.XmlNode(K3e);return s.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s.cc(e,Dz),s.cc(e,Bz),e[ws]!=null&&s.c(sz(e[ws],t).n(ws)),e[Rs]!=null&&s.c(az(e[Rs],t).n(Rs)),e[uv]!=null&&s.c(WBe(e[uv],t).n(uv)),e[gv]!=null&&s.c(eDe(e[gv],t).n(gv)),o+=s.toString(),r.m("POST").h(n).q(i).b(o),r.build()},"se_SelectObjectContentCommand"),tIe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"content-type":"application/octet-stream",[Hs]:[()=>O(e[Eo]),()=>e[Eo].toString()],[Nt]:e[kt],[vt]:e[Se],[Ws]:e[Ue],[Xs]:e[He],[Js]:e[Ge],[Ys]:e[$e],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[Fe]:e[De],[$]:e[G]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"UploadPart"],[Zv]:[(0,a.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[wr].toString()],[yu]:[,(0,a.expectNonNull)(e[Or],"UploadId")]}),o,s;return e.Body!==void 0&&(s=e.Body,o=s),r.m("PUT").h(n).q(i).b(o),r.build()},"se_UploadPartCommand"),rIe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{[O6]:e[Pz],[A6]:e[xz],[R6]:[()=>O(e[Ov]),()=>(0,a.dateToUtcString)(e[Ov]).toString()],[k6]:e[Oz],[I6]:[()=>O(e[Av]),()=>(0,a.dateToUtcString)(e[Av]).toString()],[Ije]:e[lLe],[Ht]:e[It],[Un]:e[jn],[Gt]:e[Tt],[T6]:e[Az],[N6]:e[Rz],[B6]:e[kz],[Fe]:e[De],[$]:e[G],[j6]:e[Nz]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let i=(0,a.map)({[$t]:[,"UploadPartCopy"],[Zv]:[(0,a.expectNonNull)(e.PartNumber,"PartNumber")!=null,()=>e[wr].toString()],[yu]:[,(0,a.expectNonNull)(e[Or],"UploadId")]});return r.m("PUT").h(n).q(i).b(void 0),r.build()},"se_UploadPartCopyCommand"),nIe=d(async(e,t)=>{let r=(0,M.requestBuilder)(e,t),n=(0,a.map)({},O,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":"application/octet-stream",[yMe]:e[I3e],[SMe]:e[j3e],[mMe]:[()=>O(e[R$]),()=>e[R$].toString()],[Tje]:e[_Le],[Nje]:e[yLe],[Bje]:e[Zw],[Dje]:e[Zc],[Fje]:e[el],[Lje]:e[tl],[jje]:e[rl],[Hs]:[()=>O(e[Eo]),()=>e[Eo].toString()],[Mje]:e[wz],[qje]:e[nl],[$je]:e[Ue],[zje]:e[He],[Vje]:e[Ge],[Kje]:e[$e],[Wje]:[()=>O(e[Dn]),()=>e[Dn].toString()],[Uje]:e[ze],[Hje]:[()=>O(e[ai]),()=>(0,a.dateToUtcString)(e[ai]).toString()],[Xje]:e[gr],[Gje]:[()=>O(e[lt]),()=>(0,a.dateToUtcString)(e[lt]).toString()],[Jje]:[()=>O(e[Iv]),()=>e[Iv].toString()],[Zje]:e[cl],[Qje]:e[Vs],[eMe]:[()=>O(e[ci]),()=>(0,a.serializeDateTime)(e[ci]).toString()],[Yje]:[()=>O(e[Kc]),()=>e[Kc].toString()],[nMe]:e[oP],[rMe]:e[Qe],[tMe]:e[sP],[oMe]:e[Ar],[cMe]:e[It],[sMe]:e[_r],[lMe]:e[Tt],[iMe]:e[he],[dMe]:[()=>O(e[Mw]),()=>e[Mw].toString()],[uMe]:e[ye],[aMe]:[()=>O(e[at]),()=>e[at].toString()],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{})});r.bp("/WriteGetObjectResponse");let i,o;e.Body!==void 0&&(o=e.Body,i=o);let{hostname:s}=await t.endpoint();if(t.disableHostPrefix!==!0){if(s="{RequestRoute}."+s,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(s=s.replace("{RequestRoute}",e.RequestRoute),!(0,lw.isValidHostname)(s))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return r.hn(s),r.m("POST").h(n).b(i),r.build()},"se_WriteGetObjectResponseCommand"),iIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_AbortMultipartUploadCommand"),oIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[gr]:[,e.headers[Su]],[Ar]:[,e.headers[Mn]],[ye]:[,e.headers[li]],[_r]:[,e.headers[qn]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Pe]!=null&&(r[Pe]=(0,a.expectString)(n[Pe])),n[Ue]!=null&&(r[Ue]=(0,a.expectString)(n[Ue])),n[He]!=null&&(r[He]=(0,a.expectString)(n[He])),n[Ge]!=null&&(r[Ge]=(0,a.expectString)(n[Ge])),n[$e]!=null&&(r[$e]=(0,a.expectString)(n[$e])),n[ze]!=null&&(r[ze]=(0,a.expectString)(n[ze])),n[me]!=null&&(r[me]=(0,a.expectString)(n[me])),n[Ps]!=null&&(r[Ps]=(0,a.expectString)(n[Ps])),r},"de_CompleteMultipartUploadCommand"),sIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[gr]:[,e.headers[Su]],[Iz]:[,e.headers[D6]],[ye]:[,e.headers[li]],[Ar]:[,e.headers[Mn]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[ll]:[,e.headers[hl]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]]}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.CopyObjectResult=qDe(n,t),r},"de_CopyObjectCommand"),aIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Ps]:[,e.headers[l6]]});return await(0,a.collectBody)(e.body,t),r},"de_CreateBucketCommand"),cIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Ez]:[()=>e.headers[Fv]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Fv]))],[Cz]:[,e.headers[w6]],[Ar]:[,e.headers[Mn]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[ll]:[,e.headers[hl]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]],[Se]:[,e.headers[vP]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Pe]!=null&&(r[Pe]=(0,a.expectString)(n[Pe])),n[me]!=null&&(r[me]=(0,a.expectString)(n[me])),n[Or]!=null&&(r[Or]=(0,a.expectString)(n[Or])),r},"de_CreateMultipartUploadCommand"),lIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Mb]!=null&&(r[Mb]=y1e(n[Mb],t)),r},"de_CreateSessionCommand"),dIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketCommand"),uIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketAnalyticsConfigurationCommand"),mIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketCorsCommand"),fIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketEncryptionCommand"),pIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketIntelligentTieringConfigurationCommand"),gIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketInventoryConfigurationCommand"),hIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketLifecycleCommand"),vIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketMetricsConfigurationCommand"),_Ie=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketOwnershipControlsCommand"),yIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketPolicyCommand"),SIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketReplicationCommand"),EIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketTaggingCommand"),CIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeleteBucketWebsiteCommand"),bIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Dn]:[()=>e.headers[Co]!==void 0,()=>(0,a.parseBoolean)(e.headers[Co])],[ye]:[,e.headers[li]],[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_DeleteObjectCommand"),wIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.Deleted===""?r[Hh]=[]:n[Hh]!=null&&(r[Hh]=VDe((0,a.getArrayIfSingleItem)(n[Hh]),t)),n.Error===""?r[b$]=[]:n[C$]!=null&&(r[b$]=tFe((0,a.getArrayIfSingleItem)(n[C$]),t)),r},"de_DeleteObjectsCommand"),PIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[ye]:[,e.headers[li]]});return await(0,a.collectBody)(e.body,t),r},"de_DeleteObjectTaggingCommand"),xIe=d(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_DeletePublicAccessBlockCommand"),OIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[V]!=null&&(r[V]=(0,a.expectString)(n[V])),r},"de_GetBucketAccelerateConfigurationCommand"),AIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[uu]=[]:n[fs]!=null&&n[fs][Ii]!=null&&(r[uu]=fz((0,a.getArrayIfSingleItem)(n[fs][Ii]),t)),n[Oe]!=null&&(r[Oe]=bo(n[Oe],t)),r},"de_GetBucketAclCommand"),RIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.AnalyticsConfiguration=lz(n,t),r},"de_GetBucketAnalyticsConfigurationCommand"),kIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.CORSRule===""?r[Sw]=[]:n[yw]!=null&&(r[Sw]=GDe((0,a.getArrayIfSingleItem)(n[yw]),t)),r},"de_GetBucketCorsCommand"),IIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.ServerSideEncryptionConfiguration=h1e(n,t),r},"de_GetBucketEncryptionCommand"),TIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.IntelligentTieringConfiguration=gz(n,t),r},"de_GetBucketIntelligentTieringConfigurationCommand"),NIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.InventoryConfiguration=hz(n,t),r},"de_GetBucketInventoryConfigurationCommand"),BIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.Rule===""?r[Sn]=[]:n[Pr]!=null&&(r[Sn]=xFe((0,a.getArrayIfSingleItem)(n[Pr]),t)),r},"de_GetBucketLifecycleConfigurationCommand"),DIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Dc]!=null&&(r[Dc]=(0,a.expectString)(n[Dc])),r},"de_GetBucketLocationCommand"),FIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[xs]!=null&&(r[xs]=OFe(n[xs],t)),r},"de_GetBucketLoggingCommand"),LIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.MetricsConfiguration=vz(n,t),r},"de_GetBucketMetricsConfigurationCommand"),jIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[ys]!=null&&(r[ys]=rFe(n[ys],t)),n.CloudFunctionConfiguration===""?r[Aw]=[]:n[y$]!=null&&(r[Aw]=EFe((0,a.getArrayIfSingleItem)(n[y$]),t)),n.QueueConfiguration===""?r[Bw]=[]:n[Nw]!=null&&(r[Bw]=r1e((0,a.getArrayIfSingleItem)(n[Nw]),t)),n.TopicConfiguration===""?r[Uw]=[]:n[qw]!=null&&(r[Uw]=B1e((0,a.getArrayIfSingleItem)(n[qw]),t)),r},"de_GetBucketNotificationConfigurationCommand"),MIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.OwnershipControls=zFe(n,t),r},"de_GetBucketOwnershipControlsCommand"),qIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=await L1e(e.body,t);return r.Policy=(0,a.expectString)(n),r},"de_GetBucketPolicyCommand"),UIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.PolicyStatus=QFe(n,t),r},"de_GetBucketPolicyStatusCommand"),HIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.ReplicationConfiguration=s1e(n,t),r},"de_GetBucketReplicationCommand"),GIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[sv]!=null&&(r[sv]=(0,a.expectString)(n[sv])),r},"de_GetBucketRequestPaymentCommand"),$Ie=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[Bn]=[]:n[Bn]!=null&&n[Bn][Ce]!=null&&(r[Bn]=zs((0,a.getArrayIfSingleItem)(n[Bn][Ce]),t)),r},"de_GetBucketTaggingCommand"),zIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[kw]!=null&&(r[tv]=(0,a.expectString)(n[kw])),n[V]!=null&&(r[V]=(0,a.expectString)(n[V])),r},"de_GetBucketVersioningCommand"),VIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Es]!=null&&(r[Es]=eFe(n[Es],t)),n[bs]!=null&&(r[bs]=lFe(n[bs],t)),n[Is]!=null&&(r[Is]=i1e(n[Is],t)),n.RoutingRules===""?r[fc]=[]:n[fc]!=null&&n[fc][Nv]!=null&&(r[fc]=f1e((0,a.getArrayIfSingleItem)(n[fc][Nv]),t)),r},"de_GetBucketWebsiteCommand"),KIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Dn]:[()=>e.headers[Co]!==void 0,()=>(0,a.parseBoolean)(e.headers[Co])],[Zw]:[,e.headers[r6]],[gr]:[,e.headers[Su]],[sP]:[,e.headers[F6]],[lt]:[()=>e.headers[Wc]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Wc]))],[Eo]:[()=>e.headers[Hs]!==void 0,()=>(0,a.strictParseLong)(e.headers[Hs])],[ze]:[,e.headers[Wv]],[Ue]:[,e.headers[Ws]],[He]:[,e.headers[Xs]],[Ge]:[,e.headers[Js]],[$e]:[,e.headers[Ys]],[Iv]:[()=>e.headers[Lv]!==void 0,()=>(0,a.strictParseInt32)(e.headers[Lv])],[ye]:[,e.headers[li]],[Zc]:[,e.headers[pu]],[el]:[,e.headers[gu]],[tl]:[,e.headers[hu]],[rl]:[,e.headers[vu]],[wz]:[,e.headers[ije]],[nl]:[,e.headers[_u]],[ai]:[()=>e.headers[Gs]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Gs]))],[Tz]:[,e.headers[n6]],[fu]:[,e.headers[wu]],[Ar]:[,e.headers[Mn]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[he]:[,e.headers[bu]],[Qe]:[,e.headers[et]],[oP]:[,e.headers[L6]],[Kc]:[()=>e.headers[jv]!==void 0,()=>(0,a.strictParseInt32)(e.headers[jv])],[Mw]:[()=>e.headers[L$]!==void 0,()=>(0,a.strictParseInt32)(e.headers[L$])],[cl]:[,e.headers[Cu]],[ci]:[()=>e.headers[$s]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e.headers[$s]))],[Vs]:[,e.headers[Eu]],Metadata:[,Object.keys(e.headers).filter(i=>i.startsWith("x-amz-meta-")).reduce((i,o)=>(i[o.substring(11)]=e.headers[o],i),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectCommand"),WIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.AccessControlList===""?r[uu]=[]:n[fs]!=null&&n[fs][Ii]!=null&&(r[uu]=fz((0,a.getArrayIfSingleItem)(n[fs][Ii]),t)),n[Oe]!=null&&(r[Oe]=bo(n[Oe],t)),r},"de_GetObjectAclCommand"),XIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Dn]:[()=>e.headers[Co]!==void 0,()=>(0,a.parseBoolean)(e.headers[Co])],[lt]:[()=>e.headers[Wc]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Wc]))],[ye]:[,e.headers[li]],[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Hb]!=null&&(r[Hb]=FDe(n[Hb],t)),n[ze]!=null&&(r[ze]=(0,a.expectString)(n[ze])),n[rw]!=null&&(r[rw]=aFe(n[rw],t)),n[nw]!=null&&(r[nw]=(0,a.strictParseLong)(n[nw])),n[he]!=null&&(r[he]=(0,a.expectString)(n[he])),r},"de_GetObjectAttributesCommand"),JIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.LegalHold=MFe(n,t),r},"de_GetObjectLegalHoldCommand"),YIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.ObjectLockConfiguration=jFe(n,t),r},"de_GetObjectLockConfigurationCommand"),QIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.Retention=qFe(n,t),r},"de_GetObjectRetentionCommand"),ZIe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[ye]:[,e.headers[li]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.TagSet===""?r[Bn]=[]:n[Bn]!=null&&n[Bn][Ce]!=null&&(r[Bn]=zs((0,a.getArrayIfSingleItem)(n[Bn][Ce]),t)),r},"de_GetObjectTaggingCommand"),eTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectTorrentCommand"),tTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.PublicAccessBlockConfiguration=e1e(n,t),r},"de_GetPublicAccessBlockCommand"),rTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[tLe]:[,e.headers[xje]],[Q1e]:[,e.headers[Pje]],[rLe]:[,e.headers[Aje]],[$1e]:[()=>e.headers[F$]!==void 0,()=>(0,a.parseBoolean)(e.headers[F$])]});return await(0,a.collectBody)(e.body,t),r},"de_HeadBucketCommand"),nTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Dn]:[()=>e.headers[Co]!==void 0,()=>(0,a.parseBoolean)(e.headers[Co])],[Zw]:[,e.headers[r6]],[gr]:[,e.headers[Su]],[sP]:[,e.headers[F6]],[z1e]:[,e.headers[wje]],[lt]:[()=>e.headers[Wc]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Wc]))],[Eo]:[()=>e.headers[Hs]!==void 0,()=>(0,a.strictParseLong)(e.headers[Hs])],[Ue]:[,e.headers[Ws]],[He]:[,e.headers[Xs]],[Ge]:[,e.headers[Js]],[$e]:[,e.headers[Ys]],[ze]:[,e.headers[Wv]],[Iv]:[()=>e.headers[Lv]!==void 0,()=>(0,a.strictParseInt32)(e.headers[Lv])],[ye]:[,e.headers[li]],[Zc]:[,e.headers[pu]],[el]:[,e.headers[gu]],[tl]:[,e.headers[hu]],[rl]:[,e.headers[vu]],[nl]:[,e.headers[_u]],[ai]:[()=>e.headers[Gs]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Gs]))],[Tz]:[,e.headers[n6]],[fu]:[,e.headers[wu]],[Ar]:[,e.headers[Mn]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[he]:[,e.headers[bu]],[Qe]:[,e.headers[et]],[oP]:[,e.headers[L6]],[Kc]:[()=>e.headers[jv]!==void 0,()=>(0,a.strictParseInt32)(e.headers[jv])],[cl]:[,e.headers[Cu]],[ci]:[()=>e.headers[$s]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e.headers[$s]))],[Vs]:[,e.headers[Eu]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,i)=>(n[i.substring(11)]=e.headers[i],n),{})]});return await(0,a.collectBody)(e.body,t),r},"de_HeadObjectCommand"),iTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.AnalyticsConfiguration===""?r[_$]=[]:n[uw]!=null&&(r[_$]=IDe((0,a.getArrayIfSingleItem)(n[uw]),t)),n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[hr]!=null&&(r[hr]=(0,a.expectString)(n[hr])),r},"de_ListBucketAnalyticsConfigurationsCommand"),oTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n.IntelligentTieringConfiguration===""?r[P$]=[]:n[Ow]!=null&&(r[P$]=uFe((0,a.getArrayIfSingleItem)(n[Ow]),t)),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[hr]!=null&&(r[hr]=(0,a.expectString)(n[hr])),r},"de_ListBucketIntelligentTieringConfigurationsCommand"),sTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n.InventoryConfiguration===""?r[w$]=[]:n[xw]!=null&&(r[w$]=fFe((0,a.getArrayIfSingleItem)(n[xw]),t)),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[hr]!=null&&(r[hr]=(0,a.expectString)(n[hr])),r},"de_ListBucketInventoryConfigurationsCommand"),aTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n.MetricsConfiguration===""?r[x$]=[]:n[Rw]!=null&&(r[x$]=kFe((0,a.getArrayIfSingleItem)(n[Rw]),t)),n[hr]!=null&&(r[hr]=(0,a.expectString)(n[hr])),r},"de_ListBucketMetricsConfigurationsCommand"),cTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[ri]=[]:n[ri]!=null&&n[ri][Pe]!=null&&(r[ri]=dz((0,a.getArrayIfSingleItem)(n[ri][Pe]),t)),n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n[Oe]!=null&&(r[Oe]=bo(n[Oe],t)),r},"de_ListBucketsCommand"),lTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.Buckets===""?r[ri]=[]:n[ri]!=null&&n[ri][Pe]!=null&&(r[ri]=dz((0,a.getArrayIfSingleItem)(n[ri][Pe]),t)),n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),r},"de_ListDirectoryBucketsCommand"),dTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Pe]!=null&&(r[Pe]=(0,a.expectString)(n[Pe])),n.CommonPrefixes===""?r[nr]=[]:n[nr]!=null&&(r[nr]=Uv((0,a.getArrayIfSingleItem)(n[nr]),t)),n[ir]!=null&&(r[ir]=(0,a.expectString)(n[ir])),n[or]!=null&&(r[or]=(0,a.expectString)(n[or])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[_o]!=null&&(r[_o]=(0,a.expectString)(n[_o])),n[rv]!=null&&(r[rv]=(0,a.strictParseInt32)(n[rv])),n[Fc]!=null&&(r[Fc]=(0,a.expectString)(n[Fc])),n[ew]!=null&&(r[ew]=(0,a.expectString)(n[ew])),n[H]!=null&&(r[H]=(0,a.expectString)(n[H])),n[Sv]!=null&&(r[Sv]=(0,a.expectString)(n[Sv])),n.Upload===""?r[T$]=[]:n[I$]!=null&&(r[T$]=NFe((0,a.getArrayIfSingleItem)(n[I$]),t)),r},"de_ListMultipartUploadsCommand"),uTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[nr]=[]:n[nr]!=null&&(r[nr]=Uv((0,a.getArrayIfSingleItem)(n[nr]),t)),n.Contents===""?r[ho]=[]:n[ho]!=null&&(r[ho]=_z((0,a.getArrayIfSingleItem)(n[ho]),t)),n[ir]!=null&&(r[ir]=(0,a.expectString)(n[ir])),n[or]!=null&&(r[or]=(0,a.expectString)(n[or])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[ev]!=null&&(r[ev]=(0,a.expectString)(n[ev])),n[pn]!=null&&(r[pn]=(0,a.strictParseInt32)(n[pn])),n[it]!=null&&(r[it]=(0,a.expectString)(n[it])),n[Zb]!=null&&(r[Zb]=(0,a.expectString)(n[Zb])),n[H]!=null&&(r[H]=(0,a.expectString)(n[H])),r},"de_ListObjectsCommand"),mTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[nr]=[]:n[nr]!=null&&(r[nr]=Uv((0,a.getArrayIfSingleItem)(n[nr]),t)),n.Contents===""?r[ho]=[]:n[ho]!=null&&(r[ho]=_z((0,a.getArrayIfSingleItem)(n[ho]),t)),n[je]!=null&&(r[je]=(0,a.expectString)(n[je])),n[ir]!=null&&(r[ir]=(0,a.expectString)(n[ir])),n[or]!=null&&(r[or]=(0,a.expectString)(n[or])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[Jb]!=null&&(r[Jb]=(0,a.strictParseInt32)(n[Jb])),n[pn]!=null&&(r[pn]=(0,a.strictParseInt32)(n[pn])),n[it]!=null&&(r[it]=(0,a.expectString)(n[it])),n[hr]!=null&&(r[hr]=(0,a.expectString)(n[hr])),n[H]!=null&&(r[H]=(0,a.expectString)(n[H])),n[fv]!=null&&(r[fv]=(0,a.expectString)(n[fv])),r},"de_ListObjectsV2Command"),fTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n.CommonPrefixes===""?r[nr]=[]:n[nr]!=null&&(r[nr]=Uv((0,a.getArrayIfSingleItem)(n[nr]),t)),n.DeleteMarker===""?r[E$]=[]:n[Dn]!=null&&(r[E$]=XDe((0,a.getArrayIfSingleItem)(n[Dn]),t)),n[ir]!=null&&(r[ir]=(0,a.expectString)(n[ir])),n[or]!=null&&(r[or]=(0,a.expectString)(n[or])),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[_o]!=null&&(r[_o]=(0,a.expectString)(n[_o])),n[pn]!=null&&(r[pn]=(0,a.strictParseInt32)(n[pn])),n[it]!=null&&(r[it]=(0,a.expectString)(n[it])),n[Fc]!=null&&(r[Fc]=(0,a.expectString)(n[Fc])),n[tw]!=null&&(r[tw]=(0,a.expectString)(n[tw])),n[H]!=null&&(r[H]=(0,a.expectString)(n[H])),n[Cv]!=null&&(r[Cv]=(0,a.expectString)(n[Cv])),n.Version===""?r[B$]=[]:n[N$]!=null&&(r[B$]=$Fe((0,a.getArrayIfSingleItem)(n[N$]),t)),r},"de_ListObjectVersionsCommand"),pTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Ez]:[()=>e.headers[Fv]!==void 0,()=>(0,a.expectNonNull)((0,a.parseRfc7231DateTime)(e.headers[Fv]))],[Cz]:[,e.headers[w6]],[Qe]:[,e.headers[et]]}),n=(0,a.expectNonNull)((0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t)),"body");return n[Pe]!=null&&(r[Pe]=(0,a.expectString)(n[Pe])),n[Se]!=null&&(r[Se]=(0,a.expectString)(n[Se])),n[Ic]!=null&&(r[Ic]=pz(n[Ic],t)),n[Be]!=null&&(r[Be]=(0,a.parseBoolean)(n[Be])),n[me]!=null&&(r[me]=(0,a.expectString)(n[me])),n[Ri]!=null&&(r[Ri]=(0,a.strictParseInt32)(n[Ri])),n[Lc]!=null&&(r[Lc]=(0,a.expectString)(n[Lc])),n[Oe]!=null&&(r[Oe]=bo(n[Oe],t)),n[yo]!=null&&(r[yo]=(0,a.expectString)(n[yo])),n.Part===""?r[mu]=[]:n[Tv]!=null&&(r[mu]=JFe((0,a.getArrayIfSingleItem)(n[Tv]),t)),n[he]!=null&&(r[he]=(0,a.expectString)(n[he])),n[Or]!=null&&(r[Or]=(0,a.expectString)(n[Or])),r},"de_ListPartsCommand"),gTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketAccelerateConfigurationCommand"),hTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketAclCommand"),vTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketAnalyticsConfigurationCommand"),_Te=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketCorsCommand"),yTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketEncryptionCommand"),STe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketIntelligentTieringConfigurationCommand"),ETe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketInventoryConfigurationCommand"),CTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketLifecycleConfigurationCommand"),bTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketLoggingCommand"),wTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketMetricsConfigurationCommand"),PTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketNotificationConfigurationCommand"),xTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketOwnershipControlsCommand"),OTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketPolicyCommand"),ATe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketReplicationCommand"),RTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketRequestPaymentCommand"),kTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketTaggingCommand"),ITe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketVersioningCommand"),TTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutBucketWebsiteCommand"),NTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[gr]:[,e.headers[Su]],[ze]:[,e.headers[Wv]],[Ue]:[,e.headers[Ws]],[He]:[,e.headers[Xs]],[Ge]:[,e.headers[Js]],[$e]:[,e.headers[Ys]],[Ar]:[,e.headers[Mn]],[ye]:[,e.headers[li]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[ll]:[,e.headers[hl]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectCommand"),BTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectAclCommand"),DTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectLegalHoldCommand"),FTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectLockConfigurationCommand"),LTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectRetentionCommand"),jTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[ye]:[,e.headers[li]]});return await(0,a.collectBody)(e.body,t),r},"de_PutObjectTaggingCommand"),MTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_PutPublicAccessBlockCommand"),qTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Qe]:[,e.headers[et]],[R3e]:[,e.headers[_Me]]});return await(0,a.collectBody)(e.body,t),r},"de_RestoreObjectCommand"),UTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)}),n=e.body;return r.Payload=tNe(n,t),r},"de_SelectObjectContentCommand"),HTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Ar]:[,e.headers[Mn]],[ze]:[,e.headers[Wv]],[Ue]:[,e.headers[Ws]],[He]:[,e.headers[Xs]],[Ge]:[,e.headers[Js]],[$e]:[,e.headers[Ys]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]]});return await(0,a.collectBody)(e.body,t),r},"de_UploadPartCommand"),GTe=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e),[Iz]:[,e.headers[D6]],[Ar]:[,e.headers[Mn]],[It]:[,e.headers[Ht]],[Tt]:[,e.headers[Gt]],[_r]:[,e.headers[qn]],[at]:[()=>e.headers[Rt]!==void 0,()=>(0,a.parseBoolean)(e.headers[Rt])],[Qe]:[,e.headers[et]]}),n=(0,a.expectObject)(await(0,de.parseXmlBody)(e.body,t));return r.CopyPartResult=UDe(n,t),r},"de_UploadPartCopyCommand"),$Te=d(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,t);let r=(0,a.map)({$metadata:T(e)});return await(0,a.collectBody)(e.body,t),r},"de_WriteGetObjectResponseCommand"),q=d(async(e,t)=>{let r={...e,body:await(0,de.parseXmlErrorBody)(e.body,t)},n=(0,de.loadRestXmlErrorCode)(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await YTe(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await eNe(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await VTe(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await KTe(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await XTe(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await WTe(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await JTe(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await QTe(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await ZTe(r,t);default:let i=r.body;return zTe({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),zTe=(0,a.withBaseException)(Ln),VTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new Q$({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_BucketAlreadyExistsRes"),KTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new t5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_BucketAlreadyOwnedByYouRes"),WTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body;n[Ai]!=null&&(r[Ai]=(0,a.expectString)(n[Ai])),n[he]!=null&&(r[he]=(0,a.expectString)(n[he]));let i=new a5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_InvalidObjectStateRes"),XTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new i5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_NoSuchBucketRes"),JTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new d5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_NoSuchKeyRes"),YTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new V$({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_NoSuchUploadRes"),QTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new f5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_NotFoundRes"),ZTe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new H5({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_ObjectAlreadyInActiveTierErrorRes"),eNe=d(async(e,t)=>{let r=(0,a.map)({}),n=e.body,i=new X$({$metadata:T(e),...r});return(0,a.decorateServiceException)(i,e.body)},"de_ObjectNotInActiveTierErrorRes"),tNe=d((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.Records!=null?{Records:await oNe(r.Records,t)}:r.Stats!=null?{Stats:await sNe(r.Stats,t)}:r.Progress!=null?{Progress:await iNe(r.Progress,t)}:r.Cont!=null?{Cont:await rNe(r.Cont,t)}:r.End!=null?{End:await nNe(r.End,t)}:{$unknown:e}),"de_SelectObjectContentEventStream"),rNe=d(async(e,t)=>{let r={},n=await(0,de.parseXmlBody)(e.body,t);return Object.assign(r,MDe(n,t)),r},"de_ContinuationEvent_event"),nNe=d(async(e,t)=>{let r={},n=await(0,de.parseXmlBody)(e.body,t);return Object.assign(r,QDe(n,t)),r},"de_EndEvent_event"),iNe=d(async(e,t)=>{let r={},n=await(0,de.parseXmlBody)(e.body,t);return r.Details=ZFe(n,t),r},"de_ProgressEvent_event"),oNe=d(async(e,t)=>{let r={};return r.Payload=e.body,r},"de_RecordsEvent_event"),sNe=d(async(e,t)=>{let r={},n=await(0,de.parseXmlBody)(e.body,t);return r.Details=P1e(n,t),r},"de_StatsEvent_event"),aNe=d((e,t)=>{let r=new _.XmlNode(gs);return e[ss]!=null&&r.c(_.XmlNode.of(ss,String(e[ss])).n(ss)),r},"se_AbortIncompleteMultipartUpload"),cNe=d((e,t)=>{let r=new _.XmlNode(q1e);return e[V]!=null&&r.c(_.XmlNode.of(W1e,e[V]).n(V)),r},"se_AccelerateConfiguration"),nz=d((e,t)=>{let r=new _.XmlNode(M1e);return r.lc(e,"Grants","AccessControlList",()=>oz(e[uu],t)),e[Oe]!=null&&r.c(RBe(e[Oe],t).n(Oe)),r},"se_AccessControlPolicy"),lNe=d((e,t)=>{let r=new _.XmlNode(ps);return e[Oe]!=null&&r.c(_.XmlNode.of(E3e,e[Oe]).n(Oe)),r},"se_AccessControlTranslation"),dNe=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(mw,r).n(Bt)),"se_AllowedHeaders"),uNe=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(pw,r).n(Bt)),"se_AllowedMethods"),mNe=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(hw,r).n(Bt)),"se_AllowedOrigins"),fNe=d((e,t)=>{let r=new _.XmlNode(j1e);return r.cc(e,H),r.l(e,"Tags","Tag",()=>Jc(e[vr],t)),r},"se_AnalyticsAndOperator"),pNe=d((e,t)=>{let r=new _.XmlNode(uw);return e[ce]!=null&&r.c(_.XmlNode.of(G1e,e[ce]).n(ce)),e[ae]!=null&&r.c(hNe(e[ae],t).n(ae)),e[Ds]!=null&&r.c(uDe(e[Ds],t).n(Ds)),r},"se_AnalyticsConfiguration"),gNe=d((e,t)=>{let r=new _.XmlNode(U1e);return e[_n]!=null&&r.c(vNe(e[_n],t).n(_n)),r},"se_AnalyticsExportDestination"),hNe=d((e,t)=>{let r=new _.XmlNode(H1e);return bv.visit(e,{Prefix:n=>{e[H]!=null&&r.c(_.XmlNode.of(H,n).n(H))},Tag:n=>{e[Ce]!=null&&r.c(Xc(n,t).n(Ce))},And:n=>{e[gt]!=null&&r.c(fNe(n,t).n(gt))},_:(n,i)=>{if(!(i instanceof _.XmlNode||i instanceof _.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new _.XmlNode(n).c(i))}}),r},"se_AnalyticsFilter"),vNe=d((e,t)=>{let r=new _.XmlNode(V1e);return e[fn]!=null&&r.c(_.XmlNode.of(K1e,e[fn]).n(fn)),e[_c]!=null&&r.c(_.XmlNode.of(gc,e[_c]).n(_c)),e[Pe]!=null&&r.c(_.XmlNode.of(Hv,e[Pe]).n(Pe)),r.cc(e,H),r},"se_AnalyticsS3BucketDestination"),_Ne=d((e,t)=>{let r=new _.XmlNode(X1e);return r.cc(e,gLe),e[xr]!=null&&r.c(_.XmlNode.of(nLe,e[xr]).n(xr)),r},"se_BucketInfo"),yNe=d((e,t)=>{let r=new _.XmlNode(J1e);return r.l(e,"Rules","Rule",()=>dBe(e[Sn],t)),r},"se_BucketLifecycleConfiguration"),SNe=d((e,t)=>{let r=new _.XmlNode(eLe);return e[xs]!=null&&r.c(mBe(e[xs],t).n(xs)),r},"se_BucketLoggingStatus"),ENe=d((e,t)=>{let r=new _.XmlNode(sLe);return r.l(e,"Parts","Part",()=>bNe(e[mu],t)),r},"se_CompletedMultipartUpload"),CNe=d((e,t)=>{let r=new _.XmlNode(cLe);return r.cc(e,ze),r.cc(e,Ue),r.cc(e,He),r.cc(e,Ge),r.cc(e,$e),e[wr]!=null&&r.c(_.XmlNode.of(wr,String(e[wr])).n(wr)),r},"se_CompletedPart"),bNe=d((e,t)=>e.filter(r=>r!=null).map(r=>CNe(r,t).n(Bt)),"se_CompletedPartList"),wNe=d((e,t)=>{let r=new _.XmlNode(hs);return r.cc(e,Jh),r.cc(e,Qh),r},"se_Condition"),PNe=d((e,t)=>{let r=new _.XmlNode(aLe);return r.l(e,"CORSRules","CORSRule",()=>ONe(e[Sw],t)),r},"se_CORSConfiguration"),xNe=d((e,t)=>{let r=new _.XmlNode(yw);return r.cc(e,ct),r.l(e,"AllowedHeaders","AllowedHeader",()=>dNe(e[fw],t)),r.l(e,"AllowedMethods","AllowedMethod",()=>uNe(e[gw],t)),r.l(e,"AllowedOrigins","AllowedOrigin",()=>mNe(e[vw],t)),r.l(e,"ExposeHeaders","ExposeHeader",()=>qNe(e[Ew],t)),e[ls]!=null&&r.c(_.XmlNode.of(ls,String(e[ls])).n(ls)),r},"se_CORSRule"),ONe=d((e,t)=>e.filter(r=>r!=null).map(r=>xNe(r,t).n(Bt)),"se_CORSRules"),ANe=d((e,t)=>{let r=new _.XmlNode(oLe);return e[Dc]!=null&&r.c(_.XmlNode.of(Y1e,e[Dc]).n(Dc)),e[Ps]!=null&&r.c(uBe(e[Ps],t).n(Ps)),e[Pe]!=null&&r.c(_Ne(e[Pe],t).n(Pe)),r},"se_CreateBucketConfiguration"),RNe=d((e,t)=>{let r=new _.XmlNode(dLe);return r.cc(e,bLe),r.cc(e,fLe),r.cc(e,Gz),r.cc(e,iP),r.cc(e,Fz),r.cc(e,Hz),e[Uh]!=null&&r.c(_.XmlNode.of(Uh,String(e[Uh])).n(Uh)),r},"se_CSVInput"),kNe=d((e,t)=>{let r=new _.XmlNode(uLe);return r.cc(e,x3e),r.cc(e,Gz),r.cc(e,iP),r.cc(e,Fz),r.cc(e,Hz),r},"se_CSVOutput"),INe=d((e,t)=>{let r=new _.XmlNode(_s);return e[gn]!=null&&r.c(_.XmlNode.of(Mz,e[gn]).n(gn)),e[Re]!=null&&r.c(_.XmlNode.of(Re,String(e[Re])).n(Re)),e[ms]!=null&&r.c(_.XmlNode.of(ms,String(e[ms])).n(ms)),r},"se_DefaultRetention"),TNe=d((e,t)=>{let r=new _.XmlNode(hLe);return r.l(e,"Objects","Object",()=>bBe(e[b3e],t)),e[$h]!=null&&r.c(_.XmlNode.of($h,String(e[$h])).n($h)),r},"se_Delete"),NNe=d((e,t)=>{let r=new _.XmlNode(vs);return e[V]!=null&&r.c(_.XmlNode.of(pLe,e[V]).n(V)),r},"se_DeleteMarkerReplication"),BNe=d((e,t)=>{let r=new _.XmlNode(At);return e[Pe]!=null&&r.c(_.XmlNode.of(Hv,e[Pe]).n(Pe)),e[vc]!=null&&r.c(_.XmlNode.of(gc,e[vc]).n(vc)),r.cc(e,he),e[ps]!=null&&r.c(lNe(e[ps],t).n(ps)),e[Ss]!=null&&r.c(FNe(e[Ss],t).n(Ss)),e[Ns]!=null&&r.c(VBe(e[Ns],t).n(Ns)),e[Os]!=null&&r.c(pBe(e[Os],t).n(Os)),r},"se_Destination"),DNe=d((e,t)=>{let r=new _.XmlNode(ni);return e[zb]!=null&&r.c(_.XmlNode.of(Ar,e[zb]).n(zb)),e[Yb]!=null&&r.c(_.XmlNode.of(_r,e[Yb]).n(Yb)),r.cc(e,VLe),r},"se_Encryption"),FNe=d((e,t)=>{let r=new _.XmlNode(Ss);return r.cc(e,cv),r},"se_EncryptionConfiguration"),LNe=d((e,t)=>{let r=new _.XmlNode(Es);return e[me]!=null&&r.c(_.XmlNode.of(nP,e[me]).n(me)),r},"se_ErrorDocument"),jNe=d((e,t)=>new _.XmlNode(ys),"se_EventBridgeConfiguration"),Ww=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(Us,r).n(Bt)),"se_EventList"),MNe=d((e,t)=>{let r=new _.XmlNode(Cs);return e[V]!=null&&r.c(_.XmlNode.of(SLe,e[V]).n(V)),r},"se_ExistingObjectReplication"),qNe=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(Cw,r).n(Bt)),"se_ExposeHeaders"),UNe=d((e,t)=>{let r=new _.XmlNode(bw);return e[it]!=null&&r.c(_.XmlNode.of(PLe,e[it]).n(it)),e[Fr]!=null&&r.c(_.XmlNode.of(xLe,e[Fr]).n(Fr)),r},"se_FilterRule"),HNe=d((e,t)=>e.filter(r=>r!=null).map(r=>UNe(r,t).n(Bt)),"se_FilterRuleList"),GNe=d((e,t)=>{let r=new _.XmlNode(Xh);return r.cc(e,Qz),r},"se_GlacierJobParameters"),$Ne=d((e,t)=>{let r=new _.XmlNode(Ii);if(e[Dr]!=null){let n=iz(e[Dr],t).n(Dr);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return r.cc(e,si),r},"se_Grant"),iz=d((e,t)=>{let r=new _.XmlNode(Dr);return r.cc(e,Fn),r.cc(e,Wh),r.cc(e,ct),r.cc(e,Ev),r.a("xsi:type",e[xr]),r},"se_Grantee"),oz=d((e,t)=>e.filter(r=>r!=null).map(r=>$Ne(r,t).n(Ii)),"se_Grants"),zNe=d((e,t)=>{let r=new _.XmlNode(bs);return r.cc(e,hv),r},"se_IndexDocument"),sz=d((e,t)=>{let r=new _.XmlNode(ws);return e[wc]!=null&&r.c(RNe(e[wc],t).n(wc)),r.cc(e,mLe),e[Tc]!=null&&r.c(rBe(e[Tc],t).n(Tc)),e[iw]!=null&&r.c(NBe(e[iw],t).n(iw)),r},"se_InputSerialization"),VNe=d((e,t)=>{let r=new _.XmlNode(LLe);return r.cc(e,H),r.l(e,"Tags","Tag",()=>Jc(e[vr],t)),r},"se_IntelligentTieringAndOperator"),KNe=d((e,t)=>{let r=new _.XmlNode(Ow);return e[ce]!=null&&r.c(_.XmlNode.of(ULe,e[ce]).n(ce)),e[ae]!=null&&r.c(WNe(e[ae],t).n(ae)),e[V]!=null&&r.c(_.XmlNode.of(HLe,e[V]).n(V)),r.l(e,"Tierings","Tiering",()=>vDe(e[Hw],t)),r},"se_IntelligentTieringConfiguration"),WNe=d((e,t)=>{let r=new _.XmlNode(qLe);return r.cc(e,H),e[Ce]!=null&&r.c(Xc(e[Ce],t).n(Ce)),e[gt]!=null&&r.c(VNe(e[gt],t).n(gt)),r},"se_IntelligentTieringFilter"),XNe=d((e,t)=>{let r=new _.XmlNode(xw);return e[At]!=null&&r.c(JNe(e[At],t).n(At)),e[cs]!=null&&r.c(_.XmlNode.of(cs,String(e[cs])).n(cs)),e[ae]!=null&&r.c(QNe(e[ae],t).n(ae)),e[ce]!=null&&r.c(_.XmlNode.of(TLe,e[ce]).n(ce)),e[Rc]!=null&&r.c(_.XmlNode.of(NLe,e[Rc]).n(Rc)),r.lc(e,"OptionalFields","OptionalFields",()=>ZNe(e[mc],t)),e[Gc]!=null&&r.c(tBe(e[Gc],t).n(Gc)),r},"se_InventoryConfiguration"),JNe=d((e,t)=>{let r=new _.XmlNode(OLe);return e[_n]!=null&&r.c(eBe(e[_n],t).n(_n)),r},"se_InventoryDestination"),YNe=d((e,t)=>{let r=new _.XmlNode(ALe);return e[jw]!=null&&r.c(dDe(e[jw],t).n(Dv)),e[Lw]!=null&&r.c(cDe(e[Lw],t).n(Bv)),r},"se_InventoryEncryption"),QNe=d((e,t)=>{let r=new _.XmlNode(RLe);return r.cc(e,H),r},"se_InventoryFilter"),ZNe=d((e,t)=>e.filter(r=>r!=null).map(r=>_.XmlNode.of(BLe,r).n(Pw)),"se_InventoryOptionalFields"),eBe=d((e,t)=>{let r=new _.XmlNode(DLe);return r.cc(e,gc),e[Pe]!=null&&r.c(_.XmlNode.of(Hv,e[Pe]).n(Pe)),e[fn]!=null&&r.c(_.XmlNode.of(kLe,e[fn]).n(fn)),r.cc(e,H),e[ni]!=null&&r.c(YNe(e[ni],t).n(ni)),r},"se_InventoryS3BucketDestination"),tBe=d((e,t)=>{let r=new _.XmlNode(FLe);return e[Oc]!=null&&r.c(_.XmlNode.of(ILe,e[Oc]).n(Oc)),r},"se_InventorySchedule"),rBe=d((e,t)=>{let r=new _.XmlNode(GLe);return e[xr]!=null&&r.c(_.XmlNode.of(zLe,e[xr]).n(xr)),r},"se_JSONInput"),nBe=d((e,t)=>{let r=new _.XmlNode($Le);return r.cc(e,iP),r},"se_JSONOutput"),iBe=d((e,t)=>{let r=new _.XmlNode(WLe);return e[ce]!=null&&r.c(_.XmlNode.of(rP,e[ce]).n(ce)),e[Zh]!=null&&r.c(_.XmlNode.of(Zh,e[Zh]).n(_w)),r.l(e,"Events","Event",()=>Ww(e[ki],t)),e[ae]!=null&&r.c(Xw(e[ae],t).n(ae)),r},"se_LambdaFunctionConfiguration"),oBe=d((e,t)=>e.filter(r=>r!=null).map(r=>iBe(r,t).n(Bt)),"se_LambdaFunctionConfigurationList"),sBe=d((e,t)=>{let r=new _.XmlNode(KLe);return e[pr]!=null&&r.c(_.XmlNode.of(pr,(0,a.serializeDateTime)(e[pr]).toString()).n(pr)),e[Re]!=null&&r.c(_.XmlNode.of(Re,String(e[Re])).n(Re)),e[as]!=null&&r.c(_.XmlNode.of(as,String(e[as])).n(as)),r},"se_LifecycleExpiration"),aBe=d((e,t)=>{let r=new _.XmlNode(QLe);return e[gr]!=null&&r.c(sBe(e[gr],t).n(gr)),r.cc(e,ct),r.cc(e,H),e[ae]!=null&&r.c(lBe(e[ae],t).n(ae)),e[V]!=null&&r.c(_.XmlNode.of(CLe,e[V]).n(V)),r.l(e,"Transitions","Transition",()=>EDe(e[zw],t)),r.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>SBe(e[Iw],t)),e[As]!=null&&r.c(_Be(e[As],t).n(As)),e[gs]!=null&&r.c(aNe(e[gs],t).n(gs)),r},"se_LifecycleRule"),cBe=d((e,t)=>{let r=new _.XmlNode(ZLe);return r.cc(e,H),r.l(e,"Tags","Tag",()=>Jc(e[vr],t)),e[ii]!=null&&r.c(_.XmlNode.of(qz,String(e[ii])).n(ii)),e[oi]!=null&&r.c(_.XmlNode.of(Uz,String(e[oi])).n(oi)),r},"se_LifecycleRuleAndOperator"),lBe=d((e,t)=>{let r=new _.XmlNode(e3e);return wv.visit(e,{Prefix:n=>{e[H]!=null&&r.c(_.XmlNode.of(H,n).n(H))},Tag:n=>{e[Ce]!=null&&r.c(Xc(n,t).n(Ce))},ObjectSizeGreaterThan:n=>{e[ii]!=null&&r.c(_.XmlNode.of(qz,String(n)).n(ii))},ObjectSizeLessThan:n=>{e[oi]!=null&&r.c(_.XmlNode.of(Uz,String(n)).n(oi))},And:n=>{e[gt]!=null&&r.c(cBe(n,t).n(gt))},_:(n,i)=>{if(!(i instanceof _.XmlNode||i instanceof _.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new _.XmlNode(n).c(i))}}),r},"se_LifecycleRuleFilter"),dBe=d((e,t)=>e.filter(r=>r!=null).map(r=>aBe(r,t).n(Bt)),"se_LifecycleRules"),uBe=d((e,t)=>{let r=new _.XmlNode(XLe);return e[xr]!=null&&r.c(_.XmlNode.of(t3e,e[xr]).n(xr)),e[it]!=null&&r.c(_.XmlNode.of(JLe,e[it]).n(it)),r},"se_LocationInfo"),mBe=d((e,t)=>{let r=new _.XmlNode(xs);return r.cc(e,_v),r.lc(e,"TargetGrants","TargetGrants",()=>pDe(e[pc],t)),r.cc(e,yv),e[qs]!=null&&r.c(gDe(e[qs],t).n(qs)),r},"se_LoggingEnabled"),fBe=d((e,t)=>{let r=new _.XmlNode(jz);return e[it]!=null&&r.c(_.XmlNode.of(c3e,e[it]).n(it)),e[Fr]!=null&&r.c(_.XmlNode.of(d3e,e[Fr]).n(Fr)),r},"se_MetadataEntry"),pBe=d((e,t)=>{let r=new _.XmlNode(Os);return e[V]!=null&&r.c(_.XmlNode.of(l3e,e[V]).n(V)),e[xc]!=null&&r.c(cz(e[xc],t).n(xc)),r},"se_Metrics"),gBe=d((e,t)=>{let r=new _.XmlNode(r3e);return r.cc(e,H),r.l(e,"Tags","Tag",()=>Jc(e[vr],t)),r.cc(e,Oi),r},"se_MetricsAndOperator"),hBe=d((e,t)=>{let r=new _.XmlNode(Rw);return e[ce]!=null&&r.c(_.XmlNode.of(a3e,e[ce]).n(ce)),e[ae]!=null&&r.c(vBe(e[ae],t).n(ae)),r},"se_MetricsConfiguration"),vBe=d((e,t)=>{let r=new _.XmlNode(s3e);return Pv.visit(e,{Prefix:n=>{e[H]!=null&&r.c(_.XmlNode.of(H,n).n(H))},Tag:n=>{e[Ce]!=null&&r.c(Xc(n,t).n(Ce))},AccessPointArn:n=>{e[Oi]!=null&&r.c(_.XmlNode.of(Oi,n).n(Oi))},And:n=>{e[gt]!=null&&r.c(gBe(n,t).n(gt))},_:(n,i)=>{if(!(i instanceof _.XmlNode||i instanceof _.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new _.XmlNode(n).c(i))}}),r},"se_MetricsFilter"),_Be=d((e,t)=>{let r=new _.XmlNode(As);return e[hn]!=null&&r.c(_.XmlNode.of(Re,String(e[hn])).n(hn)),e[vn]!=null&&r.c(_.XmlNode.of(e6,String(e[vn])).n(vn)),r},"se_NoncurrentVersionExpiration"),yBe=d((e,t)=>{let r=new _.XmlNode(Tw);return e[hn]!=null&&r.c(_.XmlNode.of(Re,String(e[hn])).n(hn)),e[he]!=null&&r.c(_.XmlNode.of(Yz,e[he]).n(he)),e[vn]!=null&&r.c(_.XmlNode.of(e6,String(e[vn])).n(vn)),r},"se_NoncurrentVersionTransition"),SBe=d((e,t)=>e.filter(r=>r!=null).map(r=>yBe(r,t).n(Bt)),"se_NoncurrentVersionTransitionList"),EBe=d((e,t)=>{let r=new _.XmlNode(u3e);return r.l(e,"TopicConfigurations","TopicConfiguration",()=>yDe(e[Uw],t)),r.l(e,"QueueConfigurations","QueueConfiguration",()=>LBe(e[Bw],t)),r.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>oBe(e[Aw],t)),e[ys]!=null&&r.c(jNe(e[ys],t).n(ys)),r},"se_NotificationConfiguration"),Xw=d((e,t)=>{let r=new _.XmlNode(m3e);return e[me]!=null&&r.c(QBe(e[me],t).n(Fw)),r},"se_NotificationConfigurationFilter"),CBe=d((e,t)=>{let r=new _.XmlNode(h3e);return e[me]!=null&&r.c(_.XmlNode.of(nP,e[me]).n(me)),e[ye]!=null&&r.c(_.XmlNode.of(C3e,e[ye]).n(ye)),r},"se_ObjectIdentifier"),bBe=d((e,t)=>e.filter(r=>r!=null).map(r=>CBe(r,t).n(Bt)),"se_ObjectIdentifierList"),wBe=d((e,t)=>{let r=new _.XmlNode(v3e);return r.cc(e,iv),e[Pr]!=null&&r.c(OBe(e[Pr],t).n(Pr)),r},"se_ObjectLockConfiguration"),PBe=d((e,t)=>{let r=new _.XmlNode(_3e);return e[V]!=null&&r.c(_.XmlNode.of(Vs,e[V]).n(V)),r},"se_ObjectLockLegalHold"),xBe=d((e,t)=>{let r=new _.XmlNode(y3e);return e[gn]!=null&&r.c(_.XmlNode.of(Mz,e[gn]).n(gn)),e[Uc]!=null&&r.c(_.XmlNode.of(pr,(0,a.serializeDateTime)(e[Uc]).toString()).n(Uc)),r},"se_ObjectLockRetention"),OBe=d((e,t)=>{let r=new _.XmlNode(S3e);return e[_s]!=null&&r.c(INe(e[_s],t).n(_s)),r},"se_ObjectLockRule"),ABe=d((e,t)=>{let r=new _.XmlNode(nv);return e[cw]!=null&&r.c(ZBe(e[cw],t).n(cw)),r},"se_OutputLocation"),az=d((e,t)=>{let r=new _.XmlNode(Rs);return e[wc]!=null&&r.c(kNe(e[wc],t).n(wc)),e[Tc]!=null&&r.c(nBe(e[Tc],t).n(Tc)),r},"se_OutputSerialization"),RBe=d((e,t)=>{let r=new _.XmlNode(Oe);return r.cc(e,Fn),r.cc(e,ct),r},"se_Owner"),kBe=d((e,t)=>{let r=new _.XmlNode(f3e);return r.l(e,"Rules","Rule",()=>TBe(e[Sn],t)),r},"se_OwnershipControls"),IBe=d((e,t)=>{let r=new _.XmlNode(g3e);return r.cc(e,du),r},"se_OwnershipControlsRule"),TBe=d((e,t)=>e.filter(r=>r!=null).map(r=>IBe(r,t).n(Bt)),"se_OwnershipControlsRules"),NBe=d((e,t)=>new _.XmlNode(P3e),"se_ParquetInput"),BBe=d((e,t)=>{let r=new _.XmlNode(ks);return r.cc(e,ov),r},"se_PartitionedPrefix"),DBe=d((e,t)=>{let r=new _.XmlNode(w3e);return e[Sc]!=null&&r.c(_.XmlNode.of(zh,String(e[Sc])).n(Sc)),e[kc]!=null&&r.c(_.XmlNode.of(zh,String(e[kc])).n(kc)),e[Ec]!=null&&r.c(_.XmlNode.of(zh,String(e[Ec])).n(Ec)),e[Mc]!=null&&r.c(_.XmlNode.of(zh,String(e[Mc])).n(Mc)),r},"se_PublicAccessBlockConfiguration"),FBe=d((e,t)=>{let r=new _.XmlNode(Nw);return e[ce]!=null&&r.c(_.XmlNode.of(rP,e[ce]).n(ce)),e[av]!=null&&r.c(_.XmlNode.of(av,e[av]).n(Dw)),r.l(e,"Events","Event",()=>Ww(e[ki],t)),e[ae]!=null&&r.c(Xw(e[ae],t).n(ae)),r},"se_QueueConfiguration"),LBe=d((e,t)=>e.filter(r=>r!=null).map(r=>FBe(r,t).n(Bt)),"se_QueueConfigurationList"),jBe=d((e,t)=>{let r=new _.XmlNode(Bs);return r.cc(e,vo),r.cc(e,Yh),r.cc(e,So),r.cc(e,lv),r.cc(e,dv),r},"se_Redirect"),MBe=d((e,t)=>{let r=new _.XmlNode(Is);return r.cc(e,vo),r.cc(e,So),r},"se_RedirectAllRequestsTo"),qBe=d((e,t)=>{let r=new _.XmlNode(Ts);return e[V]!=null&&r.c(_.XmlNode.of(A3e,e[V]).n(V)),r},"se_ReplicaModifications"),UBe=d((e,t)=>{let r=new _.XmlNode(O3e);return r.cc(e,mv),r.l(e,"Rules","Rule",()=>zBe(e[Sn],t)),r},"se_ReplicationConfiguration"),HBe=d((e,t)=>{let r=new _.XmlNode(F3e);return r.cc(e,ct),e[us]!=null&&r.c(_.XmlNode.of(us,String(e[us])).n(us)),r.cc(e,H),e[ae]!=null&&r.c($Be(e[ae],t).n(ae)),e[V]!=null&&r.c(_.XmlNode.of(B3e,e[V]).n(V)),e[js]!=null&&r.c(aDe(e[js],t).n(js)),e[Cs]!=null&&r.c(MNe(e[Cs],t).n(Cs)),e[At]!=null&&r.c(BNe(e[At],t).n(At)),e[vs]!=null&&r.c(NNe(e[vs],t).n(vs)),r},"se_ReplicationRule"),GBe=d((e,t)=>{let r=new _.XmlNode(T3e);return r.cc(e,H),r.l(e,"Tags","Tag",()=>Jc(e[vr],t)),r},"se_ReplicationRuleAndOperator"),$Be=d((e,t)=>{let r=new _.XmlNode(N3e);return xv.visit(e,{Prefix:n=>{e[H]!=null&&r.c(_.XmlNode.of(H,n).n(H))},Tag:n=>{e[Ce]!=null&&r.c(Xc(n,t).n(Ce))},And:n=>{e[gt]!=null&&r.c(GBe(n,t).n(gt))},_:(n,i)=>{if(!(i instanceof _.XmlNode||i instanceof _.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new _.XmlNode(n).c(i))}}),r},"se_ReplicationRuleFilter"),zBe=d((e,t)=>e.filter(r=>r!=null).map(r=>HBe(r,t).n(Bt)),"se_ReplicationRules"),VBe=d((e,t)=>{let r=new _.XmlNode(Ns);return e[V]!=null&&r.c(_.XmlNode.of(M3e,e[V]).n(V)),e[$c]!=null&&r.c(cz(e[$c],t).n($c)),r},"se_ReplicationTime"),cz=d((e,t)=>{let r=new _.XmlNode(q3e);return e[ds]!=null&&r.c(_.XmlNode.of(ds,String(e[ds])).n(ds)),r},"se_ReplicationTimeValue"),KBe=d((e,t)=>{let r=new _.XmlNode(k3e);return r.cc(e,sv),r},"se_RequestPaymentConfiguration"),WBe=d((e,t)=>{let r=new _.XmlNode(uv);return e[Vb]!=null&&r.c(_.XmlNode.of(ELe,String(e[Vb])).n(Vb)),r},"se_RequestProgress"),XBe=d((e,t)=>{let r=new _.XmlNode(L3e);return e[Re]!=null&&r.c(_.XmlNode.of(Re,String(e[Re])).n(Re)),e[Xh]!=null&&r.c(GNe(e[Xh],t).n(Xh)),e[xr]!=null&&r.c(_.XmlNode.of(D3e,e[xr]).n(xr)),r.cc(e,Qz),r.cc(e,vLe),e[pv]!=null&&r.c(tDe(e[pv],t).n(pv)),e[nv]!=null&&r.c(ABe(e[nv],t).n(nv)),r},"se_RestoreRequest"),JBe=d((e,t)=>{let r=new _.XmlNode(Nv);return e[hs]!=null&&r.c(wNe(e[hs],t).n(hs)),e[Bs]!=null&&r.c(jBe(e[Bs],t).n(Bs)),r},"se_RoutingRule"),YBe=d((e,t)=>e.filter(r=>r!=null).map(r=>JBe(r,t).n(Nv)),"se_RoutingRules"),QBe=d((e,t)=>{let r=new _.XmlNode($3e);return r.l(e,"FilterRules","FilterRule",()=>HNe(e[ww],t)),r},"se_S3KeyFilter"),ZBe=d((e,t)=>{let r=new _.XmlNode(z3e);return r.cc(e,Hv),e[H]!=null&&r.c(_.XmlNode.of(YLe,e[H]).n(H)),e[ni]!=null&&r.c(DNe(e[ni],t).n(ni)),e[qb]!=null&&r.c(_.XmlNode.of(p3e,e[qb]).n(qb)),r.lc(e,"AccessControlList","AccessControlList",()=>oz(e[fs],t)),e[Ms]!=null&&r.c(Jw(e[Ms],t).n(Ms)),r.lc(e,"UserMetadata","UserMetadata",()=>CDe(e[eje],t)),r.cc(e,he),r},"se_S3Location"),eDe=d((e,t)=>{let r=new _.XmlNode(gv);return e[Vh]!=null&&r.c(_.XmlNode.of(Vh,String(e[Vh])).n(Vh)),e[Gh]!=null&&r.c(_.XmlNode.of(Gh,String(e[Gh])).n(Gh)),r},"se_ScanRange"),tDe=d((e,t)=>{let r=new _.XmlNode(pv);return e[ws]!=null&&r.c(sz(e[ws],t).n(ws)),r.cc(e,Bz),r.cc(e,Dz),e[Rs]!=null&&r.c(az(e[Rs],t).n(Rs)),r},"se_SelectParameters"),rDe=d((e,t)=>{let r=new _.XmlNode(W3e);return e[Hc]!=null&&r.c(_.XmlNode.of(Ar,e[Hc]).n(Hc)),e[Bc]!=null&&r.c(_.XmlNode.of(_r,e[Bc]).n(Bc)),r},"se_ServerSideEncryptionByDefault"),nDe=d((e,t)=>{let r=new _.XmlNode(X3e);return r.l(e,"Rules","Rule",()=>oDe(e[Sn],t)),r},"se_ServerSideEncryptionConfiguration"),iDe=d((e,t)=>{let r=new _.XmlNode(J3e);return e[hc]!=null&&r.c(rDe(e[hc],t).n(hc)),e[at]!=null&&r.c(_.XmlNode.of(at,String(e[at])).n(at)),r},"se_ServerSideEncryptionRule"),oDe=d((e,t)=>e.filter(r=>r!=null).map(r=>iDe(r,t).n(Bt)),"se_ServerSideEncryptionRules"),sDe=d((e,t)=>new _.XmlNode(Ls),"se_SimplePrefix"),aDe=d((e,t)=>{let r=new _.XmlNode(js);return e[Fs]!=null&&r.c(lDe(e[Fs],t).n(Fs)),e[Ts]!=null&&r.c(qBe(e[Ts],t).n(Ts)),r},"se_SourceSelectionCriteria"),cDe=d((e,t)=>{let r=new _.XmlNode(Bv);return e[Nc]!=null&&r.c(_.XmlNode.of(_r,e[Nc]).n(Nc)),r},"se_SSEKMS"),lDe=d((e,t)=>{let r=new _.XmlNode(Fs);return e[V]!=null&&r.c(_.XmlNode.of(G3e,e[V]).n(V)),r},"se_SseKmsEncryptedObjects"),dDe=d((e,t)=>new _.XmlNode(Dv),"se_SSES3"),uDe=d((e,t)=>{let r=new _.XmlNode(Ds);return e[Pc]!=null&&r.c(mDe(e[Pc],t).n(Pc)),r},"se_StorageClassAnalysis"),mDe=d((e,t)=>{let r=new _.XmlNode(U3e);return e[jc]!=null&&r.c(_.XmlNode.of(H3e,e[jc]).n(jc)),e[At]!=null&&r.c(gNe(e[At],t).n(At)),r},"se_StorageClassAnalysisDataExport"),Xc=d((e,t)=>{let r=new _.XmlNode(Ce);return e[me]!=null&&r.c(_.XmlNode.of(nP,e[me]).n(me)),r.cc(e,Fr),r},"se_Tag"),Jw=d((e,t)=>{let r=new _.XmlNode(Ms);return r.lc(e,"TagSet","TagSet",()=>Jc(e[Bn],t)),r},"se_Tagging"),Jc=d((e,t)=>e.filter(r=>r!=null).map(r=>Xc(r,t).n(Ce)),"se_TagSet"),fDe=d((e,t)=>{let r=new _.XmlNode(Q3e);if(e[Dr]!=null){let n=iz(e[Dr],t).n(Dr);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return e[si]!=null&&r.c(_.XmlNode.of(Z1e,e[si]).n(si)),r},"se_TargetGrant"),pDe=d((e,t)=>e.filter(r=>r!=null).map(r=>fDe(r,t).n(Ii)),"se_TargetGrants"),gDe=d((e,t)=>{let r=new _.XmlNode(qs);return e[Ls]!=null&&r.c(sDe(e[Ls],t).n(Ls)),e[ks]!=null&&r.c(BBe(e[ks],t).n(ks)),r},"se_TargetObjectKeyFormat"),hDe=d((e,t)=>{let r=new _.XmlNode(Gw);return e[Re]!=null&&r.c(_.XmlNode.of(MLe,String(e[Re])).n(Re)),e[Ai]!=null&&r.c(_.XmlNode.of(jLe,e[Ai]).n(Ai)),r},"se_Tiering"),vDe=d((e,t)=>e.filter(r=>r!=null).map(r=>hDe(r,t).n(Bt)),"se_TieringList"),_De=d((e,t)=>{let r=new _.XmlNode(qw);return e[ce]!=null&&r.c(_.XmlNode.of(rP,e[ce]).n(ce)),e[vv]!=null&&r.c(_.XmlNode.of(vv,e[vv]).n($w)),r.l(e,"Events","Event",()=>Ww(e[ki],t)),e[ae]!=null&&r.c(Xw(e[ae],t).n(ae)),r},"se_TopicConfiguration"),yDe=d((e,t)=>e.filter(r=>r!=null).map(r=>_De(r,t).n(Bt)),"se_TopicConfigurationList"),SDe=d((e,t)=>{let r=new _.XmlNode(Vw);return e[pr]!=null&&r.c(_.XmlNode.of(pr,(0,a.serializeDateTime)(e[pr]).toString()).n(pr)),e[Re]!=null&&r.c(_.XmlNode.of(Re,String(e[Re])).n(Re)),e[he]!=null&&r.c(_.XmlNode.of(Yz,e[he]).n(he)),r},"se_Transition"),EDe=d((e,t)=>e.filter(r=>r!=null).map(r=>SDe(r,t).n(Bt)),"se_TransitionList"),CDe=d((e,t)=>e.filter(r=>r!=null).map(r=>fBe(r,t).n(jz)),"se_UserMetadata"),bDe=d((e,t)=>{let r=new _.XmlNode(tje);return e[tv]!=null&&r.c(_.XmlNode.of(tv,e[tv]).n(kw)),e[V]!=null&&r.c(_.XmlNode.of(iLe,e[V]).n(V)),r},"se_VersioningConfiguration"),wDe=d((e,t)=>{let r=new _.XmlNode(rje);return e[Es]!=null&&r.c(LNe(e[Es],t).n(Es)),e[bs]!=null&&r.c(zNe(e[bs],t).n(bs)),e[Is]!=null&&r.c(MBe(e[Is],t).n(Is)),r.lc(e,"RoutingRules","RoutingRules",()=>YBe(e[fc],t)),r},"se_WebsiteConfiguration"),PDe=d((e,t)=>{let r={};return e[ss]!=null&&(r[ss]=(0,a.strictParseInt32)(e[ss])),r},"de_AbortIncompleteMultipartUpload"),xDe=d((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=(0,a.expectString)(e[Oe])),r},"de_AccessControlTranslation"),ODe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_AllowedHeaders"),ADe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_AllowedMethods"),RDe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_AllowedOrigins"),kDe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Tag===""?r[vr]=[]:e[Ce]!=null&&(r[vr]=zs((0,a.getArrayIfSingleItem)(e[Ce]),t)),r},"de_AnalyticsAndOperator"),lz=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e.Filter===""||e[ae]!=null&&(r[ae]=NDe((0,a.expectUnion)(e[ae]),t)),e[Ds]!=null&&(r[Ds]=x1e(e[Ds],t)),r},"de_AnalyticsConfiguration"),IDe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>lz(r,t)),"de_AnalyticsConfigurationList"),TDe=d((e,t)=>{let r={};return e[_n]!=null&&(r[_n]=BDe(e[_n],t)),r},"de_AnalyticsExportDestination"),NDe=d((e,t)=>e[H]!=null?{Prefix:(0,a.expectString)(e[H])}:e[Ce]!=null?{Tag:Yc(e[Ce],t)}:e[gt]!=null?{And:kDe(e[gt],t)}:{$unknown:Object.entries(e)[0]},"de_AnalyticsFilter"),BDe=d((e,t)=>{let r={};return e[fn]!=null&&(r[fn]=(0,a.expectString)(e[fn])),e[_c]!=null&&(r[_c]=(0,a.expectString)(e[_c])),e[Pe]!=null&&(r[Pe]=(0,a.expectString)(e[Pe])),e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),r},"de_AnalyticsS3BucketDestination"),DDe=d((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,a.expectString)(e[it])),e[Ub]!=null&&(r[Ub]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[Ub]))),r},"de_Bucket"),dz=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>DDe(r,t)),"de_Buckets"),FDe=d((e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,a.expectString)(e[Ue])),e[He]!=null&&(r[He]=(0,a.expectString)(e[He])),e[Ge]!=null&&(r[Ge]=(0,a.expectString)(e[Ge])),e[$e]!=null&&(r[$e]=(0,a.expectString)(e[$e])),r},"de_Checksum"),uz=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_ChecksumAlgorithmList"),LDe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),r},"de_CommonPrefix"),Uv=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>LDe(r,t)),"de_CommonPrefixList"),jDe=d((e,t)=>{let r={};return e[Jh]!=null&&(r[Jh]=(0,a.expectString)(e[Jh])),e[Qh]!=null&&(r[Qh]=(0,a.expectString)(e[Qh])),r},"de_Condition"),MDe=d((e,t)=>({}),"de_ContinuationEvent"),qDe=d((e,t)=>{let r={};return e[ze]!=null&&(r[ze]=(0,a.expectString)(e[ze])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),e[Ue]!=null&&(r[Ue]=(0,a.expectString)(e[Ue])),e[He]!=null&&(r[He]=(0,a.expectString)(e[He])),e[Ge]!=null&&(r[Ge]=(0,a.expectString)(e[Ge])),e[$e]!=null&&(r[$e]=(0,a.expectString)(e[$e])),r},"de_CopyObjectResult"),UDe=d((e,t)=>{let r={};return e[ze]!=null&&(r[ze]=(0,a.expectString)(e[ze])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),e[Ue]!=null&&(r[Ue]=(0,a.expectString)(e[Ue])),e[He]!=null&&(r[He]=(0,a.expectString)(e[He])),e[Ge]!=null&&(r[Ge]=(0,a.expectString)(e[Ge])),e[$e]!=null&&(r[$e]=(0,a.expectString)(e[$e])),r},"de_CopyPartResult"),HDe=d((e,t)=>{let r={};return e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),e.AllowedHeader===""?r[fw]=[]:e[mw]!=null&&(r[fw]=ODe((0,a.getArrayIfSingleItem)(e[mw]),t)),e.AllowedMethod===""?r[gw]=[]:e[pw]!=null&&(r[gw]=ADe((0,a.getArrayIfSingleItem)(e[pw]),t)),e.AllowedOrigin===""?r[vw]=[]:e[hw]!=null&&(r[vw]=RDe((0,a.getArrayIfSingleItem)(e[hw]),t)),e.ExposeHeader===""?r[Ew]=[]:e[Cw]!=null&&(r[Ew]=iFe((0,a.getArrayIfSingleItem)(e[Cw]),t)),e[ls]!=null&&(r[ls]=(0,a.strictParseInt32)(e[ls])),r},"de_CORSRule"),GDe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>HDe(r,t)),"de_CORSRules"),$De=d((e,t)=>{let r={};return e[gn]!=null&&(r[gn]=(0,a.expectString)(e[gn])),e[Re]!=null&&(r[Re]=(0,a.strictParseInt32)(e[Re])),e[ms]!=null&&(r[ms]=(0,a.strictParseInt32)(e[ms])),r},"de_DefaultRetention"),zDe=d((e,t)=>{let r={};return e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[ye]!=null&&(r[ye]=(0,a.expectString)(e[ye])),e[Dn]!=null&&(r[Dn]=(0,a.parseBoolean)(e[Dn])),e[$b]!=null&&(r[$b]=(0,a.expectString)(e[$b])),r},"de_DeletedObject"),VDe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>zDe(r,t)),"de_DeletedObjects"),KDe=d((e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=bo(e[Oe],t)),e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[ye]!=null&&(r[ye]=(0,a.expectString)(e[ye])),e[Ac]!=null&&(r[Ac]=(0,a.parseBoolean)(e[Ac])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),r},"de_DeleteMarkerEntry"),WDe=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),r},"de_DeleteMarkerReplication"),XDe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>KDe(r,t)),"de_DeleteMarkers"),JDe=d((e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,a.expectString)(e[Pe])),e[vc]!=null&&(r[vc]=(0,a.expectString)(e[vc])),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),e[ps]!=null&&(r[ps]=xDe(e[ps],t)),e[Ss]!=null&&(r[Ss]=YDe(e[Ss],t)),e[Ns]!=null&&(r[Ns]=u1e(e[Ns],t)),e[Os]!=null&&(r[Os]=AFe(e[Os],t)),r},"de_Destination"),YDe=d((e,t)=>{let r={};return e[cv]!=null&&(r[cv]=(0,a.expectString)(e[cv])),r},"de_EncryptionConfiguration"),QDe=d((e,t)=>({}),"de_EndEvent"),ZDe=d((e,t)=>{let r={};return e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[ye]!=null&&(r[ye]=(0,a.expectString)(e[ye])),e[Gb]!=null&&(r[Gb]=(0,a.expectString)(e[Gb])),e[Qb]!=null&&(r[Qb]=(0,a.expectString)(e[Qb])),r},"de__Error"),eFe=d((e,t)=>{let r={};return e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),r},"de_ErrorDocument"),tFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>ZDe(r,t)),"de_Errors"),rFe=d((e,t)=>({}),"de_EventBridgeConfiguration"),Yw=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_EventList"),nFe=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),r},"de_ExistingObjectReplication"),iFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_ExposeHeaders"),oFe=d((e,t)=>{let r={};return e[it]!=null&&(r[it]=(0,a.expectString)(e[it])),e[Fr]!=null&&(r[Fr]=(0,a.expectString)(e[Fr])),r},"de_FilterRule"),sFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>oFe(r,t)),"de_FilterRuleList"),aFe=d((e,t)=>{let r={};return e[Kc]!=null&&(r[Z3e]=(0,a.strictParseInt32)(e[Kc])),e[yo]!=null&&(r[yo]=(0,a.expectString)(e[yo])),e[Lc]!=null&&(r[Lc]=(0,a.expectString)(e[Lc])),e[Ri]!=null&&(r[Ri]=(0,a.strictParseInt32)(e[Ri])),e[Be]!=null&&(r[Be]=(0,a.parseBoolean)(e[Be])),e.Part===""?r[mu]=[]:e[Tv]!=null&&(r[mu]=YFe((0,a.getArrayIfSingleItem)(e[Tv]),t)),r},"de_GetObjectAttributesParts"),cFe=d((e,t)=>{let r={};return e[Dr]!=null&&(r[Dr]=mz(e[Dr],t)),e[si]!=null&&(r[si]=(0,a.expectString)(e[si])),r},"de_Grant"),mz=d((e,t)=>{let r={};return e[Fn]!=null&&(r[Fn]=(0,a.expectString)(e[Fn])),e[Wh]!=null&&(r[Wh]=(0,a.expectString)(e[Wh])),e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),e[Ev]!=null&&(r[Ev]=(0,a.expectString)(e[Ev])),e[D$]!=null&&(r[xr]=(0,a.expectString)(e[D$])),r},"de_Grantee"),fz=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>cFe(r,t)),"de_Grants"),lFe=d((e,t)=>{let r={};return e[hv]!=null&&(r[hv]=(0,a.expectString)(e[hv])),r},"de_IndexDocument"),pz=d((e,t)=>{let r={};return e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),e[Fn]!=null&&(r[Fn]=(0,a.expectString)(e[Fn])),r},"de_Initiator"),dFe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Tag===""?r[vr]=[]:e[Ce]!=null&&(r[vr]=zs((0,a.getArrayIfSingleItem)(e[Ce]),t)),r},"de_IntelligentTieringAndOperator"),gz=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e[ae]!=null&&(r[ae]=mFe(e[ae],t)),e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),e.Tiering===""?r[Hw]=[]:e[Gw]!=null&&(r[Hw]=T1e((0,a.getArrayIfSingleItem)(e[Gw]),t)),r},"de_IntelligentTieringConfiguration"),uFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>gz(r,t)),"de_IntelligentTieringConfigurationList"),mFe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e[Ce]!=null&&(r[Ce]=Yc(e[Ce],t)),e[gt]!=null&&(r[gt]=dFe(e[gt],t)),r},"de_IntelligentTieringFilter"),hz=d((e,t)=>{let r={};return e[At]!=null&&(r[At]=pFe(e[At],t)),e[cs]!=null&&(r[cs]=(0,a.parseBoolean)(e[cs])),e[ae]!=null&&(r[ae]=hFe(e[ae],t)),e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e[Rc]!=null&&(r[Rc]=(0,a.expectString)(e[Rc])),e.OptionalFields===""?r[mc]=[]:e[mc]!=null&&e[mc][Pw]!=null&&(r[mc]=vFe((0,a.getArrayIfSingleItem)(e[mc][Pw]),t)),e[Gc]!=null&&(r[Gc]=yFe(e[Gc],t)),r},"de_InventoryConfiguration"),fFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>hz(r,t)),"de_InventoryConfigurationList"),pFe=d((e,t)=>{let r={};return e[_n]!=null&&(r[_n]=_Fe(e[_n],t)),r},"de_InventoryDestination"),gFe=d((e,t)=>{let r={};return e[Dv]!=null&&(r[jw]=w1e(e[Dv],t)),e[Bv]!=null&&(r[Lw]=C1e(e[Bv],t)),r},"de_InventoryEncryption"),hFe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),r},"de_InventoryFilter"),vFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,a.expectString)(r)),"de_InventoryOptionalFields"),_Fe=d((e,t)=>{let r={};return e[gc]!=null&&(r[gc]=(0,a.expectString)(e[gc])),e[Pe]!=null&&(r[Pe]=(0,a.expectString)(e[Pe])),e[fn]!=null&&(r[fn]=(0,a.expectString)(e[fn])),e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e[ni]!=null&&(r[ni]=gFe(e[ni],t)),r},"de_InventoryS3BucketDestination"),yFe=d((e,t)=>{let r={};return e[Oc]!=null&&(r[Oc]=(0,a.expectString)(e[Oc])),r},"de_InventorySchedule"),SFe=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e[_w]!=null&&(r[Zh]=(0,a.expectString)(e[_w])),e.Event===""?r[ki]=[]:e[Us]!=null&&(r[ki]=Yw((0,a.getArrayIfSingleItem)(e[Us]),t)),e[ae]!=null&&(r[ae]=Qw(e[ae],t)),r},"de_LambdaFunctionConfiguration"),EFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>SFe(r,t)),"de_LambdaFunctionConfigurationList"),CFe=d((e,t)=>{let r={};return e[pr]!=null&&(r[pr]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[pr]))),e[Re]!=null&&(r[Re]=(0,a.strictParseInt32)(e[Re])),e[as]!=null&&(r[as]=(0,a.parseBoolean)(e[as])),r},"de_LifecycleExpiration"),bFe=d((e,t)=>{let r={};return e[gr]!=null&&(r[gr]=CFe(e[gr],t)),e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Filter===""||e[ae]!=null&&(r[ae]=PFe((0,a.expectUnion)(e[ae]),t)),e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),e.Transition===""?r[zw]=[]:e[Vw]!=null&&(r[zw]=F1e((0,a.getArrayIfSingleItem)(e[Vw]),t)),e.NoncurrentVersionTransition===""?r[Iw]=[]:e[Tw]!=null&&(r[Iw]=FFe((0,a.getArrayIfSingleItem)(e[Tw]),t)),e[As]!=null&&(r[As]=BFe(e[As],t)),e[gs]!=null&&(r[gs]=PDe(e[gs],t)),r},"de_LifecycleRule"),wFe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Tag===""?r[vr]=[]:e[Ce]!=null&&(r[vr]=zs((0,a.getArrayIfSingleItem)(e[Ce]),t)),e[ii]!=null&&(r[ii]=(0,a.strictParseLong)(e[ii])),e[oi]!=null&&(r[oi]=(0,a.strictParseLong)(e[oi])),r},"de_LifecycleRuleAndOperator"),PFe=d((e,t)=>e[H]!=null?{Prefix:(0,a.expectString)(e[H])}:e[Ce]!=null?{Tag:Yc(e[Ce],t)}:e[ii]!=null?{ObjectSizeGreaterThan:(0,a.strictParseLong)(e[ii])}:e[oi]!=null?{ObjectSizeLessThan:(0,a.strictParseLong)(e[oi])}:e[gt]!=null?{And:wFe(e[gt],t)}:{$unknown:Object.entries(e)[0]},"de_LifecycleRuleFilter"),xFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>bFe(r,t)),"de_LifecycleRules"),OFe=d((e,t)=>{let r={};return e[_v]!=null&&(r[_v]=(0,a.expectString)(e[_v])),e.TargetGrants===""?r[pc]=[]:e[pc]!=null&&e[pc][Ii]!=null&&(r[pc]=R1e((0,a.getArrayIfSingleItem)(e[pc][Ii]),t)),e[yv]!=null&&(r[yv]=(0,a.expectString)(e[yv])),e[qs]!=null&&(r[qs]=k1e(e[qs],t)),r},"de_LoggingEnabled"),AFe=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),e[xc]!=null&&(r[xc]=yz(e[xc],t)),r},"de_Metrics"),RFe=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Tag===""?r[vr]=[]:e[Ce]!=null&&(r[vr]=zs((0,a.getArrayIfSingleItem)(e[Ce]),t)),e[Oi]!=null&&(r[Oi]=(0,a.expectString)(e[Oi])),r},"de_MetricsAndOperator"),vz=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e.Filter===""||e[ae]!=null&&(r[ae]=IFe((0,a.expectUnion)(e[ae]),t)),r},"de_MetricsConfiguration"),kFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>vz(r,t)),"de_MetricsConfigurationList"),IFe=d((e,t)=>e[H]!=null?{Prefix:(0,a.expectString)(e[H])}:e[Ce]!=null?{Tag:Yc(e[Ce],t)}:e[Oi]!=null?{AccessPointArn:(0,a.expectString)(e[Oi])}:e[gt]!=null?{And:RFe(e[gt],t)}:{$unknown:Object.entries(e)[0]},"de_MetricsFilter"),TFe=d((e,t)=>{let r={};return e[Or]!=null&&(r[Or]=(0,a.expectString)(e[Or])),e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[Xb]!=null&&(r[Xb]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[Xb]))),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),e[Oe]!=null&&(r[Oe]=bo(e[Oe],t)),e[Ic]!=null&&(r[Ic]=pz(e[Ic],t)),e[Se]!=null&&(r[Se]=(0,a.expectString)(e[Se])),r},"de_MultipartUpload"),NFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>TFe(r,t)),"de_MultipartUploadList"),BFe=d((e,t)=>{let r={};return e[hn]!=null&&(r[hn]=(0,a.strictParseInt32)(e[hn])),e[vn]!=null&&(r[vn]=(0,a.strictParseInt32)(e[vn])),r},"de_NoncurrentVersionExpiration"),DFe=d((e,t)=>{let r={};return e[hn]!=null&&(r[hn]=(0,a.strictParseInt32)(e[hn])),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),e[vn]!=null&&(r[vn]=(0,a.strictParseInt32)(e[vn])),r},"de_NoncurrentVersionTransition"),FFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>DFe(r,t)),"de_NoncurrentVersionTransitionList"),Qw=d((e,t)=>{let r={};return e[Fw]!=null&&(r[me]=p1e(e[Fw],t)),r},"de_NotificationConfigurationFilter"),LFe=d((e,t)=>{let r={};return e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),e[ze]!=null&&(r[ze]=(0,a.expectString)(e[ze])),e.ChecksumAlgorithm===""?r[Se]=[]:e[Se]!=null&&(r[Se]=uz((0,a.getArrayIfSingleItem)(e[Se]),t)),e[yn]!=null&&(r[yn]=(0,a.strictParseLong)(e[yn])),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),e[Oe]!=null&&(r[Oe]=bo(e[Oe],t)),e[qc]!=null&&(r[qc]=Sz(e[qc],t)),r},"de__Object"),_z=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>LFe(r,t)),"de_ObjectList"),jFe=d((e,t)=>{let r={};return e[iv]!=null&&(r[iv]=(0,a.expectString)(e[iv])),e[Pr]!=null&&(r[Pr]=UFe(e[Pr],t)),r},"de_ObjectLockConfiguration"),MFe=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),r},"de_ObjectLockLegalHold"),qFe=d((e,t)=>{let r={};return e[gn]!=null&&(r[gn]=(0,a.expectString)(e[gn])),e[Uc]!=null&&(r[Uc]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[Uc]))),r},"de_ObjectLockRetention"),UFe=d((e,t)=>{let r={};return e[_s]!=null&&(r[_s]=$De(e[_s],t)),r},"de_ObjectLockRule"),HFe=d((e,t)=>{let r={};return e[wr]!=null&&(r[wr]=(0,a.strictParseInt32)(e[wr])),e[yn]!=null&&(r[yn]=(0,a.strictParseLong)(e[yn])),e[Ue]!=null&&(r[Ue]=(0,a.expectString)(e[Ue])),e[He]!=null&&(r[He]=(0,a.expectString)(e[He])),e[Ge]!=null&&(r[Ge]=(0,a.expectString)(e[Ge])),e[$e]!=null&&(r[$e]=(0,a.expectString)(e[$e])),r},"de_ObjectPart"),GFe=d((e,t)=>{let r={};return e[ze]!=null&&(r[ze]=(0,a.expectString)(e[ze])),e.ChecksumAlgorithm===""?r[Se]=[]:e[Se]!=null&&(r[Se]=uz((0,a.getArrayIfSingleItem)(e[Se]),t)),e[yn]!=null&&(r[yn]=(0,a.strictParseLong)(e[yn])),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[ye]!=null&&(r[ye]=(0,a.expectString)(e[ye])),e[Ac]!=null&&(r[Ac]=(0,a.parseBoolean)(e[Ac])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),e[Oe]!=null&&(r[Oe]=bo(e[Oe],t)),e[qc]!=null&&(r[qc]=Sz(e[qc],t)),r},"de_ObjectVersion"),$Fe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>GFe(r,t)),"de_ObjectVersionList"),bo=d((e,t)=>{let r={};return e[Fn]!=null&&(r[Fn]=(0,a.expectString)(e[Fn])),e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),r},"de_Owner"),zFe=d((e,t)=>{let r={};return e.Rule===""?r[Sn]=[]:e[Pr]!=null&&(r[Sn]=KFe((0,a.getArrayIfSingleItem)(e[Pr]),t)),r},"de_OwnershipControls"),VFe=d((e,t)=>{let r={};return e[du]!=null&&(r[du]=(0,a.expectString)(e[du])),r},"de_OwnershipControlsRule"),KFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>VFe(r,t)),"de_OwnershipControlsRules"),WFe=d((e,t)=>{let r={};return e[wr]!=null&&(r[wr]=(0,a.strictParseInt32)(e[wr])),e[lt]!=null&&(r[lt]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[lt]))),e[ze]!=null&&(r[ze]=(0,a.expectString)(e[ze])),e[yn]!=null&&(r[yn]=(0,a.strictParseLong)(e[yn])),e[Ue]!=null&&(r[Ue]=(0,a.expectString)(e[Ue])),e[He]!=null&&(r[He]=(0,a.expectString)(e[He])),e[Ge]!=null&&(r[Ge]=(0,a.expectString)(e[Ge])),e[$e]!=null&&(r[$e]=(0,a.expectString)(e[$e])),r},"de_Part"),XFe=d((e,t)=>{let r={};return e[ov]!=null&&(r[ov]=(0,a.expectString)(e[ov])),r},"de_PartitionedPrefix"),JFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>WFe(r,t)),"de_Parts"),YFe=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>HFe(r,t)),"de_PartsList"),QFe=d((e,t)=>{let r={};return e[Kb]!=null&&(r[Kb]=(0,a.parseBoolean)(e[Kb])),r},"de_PolicyStatus"),ZFe=d((e,t)=>{let r={};return e[bc]!=null&&(r[bc]=(0,a.strictParseLong)(e[bc])),e[yc]!=null&&(r[yc]=(0,a.strictParseLong)(e[yc])),e[Cc]!=null&&(r[Cc]=(0,a.strictParseLong)(e[Cc])),r},"de_Progress"),e1e=d((e,t)=>{let r={};return e[Sc]!=null&&(r[Sc]=(0,a.parseBoolean)(e[Sc])),e[kc]!=null&&(r[kc]=(0,a.parseBoolean)(e[kc])),e[Ec]!=null&&(r[Ec]=(0,a.parseBoolean)(e[Ec])),e[Mc]!=null&&(r[Mc]=(0,a.parseBoolean)(e[Mc])),r},"de_PublicAccessBlockConfiguration"),t1e=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e[Dw]!=null&&(r[av]=(0,a.expectString)(e[Dw])),e.Event===""?r[ki]=[]:e[Us]!=null&&(r[ki]=Yw((0,a.getArrayIfSingleItem)(e[Us]),t)),e[ae]!=null&&(r[ae]=Qw(e[ae],t)),r},"de_QueueConfiguration"),r1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>t1e(r,t)),"de_QueueConfigurationList"),n1e=d((e,t)=>{let r={};return e[vo]!=null&&(r[vo]=(0,a.expectString)(e[vo])),e[Yh]!=null&&(r[Yh]=(0,a.expectString)(e[Yh])),e[So]!=null&&(r[So]=(0,a.expectString)(e[So])),e[lv]!=null&&(r[lv]=(0,a.expectString)(e[lv])),e[dv]!=null&&(r[dv]=(0,a.expectString)(e[dv])),r},"de_Redirect"),i1e=d((e,t)=>{let r={};return e[vo]!=null&&(r[vo]=(0,a.expectString)(e[vo])),e[So]!=null&&(r[So]=(0,a.expectString)(e[So])),r},"de_RedirectAllRequestsTo"),o1e=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),r},"de_ReplicaModifications"),s1e=d((e,t)=>{let r={};return e[mv]!=null&&(r[mv]=(0,a.expectString)(e[mv])),e.Rule===""?r[Sn]=[]:e[Pr]!=null&&(r[Sn]=d1e((0,a.getArrayIfSingleItem)(e[Pr]),t)),r},"de_ReplicationConfiguration"),a1e=d((e,t)=>{let r={};return e[ct]!=null&&(r[ct]=(0,a.expectString)(e[ct])),e[us]!=null&&(r[us]=(0,a.strictParseInt32)(e[us])),e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Filter===""||e[ae]!=null&&(r[ae]=l1e((0,a.expectUnion)(e[ae]),t)),e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),e[js]!=null&&(r[js]=E1e(e[js],t)),e[Cs]!=null&&(r[Cs]=nFe(e[Cs],t)),e[At]!=null&&(r[At]=JDe(e[At],t)),e[vs]!=null&&(r[vs]=WDe(e[vs],t)),r},"de_ReplicationRule"),c1e=d((e,t)=>{let r={};return e[H]!=null&&(r[H]=(0,a.expectString)(e[H])),e.Tag===""?r[vr]=[]:e[Ce]!=null&&(r[vr]=zs((0,a.getArrayIfSingleItem)(e[Ce]),t)),r},"de_ReplicationRuleAndOperator"),l1e=d((e,t)=>e[H]!=null?{Prefix:(0,a.expectString)(e[H])}:e[Ce]!=null?{Tag:Yc(e[Ce],t)}:e[gt]!=null?{And:c1e(e[gt],t)}:{$unknown:Object.entries(e)[0]},"de_ReplicationRuleFilter"),d1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>a1e(r,t)),"de_ReplicationRules"),u1e=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),e[$c]!=null&&(r[$c]=yz(e[$c],t)),r},"de_ReplicationTime"),yz=d((e,t)=>{let r={};return e[ds]!=null&&(r[ds]=(0,a.strictParseInt32)(e[ds])),r},"de_ReplicationTimeValue"),Sz=d((e,t)=>{let r={};return e[Wb]!=null&&(r[Wb]=(0,a.parseBoolean)(e[Wb])),e[ow]!=null&&(r[ow]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[ow]))),r},"de_RestoreStatus"),m1e=d((e,t)=>{let r={};return e[hs]!=null&&(r[hs]=jDe(e[hs],t)),e[Bs]!=null&&(r[Bs]=n1e(e[Bs],t)),r},"de_RoutingRule"),f1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>m1e(r,t)),"de_RoutingRules"),p1e=d((e,t)=>{let r={};return e.FilterRule===""?r[ww]=[]:e[bw]!=null&&(r[ww]=sFe((0,a.getArrayIfSingleItem)(e[bw]),t)),r},"de_S3KeyFilter"),g1e=d((e,t)=>{let r={};return e[Hc]!=null&&(r[Hc]=(0,a.expectString)(e[Hc])),e[Bc]!=null&&(r[Bc]=(0,a.expectString)(e[Bc])),r},"de_ServerSideEncryptionByDefault"),h1e=d((e,t)=>{let r={};return e.Rule===""?r[Sn]=[]:e[Pr]!=null&&(r[Sn]=_1e((0,a.getArrayIfSingleItem)(e[Pr]),t)),r},"de_ServerSideEncryptionConfiguration"),v1e=d((e,t)=>{let r={};return e[hc]!=null&&(r[hc]=g1e(e[hc],t)),e[at]!=null&&(r[at]=(0,a.parseBoolean)(e[at])),r},"de_ServerSideEncryptionRule"),_1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>v1e(r,t)),"de_ServerSideEncryptionRules"),y1e=d((e,t)=>{let r={};return e[jb]!=null&&(r[jb]=(0,a.expectString)(e[jb])),e[sw]!=null&&(r[sw]=(0,a.expectString)(e[sw])),e[aw]!=null&&(r[aw]=(0,a.expectString)(e[aw])),e[gr]!=null&&(r[gr]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[gr]))),r},"de_SessionCredentials"),S1e=d((e,t)=>({}),"de_SimplePrefix"),E1e=d((e,t)=>{let r={};return e[Fs]!=null&&(r[Fs]=b1e(e[Fs],t)),e[Ts]!=null&&(r[Ts]=o1e(e[Ts],t)),r},"de_SourceSelectionCriteria"),C1e=d((e,t)=>{let r={};return e[Nc]!=null&&(r[Nc]=(0,a.expectString)(e[Nc])),r},"de_SSEKMS"),b1e=d((e,t)=>{let r={};return e[V]!=null&&(r[V]=(0,a.expectString)(e[V])),r},"de_SseKmsEncryptedObjects"),w1e=d((e,t)=>({}),"de_SSES3"),P1e=d((e,t)=>{let r={};return e[bc]!=null&&(r[bc]=(0,a.strictParseLong)(e[bc])),e[yc]!=null&&(r[yc]=(0,a.strictParseLong)(e[yc])),e[Cc]!=null&&(r[Cc]=(0,a.strictParseLong)(e[Cc])),r},"de_Stats"),x1e=d((e,t)=>{let r={};return e[Pc]!=null&&(r[Pc]=O1e(e[Pc],t)),r},"de_StorageClassAnalysis"),O1e=d((e,t)=>{let r={};return e[jc]!=null&&(r[jc]=(0,a.expectString)(e[jc])),e[At]!=null&&(r[At]=TDe(e[At],t)),r},"de_StorageClassAnalysisDataExport"),Yc=d((e,t)=>{let r={};return e[me]!=null&&(r[me]=(0,a.expectString)(e[me])),e[Fr]!=null&&(r[Fr]=(0,a.expectString)(e[Fr])),r},"de_Tag"),zs=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Yc(r,t)),"de_TagSet"),A1e=d((e,t)=>{let r={};return e[Dr]!=null&&(r[Dr]=mz(e[Dr],t)),e[si]!=null&&(r[si]=(0,a.expectString)(e[si])),r},"de_TargetGrant"),R1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>A1e(r,t)),"de_TargetGrants"),k1e=d((e,t)=>{let r={};return e[Ls]!=null&&(r[Ls]=S1e(e[Ls],t)),e[ks]!=null&&(r[ks]=XFe(e[ks],t)),r},"de_TargetObjectKeyFormat"),I1e=d((e,t)=>{let r={};return e[Re]!=null&&(r[Re]=(0,a.strictParseInt32)(e[Re])),e[Ai]!=null&&(r[Ai]=(0,a.expectString)(e[Ai])),r},"de_Tiering"),T1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>I1e(r,t)),"de_TieringList"),N1e=d((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=(0,a.expectString)(e[ce])),e[$w]!=null&&(r[vv]=(0,a.expectString)(e[$w])),e.Event===""?r[ki]=[]:e[Us]!=null&&(r[ki]=Yw((0,a.getArrayIfSingleItem)(e[Us]),t)),e[ae]!=null&&(r[ae]=Qw(e[ae],t)),r},"de_TopicConfiguration"),B1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>N1e(r,t)),"de_TopicConfigurationList"),D1e=d((e,t)=>{let r={};return e[pr]!=null&&(r[pr]=(0,a.expectNonNull)((0,a.parseRfc3339DateTimeWithOffset)(e[pr]))),e[Re]!=null&&(r[Re]=(0,a.strictParseInt32)(e[Re])),e[he]!=null&&(r[he]=(0,a.expectString)(e[he])),r},"de_Transition"),F1e=d((e,t)=>(e||[]).filter(r=>r!=null).map(r=>D1e(r,t)),"de_TransitionList"),T=d(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),L1e=d((e,t)=>(0,a.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),O=d(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),gt="And",j1e="AnalyticsAndOperator",uw="AnalyticsConfiguration",Qc="ACL",fs="AccessControlList",_$="AnalyticsConfigurationList",M1e="AccessControlPolicy",ps="AccessControlTranslation",q1e="AccelerateConfiguration",Ez="AbortDate",U1e="AnalyticsExportDestination",H1e="AnalyticsFilter",mw="AllowedHeader",fw="AllowedHeaders",G1e="AnalyticsId",gs="AbortIncompleteMultipartUpload",gc="AccountId",jb="AccessKeyId",pw="AllowedMethod",gw="AllowedMethods",hw="AllowedOrigin",vw="AllowedOrigins",$1e="AccessPointAlias",Oi="AccessPointArn",Uh="AllowQuotedRecordDelimiter",Zw="AcceptRanges",Cz="AbortRuleId",z1e="ArchiveStatus",V1e="AnalyticsS3BucketDestination",K1e="AnalyticsS3ExportFileFormat",hc="ApplyServerSideEncryptionByDefault",Ai="AccessTier",vc="Account",Pe="Bucket",_c="BucketAccountId",W1e="BucketAccelerateStatus",zc="BypassGovernanceRetention",X1e="BucketInfo",at="BucketKeyEnabled",J1e="BucketLifecycleConfiguration",Y1e="BucketLocationConstraint",Q1e="BucketLocationName",Z1e="BucketLogsPermission",eLe="BucketLoggingStatus",tLe="BucketLocationType",Hv="BucketName",yc="BytesProcessed",Sc="BlockPublicAcls",Ec="BlockPublicPolicy",rLe="BucketRegion",Cc="BytesReturned",bc="BytesScanned",nLe="BucketType",iLe="BucketVersioningStatus",ri="Buckets",Mb="Credentials",Se="ChecksumAlgorithm",qb="CannedACL",oLe="CreateBucketConfiguration",Zc="CacheControl",Ue="ChecksumCRC32",He="ChecksumCRC32C",el="ContentDisposition",Ub="CreationDate",tl="ContentEncoding",_w="CloudFunction",y$="CloudFunctionConfiguration",rl="ContentLanguage",Eo="ContentLength",bz="ChecksumMode",kt="ContentMD5",sLe="CompletedMultipartUpload",aLe="CORSConfiguration",yw="CORSRule",Sw="CORSRules",nr="CommonPrefixes",cLe="CompletedPart",wz="ContentRange",S$="ConfirmRemoveSelfBucketAccess",Pz="CopySource",Ge="ChecksumSHA1",$e="ChecksumSHA256",xz="CopySourceIfMatch",Ov="CopySourceIfModifiedSince",Oz="CopySourceIfNoneMatch",Av="CopySourceIfUnmodifiedSince",lLe="CopySourceRange",Az="CopySourceSSECustomerAlgorithm",Rz="CopySourceSSECustomerKey",kz="CopySourceSSECustomerKeyMD5",wc="CSV",Iz="CopySourceVersionId",dLe="CSVInput",uLe="CSVOutput",nl="ContentType",je="ContinuationToken",mLe="CompressionType",Hb="Checksum",ho="Contents",Gb="Code",fLe="Comments",hs="Condition",ir="Delimiter",ss="DaysAfterInitiation",Pc="DataExport",Dn="DeleteMarker",vs="DeleteMarkerReplication",pLe="DeleteMarkerReplicationStatus",$b="DeleteMarkerVersionId",E$="DeleteMarkers",Fn="DisplayName",gLe="DataRedundancy",_s="DefaultRetention",Re="Days",pr="Date",Hh="Deleted",hLe="Delete",At="Destination",vLe="Description",ai="Expires",Wh="EmailAddress",ys="EventBridgeConfiguration",G="ExpectedBucketOwner",_Le="ErrorCode",Ss="EncryptionConfiguration",Es="ErrorDocument",Ew="ExposeHeaders",Cw="ExposeHeader",yLe="ErrorMessage",as="ExpiredObjectDeleteMarker",Cs="ExistingObjectReplication",SLe="ExistingObjectReplicationStatus",ELe="EnableRequestProgress",Tz="ExpiresString",Nz="ExpectedSourceBucketOwner",CLe="ExpirationStatus",or="EncodingType",ze="ETag",zb="EncryptionType",xc="EventThreshold",Bz="ExpressionType",ni="Encryption",Vb="Enabled",Gh="End",C$="Error",b$="Errors",Us="Event",ki="Events",Dz="Expression",gr="Expiration",ae="Filter",Fz="FieldDelimiter",bLe="FileHeaderInfo",wLe="FetchOwner",bw="FilterRule",PLe="FilterRuleName",xLe="FilterRuleValue",ww="FilterRules",Pw="Field",fn="Format",Oc="Frequency",Ii="Grant",il="GrantFullControl",Xh="GlacierJobParameters",ol="GrantRead",sl="GrantReadACP",eP="GrantWrite",al="GrantWriteACP",uu="Grants",Dr="Grantee",Jh="HttpErrorCodeReturnedEquals",vo="HostName",Yh="HttpRedirectCode",ce="Id",xw="InventoryConfiguration",w$="InventoryConfigurationList",bs="IndexDocument",ct="ID",OLe="InventoryDestination",cs="IsEnabled",ALe="InventoryEncryption",RLe="InventoryFilter",kLe="InventoryFormat",ILe="InventoryFrequency",TLe="InventoryId",NLe="InventoryIncludedObjectVersions",Ac="IsLatest",Lz="IfMatch",Rv="IfModifiedSince",Gv="IfNoneMatch",BLe="InventoryOptionalField",Rc="IncludedObjectVersions",Kb="IsPublic",kc="IgnorePublicAcls",Wb="IsRestoreInProgress",ws="InputSerialization",DLe="InventoryS3BucketDestination",FLe="InventorySchedule",Be="IsTruncated",LLe="IntelligentTieringAndOperator",jLe="IntelligentTieringAccessTier",Ow="IntelligentTieringConfiguration",P$="IntelligentTieringConfigurationList",MLe="IntelligentTieringDays",qLe="IntelligentTieringFilter",ULe="IntelligentTieringId",HLe="IntelligentTieringStatus",kv="IfUnmodifiedSince",Ic="Initiator",Xb="Initiated",Tc="JSON",GLe="JSONInput",$Le="JSONOutput",zLe="JSONType",me="Key",Jb="KeyCount",Nc="KeyId",_o="KeyMarker",VLe="KMSContext",Yb="KMSKeyId",Bc="KMSMasterKeyID",Qh="KeyPrefixEquals",Ps="Location",Dc="LocationConstraint",xs="LoggingEnabled",KLe="LifecycleExpiration",Zh="LambdaFunctionArn",Aw="LambdaFunctionConfigurations",WLe="LambdaFunctionConfiguration",XLe="LocationInfo",lt="LastModified",JLe="LocationNameAsString",YLe="LocationPrefix",QLe="LifecycleRule",ZLe="LifecycleRuleAndOperator",e3e="LifecycleRuleFilter",t3e="LocationType",ev="Marker",r3e="MetricsAndOperator",ls="MaxAgeSeconds",n3e="MaxBuckets",Rw="MetricsConfiguration",x$="MetricsConfigurationList",i3e="MetadataDirective",o3e="MaxDirectoryBuckets",kw="MfaDelete",jz="MetadataEntry",s3e="MetricsFilter",tP="MFA",tv="MFADelete",a3e="MetricsId",pn="MaxKeys",c3e="MetadataKey",Iv="MissingMeta",Ri="MaxParts",l3e="MetricsStatus",rv="MaxUploads",d3e="MetadataValue",Os="Metrics",Qb="Message",ds="Minutes",gn="Mode",it="Name",u3e="NotificationConfiguration",m3e="NotificationConfigurationFilter",hr="NextContinuationToken",hn="NoncurrentDays",rP="NotificationId",Fc="NextKeyMarker",Zb="NextMarker",vn="NewerNoncurrentVersions",Lc="NextPartNumberMarker",ew="NextUploadIdMarker",As="NoncurrentVersionExpiration",tw="NextVersionIdMarker",Iw="NoncurrentVersionTransitions",Tw="NoncurrentVersionTransition",Oe="Owner",O$="ObjectAttributes",f3e="OwnershipControls",p3e="ObjectCannedACL",g3e="OwnershipControlsRule",mc="OptionalFields",h3e="ObjectIdentifier",nP="ObjectKey",nv="OutputLocation",v3e="ObjectLockConfiguration",iv="ObjectLockEnabled",A$="ObjectLockEnabledForBucket",_3e="ObjectLockLegalHold",Vs="ObjectLockLegalHoldStatus",cl="ObjectLockMode",y3e="ObjectLockRetention",Mz="ObjectLockRetentionMode",ci="ObjectLockRetainUntilDate",S3e="ObjectLockRule",du="ObjectOwnership",Vc="OptionalObjectAttributes",E3e="OwnerOverride",rw="ObjectParts",Rs="OutputSerialization",ii="ObjectSizeGreaterThan",qz="ObjectSizeGreaterThanBytes",oi="ObjectSizeLessThan",Uz="ObjectSizeLessThanBytes",jc="OutputSchemaVersion",nw="ObjectSize",C3e="ObjectVersionId",b3e="Objects",H="Prefix",w3e="PublicAccessBlockConfiguration",Kc="PartsCount",ov="PartitionDateSource",P3e="ParquetInput",wr="PartNumber",yo="PartNumberMarker",ks="PartitionedPrefix",sv="Payer",Tv="Part",iw="Parquet",mu="Parts",si="Permission",So="Protocol",us="Priority",$h="Quiet",av="QueueArn",Nw="QueueConfiguration",Bw="QueueConfigurations",Hz="QuoteCharacter",Gz="QuoteEscapeCharacter",x3e="QuoteFields",Dw="Queue",$z="Range",Is="RedirectAllRequestsTo",Qe="RequestCharged",zz="ResponseCacheControl",Vz="ResponseContentDisposition",Kz="ResponseContentEncoding",Wz="ResponseContentLanguage",Xz="ResponseContentType",O3e="ReplicationConfiguration",iP="RecordDelimiter",Jz="ResponseExpires",ow="RestoreExpiryDate",cv="ReplicaKmsKeyID",lv="ReplaceKeyPrefixWith",dv="ReplaceKeyWith",Ts="ReplicaModifications",A3e="ReplicaModificationsStatus",R3e="RestoreOutputPath",De="RequestPayer",Mc="RestrictPublicBuckets",k3e="RequestPaymentConfiguration",uv="RequestProgress",I3e="RequestRoute",T3e="ReplicationRuleAndOperator",N3e="ReplicationRuleFilter",B3e="ReplicationRuleStatus",D3e="RestoreRequestType",F3e="ReplicationRule",L3e="RestoreRequest",fc="RoutingRules",Nv="RoutingRule",oP="ReplicationStatus",qc="RestoreStatus",j3e="RequestToken",M3e="ReplicationTimeStatus",q3e="ReplicationTimeValue",Ns="ReplicationTime",Uc="RetainUntilDate",sP="Restore",Bs="Redirect",mv="Role",Pr="Rule",Sn="Rules",V="Status",fv="StartAfter",sw="SecretAccessKey",_n="S3BucketDestination",he="StorageClass",Ds="StorageClassAnalysis",U3e="StorageClassAnalysisDataExport",H3e="StorageClassAnalysisSchemaVersion",R$="StatusCode",k$="SkipDestinationValidation",Bv="SSE-KMS",Fs="SseKmsEncryptedObjects",G3e="SseKmsEncryptedObjectsStatus",$3e="S3KeyFilter",Fw="S3Key",z3e="S3Location",V3e="SessionMode",K3e="SelectObjectContentRequest",pv="SelectParameters",Ls="SimplePrefix",gv="ScanRange",Dv="SSE-S3",js="SourceSelectionCriteria",Ar="ServerSideEncryption",Hc="SSEAlgorithm",W3e="ServerSideEncryptionByDefault",X3e="ServerSideEncryptionConfiguration",It="SSECustomerAlgorithm",jn="SSECustomerKey",Tt="SSECustomerKeyMD5",Lw="SSEKMS",ll="SSEKMSEncryptionContext",_r="SSEKMSKeyId",J3e="ServerSideEncryptionRule",jw="SSES3",aw="SessionToken",cw="S3",Gc="Schedule",zh="Setting",yn="Size",Vh="Start",hv="Suffix",Ms="Tagging",vv="TopicArn",_v="TargetBucket",Mw="TagCount",qw="TopicConfiguration",Uw="TopicConfigurations",Y3e="TaggingDirective",pc="TargetGrants",Q3e="TargetGrant",qs="TargetObjectKeyFormat",yv="TargetPrefix",Z3e="TotalPartsCount",Bn="TagSet",Yz="TransitionStorageClass",Ce="Tag",vr="Tags",Qz="Tier",Hw="Tierings",Gw="Tiering",$c="Time",Zz="Token",$w="Topic",zw="Transitions",Vw="Transition",xr="Type",I$="Upload",Or="UploadId",Sv="UploadIdMarker",eje="UserMetadata",Ev="URI",T$="Uploads",N$="Version",e6="VersionCount",tje="VersioningConfiguration",ye="VersionId",Cv="VersionIdMarker",Fr="Value",B$="Versions",rje="WebsiteConfiguration",fu="WebsiteRedirectLocation",ms="Years",$v="analytics",t6="accelerate",zv="acl",r6="accept-ranges",nje="attributes",aP="cors",pu="cache-control",gu="content-disposition",hu="content-encoding",vu="content-language",Hs="content-length",Nt="content-md5",ije="content-range",_u="content-type",Ks="continuation-token",oje="delete",Vv="delimiter",Gs="expires",cP="encryption",Kv="encoding-type",Wv="etag",n6="expiresstring",sje="fetch-owner",En="id",i6="if-match",o6="if-modified-since",Xv="inventory",Jv="if-none-match",Yv="intelligent-tiering",s6="if-unmodified-since",a6="key-marker",lP="lifecycle",c6="legal-hold",Wc="last-modified",l6="location",d6="logging",aje="list-type",Qv="metrics",cje="marker",lje="max-buckets",dje="max-directory-buckets",Bt="member",dP="max-keys",uje="max-parts",mje="max-uploads",u6="notification",uP="ownershipControls",m6="object-lock",mP="policy",fP="publicAccessBlock",Zv="partNumber",fje="policyStatus",pje="part-number-marker",e_="prefix",pP="replication",f6="requestPayment",p6="range",g6="response-cache-control",h6="response-content-disposition",v6="response-content-encoding",_6="response-content-language",y6="response-content-type",S6="response-expires",gje="restore",E6="retention",hje="session",vje="start-after",_je="select",yje="select-type",dl="tagging",Sje="torrent",C6="uploads",yu="uploadId",Eje="upload-id-marker",b6="versioning",Rr="versionId",Me='<?xml version="1.0" encoding="UTF-8"?>',Cje="versions",bje="version-id-marker",gP="website",D$="xsi:type",ul="x-amz-acl",Fv="x-amz-abort-date",F$="x-amz-access-point-alias",w6="x-amz-abort-rule-id",wje="x-amz-archive-status",hP="x-amz-bypass-governance-retention",Pje="x-amz-bucket-location-name",xje="x-amz-bucket-location-type",Oje="x-amz-bucket-object-lock-enabled",P6="x-amz-bucket-object-lock-token",Aje="x-amz-bucket-region",vP="x-amz-checksum-algorithm",Ws="x-amz-checksum-crc32",Xs="x-amz-checksum-crc32c",x6="x-amz-checksum-mode",Rje="x-amz-confirm-remove-self-bucket-access",Js="x-amz-checksum-sha1",Ys="x-amz-checksum-sha256",O6="x-amz-copy-source",A6="x-amz-copy-source-if-match",R6="x-amz-copy-source-if-modified-since",k6="x-amz-copy-source-if-none-match",I6="x-amz-copy-source-if-unmodified-since",kje="x-amz-create-session-mode",Ije="x-amz-copy-source-range",T6="x-amz-copy-source-server-side-encryption-customer-algorithm",N6="x-amz-copy-source-server-side-encryption-customer-key",B6="x-amz-copy-source-server-side-encryption-customer-key-md5",D6="x-amz-copy-source-version-id",Co="x-amz-delete-marker",Su="x-amz-expiration",$="x-amz-expected-bucket-owner",Tje="x-amz-fwd-error-code",Nje="x-amz-fwd-error-message",Bje="x-amz-fwd-header-accept-ranges",Dje="x-amz-fwd-header-cache-control",Fje="x-amz-fwd-header-content-disposition",Lje="x-amz-fwd-header-content-encoding",jje="x-amz-fwd-header-content-language",Mje="x-amz-fwd-header-content-range",qje="x-amz-fwd-header-content-type",Uje="x-amz-fwd-header-etag",Hje="x-amz-fwd-header-expires",Gje="x-amz-fwd-header-last-modified",$je="x-amz-fwd-header-x-amz-checksum-crc32",zje="x-amz-fwd-header-x-amz-checksum-crc32c",Vje="x-amz-fwd-header-x-amz-checksum-sha1",Kje="x-amz-fwd-header-x-amz-checksum-sha256",Wje="x-amz-fwd-header-x-amz-delete-marker",Xje="x-amz-fwd-header-x-amz-expiration",Jje="x-amz-fwd-header-x-amz-missing-meta",Yje="x-amz-fwd-header-x-amz-mp-parts-count",Qje="x-amz-fwd-header-x-amz-object-lock-legal-hold",Zje="x-amz-fwd-header-x-amz-object-lock-mode",eMe="x-amz-fwd-header-x-amz-object-lock-retain-until-date",tMe="x-amz-fwd-header-x-amz-restore",rMe="x-amz-fwd-header-x-amz-request-charged",nMe="x-amz-fwd-header-x-amz-replication-status",iMe="x-amz-fwd-header-x-amz-storage-class",oMe="x-amz-fwd-header-x-amz-server-side-encryption",sMe="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",aMe="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",cMe="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",lMe="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",dMe="x-amz-fwd-header-x-amz-tagging-count",uMe="x-amz-fwd-header-x-amz-version-id",mMe="x-amz-fwd-status",ml="x-amz-grant-full-control",fl="x-amz-grant-read",pl="x-amz-grant-read-acp",_P="x-amz-grant-write",gl="x-amz-grant-write-acp",yP="x-amz-mfa",fMe="x-amz-metadata-directive",Lv="x-amz-missing-meta",pMe="x-amz-max-parts",jv="x-amz-mp-parts-count",gMe="x-amz-object-attributes",Eu="x-amz-object-lock-legal-hold",Cu="x-amz-object-lock-mode",$s="x-amz-object-lock-retain-until-date",hMe="x-amz-object-ownership",SP="x-amz-optional-object-attributes",vMe="x-amz-part-number-marker",F6="x-amz-restore",et="x-amz-request-charged",_Me="x-amz-restore-output-path",Fe="x-amz-request-payer",yMe="x-amz-request-route",L6="x-amz-replication-status",SMe="x-amz-request-token",bu="x-amz-storage-class",vt="x-amz-sdk-checksum-algorithm",EMe="x-amz-skip-destination-validation",j6="x-amz-source-expected-bucket-owner",Mn="x-amz-server-side-encryption",qn="x-amz-server-side-encryption-aws-kms-key-id",Rt="x-amz-server-side-encryption-bucket-key-enabled",hl="x-amz-server-side-encryption-context",Ht="x-amz-server-side-encryption-customer-algorithm",Un="x-amz-server-side-encryption-customer-key",Gt="x-amz-server-side-encryption-customer-key-md5",EP="x-amz-tagging",L$="x-amz-tagging-count",CMe="x-amz-tagging-directive",li="x-amz-version-id",wu="x-amz-website-redirect-location",$t="x-id",M6=class extends a.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,iAe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,E5).ser(CRe).de(lIe).build(){};d(M6,"CreateSessionCommand");var CP=M6,bMe=NG(),j$=Ad(),wMe=d(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),PMe=d(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Kh=d(e=>e,"asPartial"),xMe=d((e,t)=>{let r={...Kh((0,j$.getAwsRegionExtensionConfiguration)(e)),...Kh((0,a.getDefaultExtensionConfiguration)(e)),...Kh((0,lw.getHttpHandlerExtensionConfiguration)(e)),...Kh(wMe(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,j$.resolveAwsRegionExtensionConfiguration)(r),...(0,a.resolveDefaultRuntimeConfig)(r),...(0,lw.resolveHttpHandlerRuntimeConfig)(r),...PMe(r)}},"resolveRuntimeExtensions"),q6=class extends a.Client{constructor(...[t]){let r=(0,bMe.getRuntimeConfig)(t||{}),n=oAe(r),i=(0,g$.resolveUserAgentConfig)(n),o=(0,h$.resolveRetryConfig)(i),s=(0,tAe.resolveRegionConfig)(o),c=(0,p$.resolveHostHeaderConfig)(s),l=(0,F.resolveEndpointConfig)(c),m=(0,rAe.resolveEventStreamSerdeConfig)(l),f=(0,v$.resolveHttpAuthSchemeConfig)(m),g=(0,lu.resolveS3Config)(f,{session:[()=>this,CP]}),y=xMe(g,t?.extensions||[]);super(y),this.config=y,this.middlewareStack.use((0,g$.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,h$.getRetryPlugin)(this.config)),this.middlewareStack.use((0,nAe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,p$.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ZOe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,eAe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Lb.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:v$.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async S=>new Lb.DefaultIdentityProviderConfig({"aws.auth#sigv4":S.credentials,"aws.auth#sigv4a":S.credentials})})),this.middlewareStack.use((0,Lb.getHttpSigningPlugin)(this.config)),this.middlewareStack.use((0,lu.getValidateBucketNamePlugin)(this.config)),this.middlewareStack.use((0,QOe.getAddExpectContinuePlugin)(this.config)),this.middlewareStack.use((0,lu.getRegionRedirectMiddlewarePlugin)(this.config)),this.middlewareStack.use((0,lu.getS3ExpressPlugin)(this.config)),this.middlewareStack.use((0,lu.getS3ExpressHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};d(q6,"S3Client");var vl=q6,OMe=ee(),U6=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,OMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(vRe).de(iIe).build(){};d(U6,"AbortMultipartUploadCommand");var H6=U6,AMe=ee(),Hn=LG(),G6=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,AMe.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(g5,p5).ser(_Re).de(oIe).build(){};d(G6,"CompleteMultipartUploadCommand");var $6=G6,RMe=ee(),z6=class extends a.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,RMe.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(v5,h5).ser(yRe).de(sIe).build(){};d(z6,"CopyObjectCommand");var V6=z6,kMe=HG(),IMe=ee(),K6=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,IMe.getThrow200ExceptionsPlugin)(n),(0,kMe.getLocationConstraintPlugin)(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(SRe).de(aIe).build(){};d(K6,"CreateBucketCommand");var W6=K6,TMe=ee(),X6=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,TMe.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(y5,_5).ser(ERe).de(cIe).build(){};d(X6,"CreateMultipartUploadCommand");var J6=X6,Y6=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(wRe).de(uIe).build(){};d(Y6,"DeleteBucketAnalyticsConfigurationCommand");var Q6=Y6,Z6=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(bRe).de(dIe).build(){};d(Z6,"DeleteBucketCommand");var e4=Z6,t4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(PRe).de(mIe).build(){};d(t4,"DeleteBucketCorsCommand");var r4=t4,n4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(xRe).de(fIe).build(){};d(n4,"DeleteBucketEncryptionCommand");var i4=n4,o4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(ORe).de(pIe).build(){};d(o4,"DeleteBucketIntelligentTieringConfigurationCommand");var s4=o4,a4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(ARe).de(gIe).build(){};d(a4,"DeleteBucketInventoryConfigurationCommand");var c4=a4,l4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(RRe).de(hIe).build(){};d(l4,"DeleteBucketLifecycleCommand");var d4=l4,u4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(kRe).de(vIe).build(){};d(u4,"DeleteBucketMetricsConfigurationCommand");var m4=u4,f4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(IRe).de(_Ie).build(){};d(f4,"DeleteBucketOwnershipControlsCommand");var p4=f4,g4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(TRe).de(yIe).build(){};d(g4,"DeleteBucketPolicyCommand");var h4=g4,v4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(NRe).de(SIe).build(){};d(v4,"DeleteBucketReplicationCommand");var _4=v4,y4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(BRe).de(EIe).build(){};d(y4,"DeleteBucketTaggingCommand");var S4=y4,E4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(DRe).de(CIe).build(){};d(E4,"DeleteBucketWebsiteCommand");var C4=E4,NMe=ee(),b4=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,NMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(FRe).de(bIe).build(){};d(b4,"DeleteObjectCommand");var w4=b4,ot=a$(),BMe=ee(),P4=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,BMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(LRe).de(wIe).build(){};d(P4,"DeleteObjectsCommand");var x4=P4,DMe=ee(),O4=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,DMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(jRe).de(PIe).build(){};d(O4,"DeleteObjectTaggingCommand");var A4=O4,R4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(MRe).de(xIe).build(){};d(R4,"DeletePublicAccessBlockCommand");var k4=R4,FMe=ee(),I4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,FMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(qRe).de(OIe).build(){};d(I4,"GetBucketAccelerateConfigurationCommand");var T4=I4,LMe=ee(),N4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,LMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(URe).de(AIe).build(){};d(N4,"GetBucketAclCommand");var B4=N4,jMe=ee(),D4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,jMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(HRe).de(RIe).build(){};d(D4,"GetBucketAnalyticsConfigurationCommand");var F4=D4,MMe=ee(),L4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,MMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(GRe).de(kIe).build(){};d(L4,"GetBucketCorsCommand");var j4=L4,qMe=ee(),M4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,qMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,w5).ser($Re).de(IIe).build(){};d(M4,"GetBucketEncryptionCommand");var q4=M4,UMe=ee(),U4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,UMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(zRe).de(TIe).build(){};d(U4,"GetBucketIntelligentTieringConfigurationCommand");var H4=U4,HMe=ee(),G4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,HMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,R5).ser(VRe).de(NIe).build(){};d(G4,"GetBucketInventoryConfigurationCommand");var $4=G4,GMe=ee(),z4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,GMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(KRe).de(BIe).build(){};d(z4,"GetBucketLifecycleConfigurationCommand");var V4=z4,$Me=ee(),K4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,$Me.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(WRe).de(DIe).build(){};d(K4,"GetBucketLocationCommand");var W4=K4,zMe=ee(),X4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,zMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(XRe).de(FIe).build(){};d(X4,"GetBucketLoggingCommand");var J4=X4,VMe=ee(),Y4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,VMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(JRe).de(LIe).build(){};d(Y4,"GetBucketMetricsConfigurationCommand");var Q4=Y4,KMe=ee(),Z4=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,KMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(YRe).de(jIe).build(){};d(Z4,"GetBucketNotificationConfigurationCommand");var e8=Z4,WMe=ee(),t8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,WMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(QRe).de(MIe).build(){};d(t8,"GetBucketOwnershipControlsCommand");var r8=t8,XMe=ee(),n8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,XMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(ZRe).de(qIe).build(){};d(n8,"GetBucketPolicyCommand");var i8=n8,JMe=ee(),o8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,JMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(eke).de(UIe).build(){};d(o8,"GetBucketPolicyStatusCommand");var s8=o8,YMe=ee(),a8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,YMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(tke).de(HIe).build(){};d(a8,"GetBucketReplicationCommand");var c8=a8,QMe=ee(),l8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,QMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(rke).de(GIe).build(){};d(l8,"GetBucketRequestPaymentCommand");var d8=l8,ZMe=ee(),u8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ZMe.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(nke).de($Ie).build(){};d(u8,"GetBucketTaggingCommand");var m8=u8,e2e=ee(),f8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,e2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(ike).de(zIe).build(){};d(f8,"GetBucketVersioningCommand");var p8=f8,t2e=ee(),g8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,t2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(oke).de(VIe).build(){};d(g8,"GetBucketWebsiteCommand");var h8=g8,r2e=ee(),v8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,r2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(ake).de(WIe).build(){};d(v8,"GetObjectAclCommand");var _8=v8,n2e=ee(),y8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,n2e.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(T5,void 0).ser(cke).de(XIe).build(){};d(y8,"GetObjectAttributesCommand");var S8=y8,i2e=ee(),E8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}),(0,Hn.getSsecPlugin)(n),(0,i2e.getS3ExpiresMiddlewarePlugin)(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(I5,k5).ser(ske).de(KIe).build(){};d(E8,"GetObjectCommand");var C8=E8,o2e=ee(),b8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,o2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(lke).de(JIe).build(){};d(b8,"GetObjectLegalHoldCommand");var w8=b8,s2e=ee(),P8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,s2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(dke).de(YIe).build(){};d(P8,"GetObjectLockConfigurationCommand");var x8=P8,a2e=ee(),O8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,a2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(uke).de(QIe).build(){};d(O8,"GetObjectRetentionCommand");var A8=O8,c2e=ee(),R8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,c2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(mke).de(ZIe).build(){};d(R8,"GetObjectTaggingCommand");var k8=R8,I8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,N5).ser(fke).de(eTe).build(){};d(I8,"GetObjectTorrentCommand");var T8=I8,l2e=ee(),N8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,l2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(pke).de(tTe).build(){};d(N8,"GetPublicAccessBlockCommand");var B8=N8,d2e=ee(),D8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,d2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(gke).de(rTe).build(){};d(D8,"HeadBucketCommand");var t_=D8,M$=ee(),F8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,M$.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n),(0,M$.getS3ExpiresMiddlewarePlugin)(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(D5,B5).ser(hke).de(nTe).build(){};d(F8,"HeadObjectCommand");var r_=F8,u2e=ee(),L8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,u2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(vke).de(iTe).build(){};d(L8,"ListBucketAnalyticsConfigurationsCommand");var j8=L8,m2e=ee(),M8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,m2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(_ke).de(oTe).build(){};d(M8,"ListBucketIntelligentTieringConfigurationsCommand");var q8=M8,f2e=ee(),U8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,f2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,F5).ser(yke).de(sTe).build(){};d(U8,"ListBucketInventoryConfigurationsCommand");var H8=U8,p2e=ee(),G8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,p2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Ske).de(aTe).build(){};d(G8,"ListBucketMetricsConfigurationsCommand");var $8=G8,g2e=ee(),z8=class extends a.Command.classBuilder().ep({...j}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,g2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Eke).de(cTe).build(){};d(z8,"ListBucketsCommand");var bP=z8,h2e=ee(),V8=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,h2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(Cke).de(lTe).build(){};d(V8,"ListDirectoryBucketsCommand");var wP=V8,v2e=ee(),K8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,v2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(bke).de(dTe).build(){};d(K8,"ListMultipartUploadsCommand");var W8=K8,_2e=ee(),X8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,_2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(wke).de(uTe).build(){};d(X8,"ListObjectsCommand");var J8=X8,y2e=ee(),Y8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,y2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(Pke).de(mTe).build(){};d(Y8,"ListObjectsV2Command");var PP=Y8,S2e=ee(),Q8=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,S2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(xke).de(fTe).build(){};d(Q8,"ListObjectVersionsCommand");var Z8=Q8,E2e=ee(),eV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,E2e.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(L5,void 0).ser(Oke).de(pTe).build(){};d(eV,"ListPartsCommand");var xP=eV,tV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(Ake).de(gTe).build(){};d(tV,"PutBucketAccelerateConfigurationCommand");var rV=tV,nV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(Rke).de(hTe).build(){};d(nV,"PutBucketAclCommand");var iV=nV,oV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(kke).de(vTe).build(){};d(oV,"PutBucketAnalyticsConfigurationCommand");var sV=oV,aV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(Ike).de(_Te).build(){};d(aV,"PutBucketCorsCommand");var cV=aV,lV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(j5,void 0).ser(Tke).de(yTe).build(){};d(lV,"PutBucketEncryptionCommand");var dV=lV,uV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(Nke).de(STe).build(){};d(uV,"PutBucketIntelligentTieringConfigurationCommand");var mV=uV,fV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(M5,void 0).ser(Bke).de(ETe).build(){};d(fV,"PutBucketInventoryConfigurationCommand");var pV=fV,gV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Dke).de(CTe).build(){};d(gV,"PutBucketLifecycleConfigurationCommand");var hV=gV,vV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(Fke).de(bTe).build(){};d(vV,"PutBucketLoggingCommand");var _V=vV,yV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(Lke).de(wTe).build(){};d(yV,"PutBucketMetricsConfigurationCommand");var SV=yV,EV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(jke).de(PTe).build(){};d(EV,"PutBucketNotificationConfigurationCommand");var CV=EV,bV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(Mke).de(xTe).build(){};d(bV,"PutBucketOwnershipControlsCommand");var wV=bV,PV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(qke).de(OTe).build(){};d(PV,"PutBucketPolicyCommand");var xV=PV,OV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(Uke).de(ATe).build(){};d(OV,"PutBucketReplicationCommand");var AV=OV,RV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(Hke).de(RTe).build(){};d(RV,"PutBucketRequestPaymentCommand");var kV=RV,IV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(Gke).de(kTe).build(){};d(IV,"PutBucketTaggingCommand");var TV=IV,NV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser($ke).de(ITe).build(){};d(NV,"PutBucketVersioningCommand");var BV=NV,DV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(zke).de(TTe).build(){};d(DV,"PutBucketWebsiteCommand");var FV=DV,C2e=ee(),LV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,C2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(Kke).de(BTe).build(){};d(LV,"PutObjectAclCommand");var jV=LV,q$=ee(),MV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),(0,q$.getCheckContentLengthHeaderPlugin)(n),(0,q$.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f($5,G5).ser(Vke).de(NTe).build(){};d(MV,"PutObjectCommand");var qV=MV,b2e=ee(),UV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,b2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(Wke).de(DTe).build(){};d(UV,"PutObjectLegalHoldCommand");var HV=UV,w2e=ee(),GV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,w2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(Xke).de(FTe).build(){};d(GV,"PutObjectLockConfigurationCommand");var $V=GV,P2e=ee(),zV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,P2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(Jke).de(LTe).build(){};d(zV,"PutObjectRetentionCommand");var VV=zV,x2e=ee(),KV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),(0,x2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(Yke).de(jTe).build(){};d(KV,"PutObjectTaggingCommand");var WV=KV,XV=class extends a.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(Qke).de(MTe).build(){};d(XV,"PutPublicAccessBlockCommand");var JV=XV,O2e=ee(),YV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),(0,O2e.getThrow200ExceptionsPlugin)(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(X5,void 0).ser(Zke).de(qTe).build(){};d(YV,"RestoreObjectCommand");var QV=YV,A2e=ee(),ZV=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,A2e.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(Y5,J5).ser(eIe).de(UTe).build(){};d(ZV,"SelectObjectContentCommand");var eK=ZV,R2e=ee(),tK=class extends a.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,ot.getFlexibleChecksumsPlugin)(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),(0,R2e.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(Z5,Q5).ser(tIe).de(HTe).build(){};d(tK,"UploadPartCommand");var rK=tK,k2e=ee(),nK=class extends a.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions()),(0,k2e.getThrow200ExceptionsPlugin)(n),(0,Hn.getSsecPlugin)(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(tz,ez).ser(rIe).de(GTe).build(){};d(nK,"UploadPartCopyCommand");var iK=nK,oK=class extends a.Command.classBuilder().ep({...j,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,i){return[(0,L.getSerdePlugin)(n,this.serialize,this.deserialize),(0,F.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(rz,void 0).ser(nIe).de($Te).build(){};d(oK,"WriteGetObjectResponseCommand");var sK=oK,I2e={AbortMultipartUploadCommand:H6,CompleteMultipartUploadCommand:$6,CopyObjectCommand:V6,CreateBucketCommand:W6,CreateMultipartUploadCommand:J6,CreateSessionCommand:CP,DeleteBucketCommand:e4,DeleteBucketAnalyticsConfigurationCommand:Q6,DeleteBucketCorsCommand:r4,DeleteBucketEncryptionCommand:i4,DeleteBucketIntelligentTieringConfigurationCommand:s4,DeleteBucketInventoryConfigurationCommand:c4,DeleteBucketLifecycleCommand:d4,DeleteBucketMetricsConfigurationCommand:m4,DeleteBucketOwnershipControlsCommand:p4,DeleteBucketPolicyCommand:h4,DeleteBucketReplicationCommand:_4,DeleteBucketTaggingCommand:S4,DeleteBucketWebsiteCommand:C4,DeleteObjectCommand:w4,DeleteObjectsCommand:x4,DeleteObjectTaggingCommand:A4,DeletePublicAccessBlockCommand:k4,GetBucketAccelerateConfigurationCommand:T4,GetBucketAclCommand:B4,GetBucketAnalyticsConfigurationCommand:F4,GetBucketCorsCommand:j4,GetBucketEncryptionCommand:q4,GetBucketIntelligentTieringConfigurationCommand:H4,GetBucketInventoryConfigurationCommand:$4,GetBucketLifecycleConfigurationCommand:V4,GetBucketLocationCommand:W4,GetBucketLoggingCommand:J4,GetBucketMetricsConfigurationCommand:Q4,GetBucketNotificationConfigurationCommand:e8,GetBucketOwnershipControlsCommand:r8,GetBucketPolicyCommand:i8,GetBucketPolicyStatusCommand:s8,GetBucketReplicationCommand:c8,GetBucketRequestPaymentCommand:d8,GetBucketTaggingCommand:m8,GetBucketVersioningCommand:p8,GetBucketWebsiteCommand:h8,GetObjectCommand:C8,GetObjectAclCommand:_8,GetObjectAttributesCommand:S8,GetObjectLegalHoldCommand:w8,GetObjectLockConfigurationCommand:x8,GetObjectRetentionCommand:A8,GetObjectTaggingCommand:k8,GetObjectTorrentCommand:T8,GetPublicAccessBlockCommand:B8,HeadBucketCommand:t_,HeadObjectCommand:r_,ListBucketAnalyticsConfigurationsCommand:j8,ListBucketIntelligentTieringConfigurationsCommand:q8,ListBucketInventoryConfigurationsCommand:H8,ListBucketMetricsConfigurationsCommand:$8,ListBucketsCommand:bP,ListDirectoryBucketsCommand:wP,ListMultipartUploadsCommand:W8,ListObjectsCommand:J8,ListObjectsV2Command:PP,ListObjectVersionsCommand:Z8,ListPartsCommand:xP,PutBucketAccelerateConfigurationCommand:rV,PutBucketAclCommand:iV,PutBucketAnalyticsConfigurationCommand:sV,PutBucketCorsCommand:cV,PutBucketEncryptionCommand:dV,PutBucketIntelligentTieringConfigurationCommand:mV,PutBucketInventoryConfigurationCommand:pV,PutBucketLifecycleConfigurationCommand:hV,PutBucketLoggingCommand:_V,PutBucketMetricsConfigurationCommand:SV,PutBucketNotificationConfigurationCommand:CV,PutBucketOwnershipControlsCommand:wV,PutBucketPolicyCommand:xV,PutBucketReplicationCommand:AV,PutBucketRequestPaymentCommand:kV,PutBucketTaggingCommand:TV,PutBucketVersioningCommand:BV,PutBucketWebsiteCommand:FV,PutObjectCommand:qV,PutObjectAclCommand:jV,PutObjectLegalHoldCommand:HV,PutObjectLockConfigurationCommand:$V,PutObjectRetentionCommand:VV,PutObjectTaggingCommand:WV,PutPublicAccessBlockCommand:JV,RestoreObjectCommand:QV,SelectObjectContentCommand:eK,UploadPartCommand:rK,UploadPartCopyCommand:iK,WriteGetObjectResponseCommand:sK},aK=class extends vl{};d(aK,"S3");var cK=aK;(0,a.createAggregatedClient)(I2e,cK);var T2e=(Kt(),ve(ar)),N2e=(0,T2e.createPaginator)(vl,bP,"ContinuationToken","ContinuationToken","MaxBuckets"),B2e=(Kt(),ve(ar)),D2e=(0,B2e.createPaginator)(vl,wP,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),F2e=(Kt(),ve(ar)),L2e=(0,F2e.createPaginator)(vl,PP,"ContinuationToken","NextContinuationToken","MaxKeys"),j2e=(Kt(),ve(ar)),M2e=(0,j2e.createPaginator)(vl,xP,"PartNumberMarker","NextPartNumberMarker","MaxParts"),ht=f$(),lK=d(async(e,t)=>{let r;try{return r=await e.send(new t_(t)),{state:ht.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ht.WaiterState.RETRY,reason:r}}return{state:ht.WaiterState.RETRY,reason:r}},"checkState"),q2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ht.createWaiter)({...r,...e},t,lK)},"waitForBucketExists"),U2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ht.createWaiter)({...r,...e},t,lK);return(0,ht.checkExceptions)(n)},"waitUntilBucketExists"),dK=d(async(e,t)=>{let r;try{r=await e.send(new t_(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ht.WaiterState.SUCCESS,reason:r}}return{state:ht.WaiterState.RETRY,reason:r}},"checkState"),H2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ht.createWaiter)({...r,...e},t,dK)},"waitForBucketNotExists"),G2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ht.createWaiter)({...r,...e},t,dK);return(0,ht.checkExceptions)(n)},"waitUntilBucketNotExists"),uK=d(async(e,t)=>{let r;try{return r=await e.send(new r_(t)),{state:ht.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ht.WaiterState.RETRY,reason:r}}return{state:ht.WaiterState.RETRY,reason:r}},"checkState"),$2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ht.createWaiter)({...r,...e},t,uK)},"waitForObjectExists"),z2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ht.createWaiter)({...r,...e},t,uK);return(0,ht.checkExceptions)(n)},"waitUntilObjectExists"),mK=d(async(e,t)=>{let r;try{r=await e.send(new r_(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:ht.WaiterState.SUCCESS,reason:r}}return{state:ht.WaiterState.RETRY,reason:r}},"checkState"),V2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120};return(0,ht.createWaiter)({...r,...e},t,mK)},"waitForObjectNotExists"),K2e=d(async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await(0,ht.createWaiter)({...r,...e},t,mK);return(0,ht.checkExceptions)(n)},"waitUntilObjectNotExists")});var di=h((uQe,hK)=>{"use strict";u();var gK=function(e){return typeof e<"u"&&e!==null},W2e=function(e){return typeof e=="object"},X2e=function(e){return Object.prototype.toString.call(e)==="[object Object]"},J2e=function(e){return typeof e=="function"},Y2e=function(e){return typeof e=="boolean"},Q2e=function(e){return e instanceof Buffer},Z2e=function(e){if(gK(e))switch(e.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},eqe=function(e){return e instanceof ArrayBuffer},tqe=function(e){return typeof e=="string"&&e.length>0},rqe=function(e){return typeof e=="number"&&!Number.isNaN(e)},nqe=function(e){return Number.isInteger(e)},iqe=function(e,t,r){return e>=t&&e<=r},oqe=function(e,t){return t.includes(e)},sqe=function(e,t,r){return new Error(`Expected ${t} for ${e} but received ${r} of type ${typeof r}`)},aqe=function(e,t){return t.message=e.message,t};hK.exports={defined:gK,object:W2e,plainObject:X2e,fn:J2e,bool:Y2e,buffer:Q2e,typedArray:Z2e,arrayBuffer:eqe,string:tqe,number:rqe,integer:nqe,inRange:iqe,inArray:oqe,invalidParameterError:sqe,nativeError:aqe}});var yK=h((fQe,_K)=>{"use strict";u();var vK=()=>process.platform==="linux",n_=null,cqe=()=>{if(!n_)if(vK()&&process.report){let e=process.report.excludeNetwork;process.report.excludeNetwork=!0,n_=process.report.getReport(),process.report.excludeNetwork=e}else n_={};return n_};_K.exports={isLinux:vK,getReport:cqe}});var CK=h((gQe,EK)=>{"use strict";u();var SK=P("fs"),lqe="/usr/bin/ldd",dqe=e=>SK.readFileSync(e,"utf-8"),uqe=e=>new Promise((t,r)=>{SK.readFile(e,"utf-8",(n,i)=>{n?r(n):t(i)})});EK.exports={LDD_PATH:lqe,readFileSync:dqe,readFile:uqe}});var o_=h((vQe,MK)=>{"use strict";u();var wK=P("child_process"),{isLinux:yl,getReport:PK}=yK(),{LDD_PATH:i_,readFile:xK,readFileSync:OK}=CK(),ui,mi,AK="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",wo="",RK=()=>wo||new Promise(e=>{wK.exec(AK,(t,r)=>{wo=t?" ":r,e(wo)})}),kK=()=>{if(!wo)try{wo=wK.execSync(AK,{encoding:"utf8"})}catch{wo=" "}return wo},Po="glibc",IK=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,_l="musl",mqe=e=>e.includes("libc.musl-")||e.includes("ld-musl-"),TK=()=>{let e=PK();return e.header&&e.header.glibcVersionRuntime?Po:Array.isArray(e.sharedObjects)&&e.sharedObjects.some(mqe)?_l:null},NK=e=>{let[t,r]=e.split(/[\r\n]+/);return t&&t.includes(Po)?Po:r&&r.includes(_l)?_l:null},BK=e=>e.includes("musl")?_l:e.includes("GNU C Library")?Po:null,fqe=async()=>{if(ui!==void 0)return ui;ui=null;try{let e=await xK(i_);ui=BK(e)}catch{}return ui},pqe=()=>{if(ui!==void 0)return ui;ui=null;try{let e=OK(i_);ui=BK(e)}catch{}return ui},DK=async()=>{let e=null;if(yl()&&(e=await fqe(),e||(e=TK()),!e)){let t=await RK();e=NK(t)}return e},FK=()=>{let e=null;if(yl()&&(e=pqe(),e||(e=TK()),!e)){let t=kK();e=NK(t)}return e},gqe=async()=>yl()&&await DK()!==Po,hqe=()=>yl()&&FK()!==Po,vqe=async()=>{if(mi!==void 0)return mi;mi=null;try{let t=(await xK(i_)).match(IK);t&&(mi=t[1])}catch{}return mi},_qe=()=>{if(mi!==void 0)return mi;mi=null;try{let t=OK(i_).match(IK);t&&(mi=t[1])}catch{}return mi},LK=()=>{let e=PK();return e.header&&e.header.glibcVersionRuntime?e.header.glibcVersionRuntime:null},bK=e=>e.trim().split(/\s+/)[1],jK=e=>{let[t,r,n]=e.split(/[\r\n]+/);return t&&t.includes(Po)?bK(t):r&&n&&r.includes(_l)?bK(n):null},yqe=async()=>{let e=null;if(yl()&&(e=await vqe(),e||(e=LK()),!e)){let t=await RK();e=jK(t)}return e},Sqe=()=>{let e=null;if(yl()&&(e=_qe(),e||(e=LK()),!e)){let t=kK();e=jK(t)}return e};MK.exports={GLIBC:Po,MUSL:_l,family:DK,familySync:FK,isNonGlibcLinux:gqe,isNonGlibcLinuxSync:hqe,version:yqe,versionSync:Sqe}});var Pu=h((yQe,qK)=>{u();var Eqe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};qK.exports=Eqe});var s_=h((EQe,UK)=>{u();var Cqe="2.0.0",bqe=Number.MAX_SAFE_INTEGER||9007199254740991,wqe=16,Pqe=250,xqe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];UK.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:wqe,MAX_SAFE_BUILD_LENGTH:Pqe,MAX_SAFE_INTEGER:bqe,RELEASE_TYPES:xqe,SEMVER_SPEC_VERSION:Cqe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xu=h((Ti,HK)=>{u();var{MAX_SAFE_COMPONENT_LENGTH:OP,MAX_SAFE_BUILD_LENGTH:Oqe,MAX_LENGTH:Aqe}=s_(),Rqe=Pu();Ti=HK.exports={};var kqe=Ti.re=[],Iqe=Ti.safeRe=[],J=Ti.src=[],Y=Ti.t={},Tqe=0,AP="[a-zA-Z0-9-]",Nqe=[["\\s",1],["\\d",Aqe],[AP,Oqe]],Bqe=e=>{for(let[t,r]of Nqe)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},pe=(e,t,r)=>{let n=Bqe(t),i=Tqe++;Rqe(e,i,t),Y[e]=i,J[i]=t,kqe[i]=new RegExp(t,r?"g":void 0),Iqe[i]=new RegExp(n,r?"g":void 0)};pe("NUMERICIDENTIFIER","0|[1-9]\\d*");pe("NUMERICIDENTIFIERLOOSE","\\d+");pe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${AP}*`);pe("MAINVERSION",`(${J[Y.NUMERICIDENTIFIER]})\\.(${J[Y.NUMERICIDENTIFIER]})\\.(${J[Y.NUMERICIDENTIFIER]})`);pe("MAINVERSIONLOOSE",`(${J[Y.NUMERICIDENTIFIERLOOSE]})\\.(${J[Y.NUMERICIDENTIFIERLOOSE]})\\.(${J[Y.NUMERICIDENTIFIERLOOSE]})`);pe("PRERELEASEIDENTIFIER",`(?:${J[Y.NUMERICIDENTIFIER]}|${J[Y.NONNUMERICIDENTIFIER]})`);pe("PRERELEASEIDENTIFIERLOOSE",`(?:${J[Y.NUMERICIDENTIFIERLOOSE]}|${J[Y.NONNUMERICIDENTIFIER]})`);pe("PRERELEASE",`(?:-(${J[Y.PRERELEASEIDENTIFIER]}(?:\\.${J[Y.PRERELEASEIDENTIFIER]})*))`);pe("PRERELEASELOOSE",`(?:-?(${J[Y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${J[Y.PRERELEASEIDENTIFIERLOOSE]})*))`);pe("BUILDIDENTIFIER",`${AP}+`);pe("BUILD",`(?:\\+(${J[Y.BUILDIDENTIFIER]}(?:\\.${J[Y.BUILDIDENTIFIER]})*))`);pe("FULLPLAIN",`v?${J[Y.MAINVERSION]}${J[Y.PRERELEASE]}?${J[Y.BUILD]}?`);pe("FULL",`^${J[Y.FULLPLAIN]}$`);pe("LOOSEPLAIN",`[v=\\s]*${J[Y.MAINVERSIONLOOSE]}${J[Y.PRERELEASELOOSE]}?${J[Y.BUILD]}?`);pe("LOOSE",`^${J[Y.LOOSEPLAIN]}$`);pe("GTLT","((?:<|>)?=?)");pe("XRANGEIDENTIFIERLOOSE",`${J[Y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);pe("XRANGEIDENTIFIER",`${J[Y.NUMERICIDENTIFIER]}|x|X|\\*`);pe("XRANGEPLAIN",`[v=\\s]*(${J[Y.XRANGEIDENTIFIER]})(?:\\.(${J[Y.XRANGEIDENTIFIER]})(?:\\.(${J[Y.XRANGEIDENTIFIER]})(?:${J[Y.PRERELEASE]})?${J[Y.BUILD]}?)?)?`);pe("XRANGEPLAINLOOSE",`[v=\\s]*(${J[Y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${J[Y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${J[Y.XRANGEIDENTIFIERLOOSE]})(?:${J[Y.PRERELEASELOOSE]})?${J[Y.BUILD]}?)?)?`);pe("XRANGE",`^${J[Y.GTLT]}\\s*${J[Y.XRANGEPLAIN]}$`);pe("XRANGELOOSE",`^${J[Y.GTLT]}\\s*${J[Y.XRANGEPLAINLOOSE]}$`);pe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${OP}})(?:\\.(\\d{1,${OP}}))?(?:\\.(\\d{1,${OP}}))?`);pe("COERCE",`${J[Y.COERCEPLAIN]}(?:$|[^\\d])`);pe("COERCEFULL",J[Y.COERCEPLAIN]+`(?:${J[Y.PRERELEASE]})?(?:${J[Y.BUILD]})?(?:$|[^\\d])`);pe("COERCERTL",J[Y.COERCE],!0);pe("COERCERTLFULL",J[Y.COERCEFULL],!0);pe("LONETILDE","(?:~>?)");pe("TILDETRIM",`(\\s*)${J[Y.LONETILDE]}\\s+`,!0);Ti.tildeTrimReplace="$1~";pe("TILDE",`^${J[Y.LONETILDE]}${J[Y.XRANGEPLAIN]}$`);pe("TILDELOOSE",`^${J[Y.LONETILDE]}${J[Y.XRANGEPLAINLOOSE]}$`);pe("LONECARET","(?:\\^)");pe("CARETTRIM",`(\\s*)${J[Y.LONECARET]}\\s+`,!0);Ti.caretTrimReplace="$1^";pe("CARET",`^${J[Y.LONECARET]}${J[Y.XRANGEPLAIN]}$`);pe("CARETLOOSE",`^${J[Y.LONECARET]}${J[Y.XRANGEPLAINLOOSE]}$`);pe("COMPARATORLOOSE",`^${J[Y.GTLT]}\\s*(${J[Y.LOOSEPLAIN]})$|^$`);pe("COMPARATOR",`^${J[Y.GTLT]}\\s*(${J[Y.FULLPLAIN]})$|^$`);pe("COMPARATORTRIM",`(\\s*)${J[Y.GTLT]}\\s*(${J[Y.LOOSEPLAIN]}|${J[Y.XRANGEPLAIN]})`,!0);Ti.comparatorTrimReplace="$1$2$3";pe("HYPHENRANGE",`^\\s*(${J[Y.XRANGEPLAIN]})\\s+-\\s+(${J[Y.XRANGEPLAIN]})\\s*$`);pe("HYPHENRANGELOOSE",`^\\s*(${J[Y.XRANGEPLAINLOOSE]})\\s+-\\s+(${J[Y.XRANGEPLAINLOOSE]})\\s*$`);pe("STAR","(<|>)?=?\\s*\\*");pe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");pe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var a_=h((wQe,GK)=>{u();var Dqe=Object.freeze({loose:!0}),Fqe=Object.freeze({}),Lqe=e=>e?typeof e!="object"?Dqe:e:Fqe;GK.exports=Lqe});var KK=h((xQe,VK)=>{u();var $K=/^[0-9]+$/,zK=(e,t)=>{let r=$K.test(e),n=$K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},jqe=(e,t)=>zK(t,e);VK.exports={compareIdentifiers:zK,rcompareIdentifiers:jqe}});var El=h((AQe,YK)=>{u();var c_=Pu(),{MAX_LENGTH:WK,MAX_SAFE_INTEGER:l_}=s_(),{safeRe:XK,t:JK}=xu(),Mqe=a_(),{compareIdentifiers:Sl}=KK(),RP=class e{constructor(t,r){if(r=Mqe(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>WK)throw new TypeError(`version is longer than ${WK} characters`);c_("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?XK[JK.LOOSE]:XK[JK.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>l_||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l_||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l_||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<l_)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(c_("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Sl(this.major,t.major)||Sl(this.minor,t.minor)||Sl(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(c_("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sl(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(c_("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sl(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Sl(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};YK.exports=RP});var eW=h((kQe,ZK)=>{u();var QK=El(),qqe=(e,t,r=!1)=>{if(e instanceof QK)return e;try{return new QK(e,t)}catch(n){if(!r)return null;throw n}};ZK.exports=qqe});var rW=h((TQe,tW)=>{u();var Uqe=El(),Hqe=eW(),{safeRe:d_,t:u_}=xu(),Gqe=(e,t)=>{if(e instanceof Uqe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?d_[u_.COERCEFULL]:d_[u_.COERCE]);else{let l=t.includePrerelease?d_[u_.COERCERTLFULL]:d_[u_.COERCERTL],m;for(;(m=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||m.index+m[0].length!==r.index+r[0].length)&&(r=m),l.lastIndex=m.index+m[1].length+m[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Hqe(`${n}.${i}.${o}${s}${c}`,t)};tW.exports=Gqe});var Qs=h((BQe,iW)=>{u();var nW=El(),$qe=(e,t,r)=>new nW(e,r).compare(new nW(t,r));iW.exports=$qe});var kP=h((FQe,oW)=>{u();var zqe=Qs(),Vqe=(e,t,r)=>zqe(e,t,r)>=0;oW.exports=Vqe});var aW=h((jQe,sW)=>{u();var IP=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};sW.exports=IP});var lW=h((qQe,cW)=>{u();var Kqe=Qs(),Wqe=(e,t,r)=>Kqe(e,t,r)===0;cW.exports=Wqe});var uW=h((HQe,dW)=>{u();var Xqe=Qs(),Jqe=(e,t,r)=>Xqe(e,t,r)!==0;dW.exports=Jqe});var fW=h(($Qe,mW)=>{u();var Yqe=Qs(),Qqe=(e,t,r)=>Yqe(e,t,r)>0;mW.exports=Qqe});var gW=h((VQe,pW)=>{u();var Zqe=Qs(),eUe=(e,t,r)=>Zqe(e,t,r)<0;pW.exports=eUe});var vW=h((WQe,hW)=>{u();var tUe=Qs(),rUe=(e,t,r)=>tUe(e,t,r)<=0;hW.exports=rUe});var yW=h((JQe,_W)=>{u();var nUe=lW(),iUe=uW(),oUe=fW(),sUe=kP(),aUe=gW(),cUe=vW(),lUe=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return nUe(e,r,n);case"!=":return iUe(e,r,n);case">":return oUe(e,r,n);case">=":return sUe(e,r,n);case"<":return aUe(e,r,n);case"<=":return cUe(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};_W.exports=lUe});var xW=h((QQe,PW)=>{u();var Ou=Symbol("SemVer ANY"),BP=class e{static get ANY(){return Ou}constructor(t,r){if(r=SW(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),NP("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Ou?this.value="":this.value=this.operator+this.semver.version,NP("comp",this)}parse(t){let r=this.options.loose?EW[CW.COMPARATORLOOSE]:EW[CW.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new bW(n[2],this.options.loose):this.semver=Ou}toString(){return this.value}test(t){if(NP("Comparator.test",t,this.options.loose),this.semver===Ou||t===Ou)return!0;if(typeof t=="string")try{t=new bW(t,this.options)}catch{return!1}return TP(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new wW(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new wW(this.value,r).test(t.semver):(r=SW(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||TP(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||TP(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};PW.exports=BP;var SW=a_(),{safeRe:EW,t:CW}=xu(),TP=yW(),NP=Pu(),bW=El(),wW=DP()});var DP=h((eZe,kW)=>{u();var dUe=/\s+/g,FP=class e{constructor(t,r){if(r=mUe(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof LP)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(dUe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!AW(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&yUe(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&vUe)|(this.options.loose&&_Ue))+":"+t,i=OW.get(n);if(i)return i;let o=this.options.loose,s=o?kr[yr.HYPHENRANGELOOSE]:kr[yr.HYPHENRANGE];t=t.replace(s,RUe(this.options.includePrerelease)),tt("hyphen replace",t),t=t.replace(kr[yr.COMPARATORTRIM],pUe),tt("comparator trim",t),t=t.replace(kr[yr.TILDETRIM],gUe),tt("tilde trim",t),t=t.replace(kr[yr.CARETTRIM],hUe),tt("caret trim",t);let c=t.split(" ").map(g=>SUe(g,this.options)).join(" ").split(/\s+/).map(g=>AUe(g,this.options));o&&(c=c.filter(g=>(tt("loose invalid filter",g,this.options),!!g.match(kr[yr.COMPARATORLOOSE])))),tt("range list",c);let l=new Map,m=c.map(g=>new LP(g,this.options));for(let g of m){if(AW(g))return[g];l.set(g.value,g)}l.size>1&&l.has("")&&l.delete("");let f=[...l.values()];return OW.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>RW(n,r)&&t.set.some(i=>RW(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new fUe(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(kUe(this.set[r],t,this.options))return!0;return!1}};kW.exports=FP;var uUe=aW(),OW=new uUe,mUe=a_(),LP=xW(),tt=Pu(),fUe=El(),{safeRe:kr,t:yr,comparatorTrimReplace:pUe,tildeTrimReplace:gUe,caretTrimReplace:hUe}=xu(),{FLAG_INCLUDE_PRERELEASE:vUe,FLAG_LOOSE:_Ue}=s_(),AW=e=>e.value==="<0.0.0-0",yUe=e=>e.value==="",RW=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},SUe=(e,t)=>(tt("comp",e,t),e=bUe(e,t),tt("caret",e),e=EUe(e,t),tt("tildes",e),e=PUe(e,t),tt("xrange",e),e=OUe(e,t),tt("stars",e),e),Sr=e=>!e||e.toLowerCase()==="x"||e==="*",EUe=(e,t)=>e.trim().split(/\s+/).map(r=>CUe(r,t)).join(" "),CUe=(e,t)=>{let r=t.loose?kr[yr.TILDELOOSE]:kr[yr.TILDE];return e.replace(r,(n,i,o,s,c)=>{tt("tilde",e,n,i,o,s,c);let l;return Sr(i)?l="":Sr(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Sr(s)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:c?(tt("replaceTilde pr",c),l=`>=${i}.${o}.${s}-${c} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,tt("tilde return",l),l})},bUe=(e,t)=>e.trim().split(/\s+/).map(r=>wUe(r,t)).join(" "),wUe=(e,t)=>{tt("caret",e,t);let r=t.loose?kr[yr.CARETLOOSE]:kr[yr.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,s,c,l)=>{tt("caret",e,i,o,s,c,l);let m;return Sr(o)?m="":Sr(s)?m=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Sr(c)?o==="0"?m=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:l?(tt("replaceCaret pr",l),o==="0"?s==="0"?m=`>=${o}.${s}.${c}-${l} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}-${l} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c}-${l} <${+o+1}.0.0-0`):(tt("no pr"),o==="0"?s==="0"?m=`>=${o}.${s}.${c}${n} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c} <${+o+1}.0.0-0`),tt("caret return",m),m})},PUe=(e,t)=>(tt("replaceXRanges",e,t),e.split(/\s+/).map(r=>xUe(r,t)).join(" ")),xUe=(e,t)=>{e=e.trim();let r=t.loose?kr[yr.XRANGELOOSE]:kr[yr.XRANGE];return e.replace(r,(n,i,o,s,c,l)=>{tt("xRange",e,n,i,o,s,c,l);let m=Sr(o),f=m||Sr(s),g=f||Sr(c),y=g;return i==="="&&y&&(i=""),l=t.includePrerelease?"-0":"",m?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&y?(f&&(s=0),c=0,i===">"?(i=">=",f?(o=+o+1,s=0,c=0):(s=+s+1,c=0)):i==="<="&&(i="<",f?o=+o+1:s=+s+1),i==="<"&&(l="-0"),n=`${i+o}.${s}.${c}${l}`):f?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:g&&(n=`>=${o}.${s}.0${l} <${o}.${+s+1}.0-0`),tt("xRange return",n),n})},OUe=(e,t)=>(tt("replaceStars",e,t),e.trim().replace(kr[yr.STAR],"")),AUe=(e,t)=>(tt("replaceGTE0",e,t),e.trim().replace(kr[t.includePrerelease?yr.GTE0PRE:yr.GTE0],"")),RUe=e=>(t,r,n,i,o,s,c,l,m,f,g,y)=>(Sr(n)?r="":Sr(i)?r=`>=${n}.0.0${e?"-0":""}`:Sr(o)?r=`>=${n}.${i}.0${e?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Sr(m)?l="":Sr(f)?l=`<${+m+1}.0.0-0`:Sr(g)?l=`<${m}.${+f+1}.0-0`:y?l=`<=${m}.${f}.${g}-${y}`:e?l=`<${m}.${f}.${+g+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),kUe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(tt(e[n].semver),e[n].semver!==LP.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var TW=h((rZe,IW)=>{u();var IUe=DP(),TUe=(e,t,r)=>{try{t=new IUe(t,r)}catch{return!1}return t.test(e)};IW.exports=TUe});var jP=h((iZe,NUe)=>{NUe.exports={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.33.5",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://sharp.pixelplumbing.com",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb\xE4ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B\xFCnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J\xE9r\xE9my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kot\u011B\u0161ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci\xF1o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu\xE9 <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>","Don Denton <don@happycollision.com>"],scripts:{install:"node install/check",clean:"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT"',"test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build","package-from-github-release":"node npm/from-github-release","docs-build":"node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},type:"commonjs",main:"lib/index.js",types:"lib/index.d.ts",files:["install","lib","src/*.{cc,h,gyp}"],repository:{type:"git",url:"git://github.com/lovell/sharp.git"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{color:"^4.2.3","detect-libc":"^2.0.3",semver:"^7.6.3"},optionalDependencies:{"@img/sharp-darwin-arm64":"0.33.5","@img/sharp-darwin-x64":"0.33.5","@img/sharp-libvips-darwin-arm64":"1.0.4","@img/sharp-libvips-darwin-x64":"1.0.4","@img/sharp-libvips-linux-arm":"1.0.5","@img/sharp-libvips-linux-arm64":"1.0.4","@img/sharp-libvips-linux-s390x":"1.0.4","@img/sharp-libvips-linux-x64":"1.0.4","@img/sharp-libvips-linuxmusl-arm64":"1.0.4","@img/sharp-libvips-linuxmusl-x64":"1.0.4","@img/sharp-linux-arm":"0.33.5","@img/sharp-linux-arm64":"0.33.5","@img/sharp-linux-s390x":"0.33.5","@img/sharp-linux-x64":"0.33.5","@img/sharp-linuxmusl-arm64":"0.33.5","@img/sharp-linuxmusl-x64":"0.33.5","@img/sharp-wasm32":"0.33.5","@img/sharp-win32-ia32":"0.33.5","@img/sharp-win32-x64":"0.33.5"},devDependencies:{"@emnapi/runtime":"^1.2.0","@img/sharp-libvips-dev":"1.0.4","@img/sharp-libvips-dev-wasm32":"1.0.5","@img/sharp-libvips-win32-ia32":"1.0.4","@img/sharp-libvips-win32-x64":"1.0.4","@types/node":"*",async:"^3.2.5",cc:"^3.0.1",emnapi:"^1.2.0","exif-reader":"^2.0.1","extract-zip":"^2.0.1",icc:"^3.0.0","jsdoc-to-markdown":"^8.0.3","license-checker":"^25.0.1",mocha:"^10.7.3","node-addon-api":"^8.1.0",nyc:"^17.0.0",prebuild:"^13.0.1",semistandard:"^17.0.0","tar-fs":"^3.0.6",tsd:"^0.31.1"},license:"Apache-2.0",engines:{node:"^18.17.0 || ^20.3.0 || >=21.0.0"},config:{libvips:">=8.15.3"},funding:{url:"https://opencollective.com/libvips"},binary:{napi_versions:[9]},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]},nyc:{include:["lib"]},tsd:{directory:"test/types/"}}});var qP=h((oZe,HW)=>{"use strict";u();var{spawnSync:m_}=P("node:child_process"),{createHash:BUe}=P("node:crypto"),FW=rW(),DUe=kP(),FUe=TW(),NW=o_(),{config:LUe,engines:BW,optionalDependencies:jUe}=jP(),MUe=process.env.npm_package_config_libvips||LUe.libvips,LW=FW(MUe).version,qUe=["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-ia32","win32-x64"],f_={encoding:"utf8",shell:!0},UUe=e=>{e instanceof Error?console.error(`sharp: Installation error: ${e.message}`):console.log(`sharp: ${e}`)},jW=()=>NW.isNonGlibcLinuxSync()?NW.familySync():"",HUe=()=>`${process.platform}${jW()}-${process.arch}`,Cl=()=>{if(MW())return"wasm32";let{npm_config_arch:e,npm_config_platform:t,npm_config_libc:r}=process.env,n=typeof r=="string"?r:jW();return`${t||process.platform}${n}-${e||process.arch}`},GUe=()=>{try{return P(`@img/sharp-libvips-dev-${Cl()}/include`)}catch{try{return P("@img/sharp-libvips-dev/include")}catch{}}return""},$Ue=()=>{try{return P("@img/sharp-libvips-dev/cplusplus")}catch{}return""},zUe=()=>{try{return P(`@img/sharp-libvips-dev-${Cl()}/lib`)}catch{try{return P(`@img/sharp-libvips-${Cl()}/lib`)}catch{}}return""},VUe=()=>{if(process.release?.name==="node"&&process.versions&&!FUe(process.versions.node,BW.node))return{found:process.versions.node,expected:BW.node}},MW=()=>{let{CC:e}=process.env;return!!(e&&e.endsWith("/emcc"))},KUe=()=>process.platform==="darwin"&&process.arch==="x64"?(m_("sysctl sysctl.proc_translated",f_).stdout||"").trim()==="sysctl.proc_translated: 1":!1,DW=e=>BUe("sha512").update(e).digest("hex"),WUe=()=>{try{let e=DW(`imgsharp-libvips-${Cl()}`),t=FW(jUe[`@img/sharp-libvips-${Cl()}`]).version;return DW(`${e}npm:${t}`).slice(0,10)}catch{}return""},XUe=()=>m_(`node-gyp rebuild --directory=src ${MW()?"--nodedir=emscripten":""}`,{...f_,stdio:"inherit"}).status,qW=()=>process.platform!=="win32"?(m_("pkg-config --modversion vips-cpp",{...f_,env:{...process.env,PKG_CONFIG_PATH:UW()}}).stdout||"").trim():"",UW=()=>process.platform!=="win32"?[(m_('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',f_).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":"):"",MP=(e,t,r)=>(r&&r(`Detected ${t}, skipping search for globally-installed libvips`),e),JUe=e=>{if(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS)return MP(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS",e);if(process.env.SHARP_FORCE_GLOBAL_LIBVIPS)return MP(!0,"SHARP_FORCE_GLOBAL_LIBVIPS",e);if(KUe())return MP(!1,"Rosetta",e);let t=qW();return!!t&&DUe(t,LW)};HW.exports={minimumLibvipsVersion:LW,prebuiltPlatforms:qUe,buildPlatformArch:Cl,buildSharpLibvipsIncludeDir:GUe,buildSharpLibvipsCPlusPlusDir:$Ue,buildSharpLibvipsLibDir:zUe,isUnsupportedNodeRuntime:VUe,runtimePlatformArch:HUe,log:UUe,yarnLocator:WUe,spawnRebuild:XUe,globalLibvipsVersion:qW,pkgConfigPath:UW,useGlobalLibvips:JUe}});var Au=h((cZe,$W)=>{"use strict";u();var{familySync:YUe,versionSync:QUe}=o_(),{runtimePlatformArch:ZUe,isUnsupportedNodeRuntime:GW,prebuiltPlatforms:eHe,minimumLibvipsVersion:tHe}=qP(),Zs=ZUe(),rHe=[`../src/build/Release/sharp-${Zs}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${Zs}/sharp.node`,"@img/sharp-wasm32/sharp.node"],UP,p_=[];for(let e of rHe)try{UP=P(e);break}catch(t){p_.push(t)}if(UP)$W.exports=UP;else{let[e,t,r]=["linux","darwin","win32"].map(o=>Zs.startsWith(o)),n=[`Could not load the "sharp" module using the ${Zs} runtime`];p_.forEach(o=>{o.code!=="MODULE_NOT_FOUND"&&n.push(`${o.code}: ${o.message}`)});let i=p_.map(o=>o.message).join(" ");if(n.push("Possible solutions:"),GW()){let{found:o,expected:s}=GW();n.push("- Please upgrade Node.js:",`    Found ${o}`,`    Requires ${s}`)}else if(eHe.includes(Zs)){let[o,s]=Zs.split("-"),c=o.endsWith("musl")?" --libc=musl":"";n.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${o.replace("musl","")}${c} --cpu=${s} sharp`)}else n.push(`- Manually install libvips >= ${tHe}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(e&&/(symbol not found|CXXABI_)/i.test(i))try{let{config:o}=P(`@img/sharp-libvips-${Zs}/package`),s=`${YUe()} ${QUe()}`,c=`${o.musl?"musl":"glibc"} ${o.musl||o.glibc}`;n.push("- Update your OS:",`    Found ${s}`,`    Requires ${c}`)}catch{}throw e&&/\/snap\/core[0-9]{2}/.test(i)&&n.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node"),t&&/Incompatible library version/.test(i)&&n.push("- Update Homebrew:","    brew update && brew upgrade vips"),p_.some(o=>o.code==="ERR_DLOPEN_DISABLED")&&n.push("- Run Node.js without using the --no-addons flag"),r&&/The specified procedure could not be found/.test(i)&&n.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp"),n.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),new Error(n.join(`
`))}});var VW=h((uZe,zW)=>{"use strict";u();var nHe=P("node:util"),HP=P("node:stream"),iHe=di();Au();var oHe=nHe.debuglog("sharp"),ea=function(e,t){if(arguments.length===1&&!iHe.defined(e))throw new Error("Invalid input");return this instanceof ea?(HP.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],useExifOrientation:!1,angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBeforePreExtract:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],extendWith:"background",withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tint:[-1,0,0,0],flatten:!1,flattenBackground:[0,0,0],unflatten:!1,negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,precision:"integer",minAmpl:.2,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimBackground:[],trimThreshold:-1,trimLineArt:!1,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,normaliseLower:1,normaliseUpper:99,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspacePipeline:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,keepMetadata:0,withMetadataOrientation:-1,withMetadataDensity:0,withIccProfile:"",withExif:{},withExifMerge:!0,resolveWithObject:!1,jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpPreset:"default",webpEffort:4,webpMinSize:!1,webpMixed:!1,gifBitdepth:8,gifEffort:7,gifDither:1,gifInterFrameMaxError:0,gifInterPaletteMaxError:3,gifReuse:!0,gifProgressive:!1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffMiniswhite:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",heifBitdepth:8,jxlDistance:1,jxlDecodingTier:0,jxlEffort:7,jxlLossless:!1,rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",tileBasename:"",timeoutSeconds:0,linearA:[],linearB:[],debuglog:r=>{this.emit("warning",r),oHe(r)},queueListener:function(r){ea.queue.emit("change",r)}},this.options.input=this._createInputDescriptor(e,t,{allowStream:!0}),this):new ea(e,t)};Object.setPrototypeOf(ea.prototype,HP.Duplex.prototype);Object.setPrototypeOf(ea,HP.Duplex);function sHe(){let e=this.constructor.call(),{debuglog:t,queueListener:r,...n}=this.options;return e.options=structuredClone(n),e.options.debuglog=t,e.options.queueListener=r,this._isStreamInput()&&this.on("finish",()=>{this._flattenBufferIn(),e.options.input.buffer=this.options.input.buffer,e.emit("finish")}),e}Object.assign(ea.prototype,{clone:sHe});zW.exports=ea});var GP=h((fZe,KW)=>{"use strict";u();KW.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var XW=h((gZe,WW)=>{u();WW.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}});var QW=h((vZe,YW)=>{"use strict";u();var aHe=XW(),cHe=Array.prototype.concat,lHe=Array.prototype.slice,JW=YW.exports=function(t){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];aHe(o)?r=cHe.call(r,lHe.call(o)):r.push(o)}return r};JW.wrap=function(e){return function(){return e(JW(arguments))}}});var r9=h((yZe,t9)=>{u();var Ru=GP(),ku=QW(),ZW=Object.hasOwnProperty,e9=Object.create(null);for(g_ in Ru)ZW.call(Ru,g_)&&(e9[Ru[g_]]=g_);var g_,Lr=t9.exports={to:{},get:{}};Lr.get=function(e){var t=e.substring(0,3).toLowerCase(),r,n;switch(t){case"hsl":r=Lr.get.hsl(e),n="hsl";break;case"hwb":r=Lr.get.hwb(e),n="hwb";break;default:r=Lr.get.rgb(e),n="rgb";break}return r?{model:n,value:r}:null};Lr.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],c,l,m;if(c=e.match(r)){for(m=c[2],c=c[1],l=0;l<3;l++){var f=l*2;s[l]=parseInt(c.slice(f,f+2),16)}m&&(s[3]=parseInt(m,16)/255)}else if(c=e.match(t)){for(c=c[1],m=c[3],l=0;l<3;l++)s[l]=parseInt(c[l]+c[l],16);m&&(s[3]=parseInt(m+m,16)/255)}else if(c=e.match(n)){for(l=0;l<3;l++)s[l]=parseInt(c[l+1],0);c[4]&&(c[5]?s[3]=parseFloat(c[4])*.01:s[3]=parseFloat(c[4]))}else if(c=e.match(i)){for(l=0;l<3;l++)s[l]=Math.round(parseFloat(c[l+1])*2.55);c[4]&&(c[5]?s[3]=parseFloat(c[4])*.01:s[3]=parseFloat(c[4]))}else return(c=e.match(o))?c[1]==="transparent"?[0,0,0,0]:ZW.call(Ru,c[1])?(s=Ru[c[1]],s[3]=1,s):null:null;for(l=0;l<3;l++)s[l]=xo(s[l],0,255);return s[3]=xo(s[3],0,1),s};Lr.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=xo(parseFloat(r[2]),0,100),s=xo(parseFloat(r[3]),0,100),c=xo(isNaN(n)?1:n,0,1);return[i,o,s,c]}return null};Lr.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=xo(parseFloat(r[2]),0,100),s=xo(parseFloat(r[3]),0,100),c=xo(isNaN(n)?1:n,0,1);return[i,o,s,c]}return null};Lr.to.hex=function(){var e=ku(arguments);return"#"+h_(e[0])+h_(e[1])+h_(e[2])+(e[3]<1?h_(Math.round(e[3]*255)):"")};Lr.to.rgb=function(){var e=ku(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Lr.to.rgb.percent=function(){var e=ku(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};Lr.to.hsl=function(){var e=ku(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Lr.to.hwb=function(){var e=ku(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Lr.to.keyword=function(e){return e9[e.slice(0,3)]};function xo(e,t,r){return Math.min(Math.max(t,e),r)}function h_(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}});var $P=h((EZe,i9)=>{u();var Iu=GP(),n9={};for(let e of Object.keys(Iu))n9[Iu[e]]=e;var ne={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};i9.exports=ne;for(let e of Object.keys(ne)){if(!("channels"in ne[e]))throw new Error("missing channels property: "+e);if(!("labels"in ne[e]))throw new Error("missing channel labels property: "+e);if(ne[e].labels.length!==ne[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=ne[e];delete ne[e].channels,delete ne[e].labels,Object.defineProperty(ne[e],"channels",{value:t}),Object.defineProperty(ne[e],"labels",{value:r})}ne.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,c,l;o===i?c=0:t===o?c=(r-n)/s:r===o?c=2+(n-t)/s:n===o&&(c=4+(t-r)/s),c=Math.min(c*60,360),c<0&&(c+=360);let m=(i+o)/2;return o===i?l=0:m<=.5?l=s/(o+i):l=s/(2-o-i),[c,l*100,m*100]};ne.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,c=e[1]/255,l=e[2]/255,m=Math.max(s,c,l),f=m-Math.min(s,c,l),g=function(y){return(m-y)/6/f+1/2};return f===0?(i=0,o=0):(o=f/m,t=g(s),r=g(c),n=g(l),s===m?i=n-r:c===m?i=1/3+t-n:l===m&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,m*100]};ne.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=ne.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};ne.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,c=(1-n-i)/(1-i)||0;return[o*100,s*100,c*100,i*100]};function dHe(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}ne.rgb.keyword=function(e){let t=n9[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(Iu)){let o=Iu[i],s=dHe(e,o);s<r&&(r=s,n=i)}return n};ne.keyword.rgb=function(e){return Iu[e]};ne.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};ne.rgb.lab=function(e){let t=ne.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),c=200*(n-i);return[o,s,c]};ne.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let c=2*n-i,l=[0,0,0];for(let m=0;m<3;m++)o=t+1/3*-(m-1),o<0&&o++,o>1&&o--,6*o<1?s=c+(i-c)*6*o:2*o<1?s=i:3*o<2?s=c+(i-c)*(2/3-o)*6:s=c,l[m]=s*255;return l};ne.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,c=n===0?2*i/(o+i):2*r/(n+r);return[t,c*100,s*100]};ne.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),c=255*n*(1-r*o),l=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,l,s];case 1:return[c,n,s];case 2:return[s,n,l];case 3:return[s,c,n];case 4:return[l,s,n];case 5:return[n,s,c]}};ne.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let c=(2-r)*i;return o=r*i,o/=c<=1?c:2-c,o=o||0,s/=2,[t,o*100,s*100]};ne.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),c=1-n;o=6*t-s,s&1&&(o=1-o);let l=r+o*(c-r),m,f,g;switch(s){default:case 6:case 0:m=c,f=l,g=r;break;case 1:m=l,f=c,g=r;break;case 2:m=r,f=c,g=l;break;case 3:m=r,f=l,g=c;break;case 4:m=l,f=r,g=c;break;case 5:m=c,f=r,g=l;break}return[m*255,f*255,g*255]};ne.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),c=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,c*255]};ne.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};ne.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};ne.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let c=o**3,l=i**3,m=s**3;return o=c>.008856?c:(o-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,s=m>.008856?m:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};ne.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};ne.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};ne.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?ne.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};ne.hsv.ansi16=function(e){return ne.rgb.ansi16(ne.hsv.rgb(e),e[2])};ne.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};ne.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};ne.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};ne.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};ne.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(c=>c+c).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};ne.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,c,l;return s<1?c=o/(1-s):c=0,s<=0?l=0:i===t?l=(r-n)/s%6:i===r?l=2+(n-t)/s:l=4+(t-r)/s,l/=6,l%=1,[l*360,s*100,c*100]};ne.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};ne.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};ne.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,c=1-s,l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};ne.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};ne.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};ne.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};ne.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};ne.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};ne.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};ne.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};ne.gray.hsl=function(e){return[0,0,e[0]]};ne.gray.hsv=ne.gray.hsl;ne.gray.hwb=function(e){return[0,100,e[0]]};ne.gray.cmyk=function(e){return[0,0,0,e[0]]};ne.gray.lab=function(e){return[e[0],0,0]};ne.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};ne.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var s9=h((bZe,o9)=>{u();var v_=$P();function uHe(){let e={},t=Object.keys(v_);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function mHe(e){let t=uHe(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(v_[n]);for(let o=i.length,s=0;s<o;s++){let c=i[s],l=t[c];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(c))}}return t}function fHe(e,t){return function(r){return t(e(r))}}function pHe(e,t){let r=[t[e].parent,e],n=v_[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=fHe(v_[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}o9.exports=function(e){let t=mHe(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=pHe(s,t))}return r}});var c9=h((PZe,a9)=>{u();var zP=$P(),gHe=s9(),bl={},hHe=Object.keys(zP);function vHe(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function _He(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}hHe.forEach(e=>{bl[e]={},Object.defineProperty(bl[e],"channels",{value:zP[e].channels}),Object.defineProperty(bl[e],"labels",{value:zP[e].labels});let t=gHe(e);Object.keys(t).forEach(n=>{let i=t[n];bl[e][n]=_He(i),bl[e][n].raw=vHe(i)})});a9.exports=bl});var y_=h((OZe,d9)=>{u();var wl=r9(),jr=c9(),l9=["keyword","gray","hex"],VP={};for(let e of Object.keys(jr))VP[[...jr[e].labels].sort().join("")]=e;var __={};function zt(e,t){if(!(this instanceof zt))return new zt(e,t);if(t&&t in l9&&(t=null),t&&!(t in jr))throw new Error("Unknown model: "+t);let r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof zt)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){let i=wl.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,n=jr[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=jr[this.model].channels;let i=Array.prototype.slice.call(e,0,n);this.color=KP(i,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);let o=i.sort().join("");if(!(o in VP))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=VP[o];let{labels:s}=jr[this.model],c=[];for(r=0;r<s.length;r++)c.push(e[s[r]]);this.color=KP(c)}if(__[this.model])for(n=jr[this.model].channels,r=0;r<n;r++){let i=__[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}zt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in wl.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);let r=t.valpha===1?t.color:[...t.color,this.valpha];return wl.to[t.model](r)},percentString(e){let t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return wl.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let e={},{channels:t}=jr[this.model],{labels:r}=jr[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){let e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){let e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new zt([...this.color.map(SHe(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new zt([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:_t("rgb",0,Dt(255)),green:_t("rgb",1,Dt(255)),blue:_t("rgb",2,Dt(255)),hue:_t(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:_t("hsl",1,Dt(100)),lightness:_t("hsl",2,Dt(100)),saturationv:_t("hsv",1,Dt(100)),value:_t("hsv",2,Dt(100)),chroma:_t("hcg",1,Dt(100)),gray:_t("hcg",2,Dt(100)),white:_t("hwb",1,Dt(100)),wblack:_t("hwb",2,Dt(100)),cyan:_t("cmyk",0,Dt(100)),magenta:_t("cmyk",1,Dt(100)),yellow:_t("cmyk",2,Dt(100)),black:_t("cmyk",3,Dt(100)),x:_t("xyz",0,Dt(95.047)),y:_t("xyz",1,Dt(100)),z:_t("xyz",2,Dt(108.833)),l:_t("lab",0,Dt(100)),a:_t("lab",1),b:_t("lab",2),keyword(e){return e!==void 0?new zt(e):jr[this.model].keyword(this.color)},hex(e){return e!==void 0?new zt(e):wl.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new zt(e);let t=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),wl.to.hex(t)+r},rgbNumber(){let e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){let e=this.rgb().color,t=[];for(let[r,n]of e.entries()){let i=n/255;t[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){let t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){let t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){let t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){let t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){let t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){let t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){let t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){let t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){let e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return zt.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){let t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);let r=e.rgb(),n=this.rgb(),i=t===void 0?.5:t,o=2*i-1,s=r.alpha()-n.alpha(),c=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,l=1-c;return zt.rgb(c*r.red()+l*n.red(),c*r.green()+l*n.green(),c*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let e of Object.keys(jr)){if(l9.includes(e))continue;let{channels:t}=jr[e];zt.prototype[e]=function(...r){return this.model===e?new zt(this):r.length>0?new zt(r,e):new zt([...EHe(jr[this.model][e].raw(this.color)),this.valpha],e)},zt[e]=function(...r){let n=r[0];return typeof n=="number"&&(n=KP(r,t)),new zt(n,e)}}function yHe(e,t){return Number(e.toFixed(t))}function SHe(e){return function(t){return yHe(t,e)}}function _t(e,t,r){e=Array.isArray(e)?e:[e];for(let n of e)(__[n]||(__[n]=[]))[t]=r;return e=e[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function Dt(e){return function(t){return Math.max(0,Math.min(e,t))}}function EHe(e){return Array.isArray(e)?e:[e]}function KP(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}d9.exports=zt});var f9=h((RZe,m9)=>{"use strict";u();var CHe=y_(),x=di(),Oo=Au(),bHe={left:"low",center:"centre",centre:"centre",right:"high"};function u9(e){let{raw:t,density:r,limitInputPixels:n,ignoreIcc:i,unlimited:o,sequentialRead:s,failOn:c,failOnError:l,animated:m,page:f,pages:g,subifd:y}=e;return[t,r,n,i,o,s,c,l,m,f,g,y].some(x.defined)?{raw:t,density:r,limitInputPixels:n,ignoreIcc:i,unlimited:o,sequentialRead:s,failOn:c,failOnError:l,animated:m,page:f,pages:g,subifd:y}:void 0}function wHe(e,t,r){let n={failOn:"warning",limitInputPixels:Math.pow(16383,2),ignoreIcc:!1,unlimited:!1,sequentialRead:!0};if(x.string(e))n.file=e;else if(x.buffer(e)){if(e.length===0)throw Error("Input Buffer is empty");n.buffer=e}else if(x.arrayBuffer(e)){if(e.byteLength===0)throw Error("Input bit Array is empty");n.buffer=Buffer.from(e,0,e.byteLength)}else if(x.typedArray(e)){if(e.length===0)throw Error("Input Bit Array is empty");n.buffer=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(x.plainObject(e)&&!x.defined(t))t=e,u9(t)&&(n.buffer=[]);else if(!x.defined(e)&&!x.defined(t)&&x.object(r)&&r.allowStream)n.buffer=[];else throw new Error(`Unsupported input '${e}' of type ${typeof e}${x.defined(t)?` when also providing options of type ${typeof t}`:""}`);if(x.object(t)){if(x.defined(t.failOnError))if(x.bool(t.failOnError))n.failOn=t.failOnError?"warning":"none";else throw x.invalidParameterError("failOnError","boolean",t.failOnError);if(x.defined(t.failOn))if(x.string(t.failOn)&&x.inArray(t.failOn,["none","truncated","error","warning"]))n.failOn=t.failOn;else throw x.invalidParameterError("failOn","one of: none, truncated, error, warning",t.failOn);if(x.defined(t.density))if(x.inRange(t.density,1,1e5))n.density=t.density;else throw x.invalidParameterError("density","number between 1 and 100000",t.density);if(x.defined(t.ignoreIcc))if(x.bool(t.ignoreIcc))n.ignoreIcc=t.ignoreIcc;else throw x.invalidParameterError("ignoreIcc","boolean",t.ignoreIcc);if(x.defined(t.limitInputPixels))if(x.bool(t.limitInputPixels))n.limitInputPixels=t.limitInputPixels?Math.pow(16383,2):0;else if(x.integer(t.limitInputPixels)&&x.inRange(t.limitInputPixels,0,Number.MAX_SAFE_INTEGER))n.limitInputPixels=t.limitInputPixels;else throw x.invalidParameterError("limitInputPixels","positive integer",t.limitInputPixels);if(x.defined(t.unlimited))if(x.bool(t.unlimited))n.unlimited=t.unlimited;else throw x.invalidParameterError("unlimited","boolean",t.unlimited);if(x.defined(t.sequentialRead))if(x.bool(t.sequentialRead))n.sequentialRead=t.sequentialRead;else throw x.invalidParameterError("sequentialRead","boolean",t.sequentialRead);if(x.defined(t.raw))if(x.object(t.raw)&&x.integer(t.raw.width)&&t.raw.width>0&&x.integer(t.raw.height)&&t.raw.height>0&&x.integer(t.raw.channels)&&x.inRange(t.raw.channels,1,4))switch(n.rawWidth=t.raw.width,n.rawHeight=t.raw.height,n.rawChannels=t.raw.channels,n.rawPremultiplied=!!t.raw.premultiplied,e.constructor){case Uint8Array:case Uint8ClampedArray:n.rawDepth="uchar";break;case Int8Array:n.rawDepth="char";break;case Uint16Array:n.rawDepth="ushort";break;case Int16Array:n.rawDepth="short";break;case Uint32Array:n.rawDepth="uint";break;case Int32Array:n.rawDepth="int";break;case Float32Array:n.rawDepth="float";break;case Float64Array:n.rawDepth="double";break;default:n.rawDepth="uchar";break}else throw new Error("Expected width, height and channels for raw pixel input");if(x.defined(t.animated))if(x.bool(t.animated))n.pages=t.animated?-1:1;else throw x.invalidParameterError("animated","boolean",t.animated);if(x.defined(t.pages))if(x.integer(t.pages)&&x.inRange(t.pages,-1,1e5))n.pages=t.pages;else throw x.invalidParameterError("pages","integer between -1 and 100000",t.pages);if(x.defined(t.page))if(x.integer(t.page)&&x.inRange(t.page,0,1e5))n.page=t.page;else throw x.invalidParameterError("page","integer between 0 and 100000",t.page);if(x.defined(t.level))if(x.integer(t.level)&&x.inRange(t.level,0,256))n.level=t.level;else throw x.invalidParameterError("level","integer between 0 and 256",t.level);if(x.defined(t.subifd))if(x.integer(t.subifd)&&x.inRange(t.subifd,-1,1e5))n.subifd=t.subifd;else throw x.invalidParameterError("subifd","integer between -1 and 100000",t.subifd);if(x.defined(t.create))if(x.object(t.create)&&x.integer(t.create.width)&&t.create.width>0&&x.integer(t.create.height)&&t.create.height>0&&x.integer(t.create.channels)){if(n.createWidth=t.create.width,n.createHeight=t.create.height,n.createChannels=t.create.channels,x.defined(t.create.noise)){if(!x.object(t.create.noise))throw new Error("Expected noise to be an object");if(!x.inArray(t.create.noise.type,["gaussian"]))throw new Error("Only gaussian noise is supported at the moment");if(!x.inRange(t.create.channels,1,4))throw x.invalidParameterError("create.channels","number between 1 and 4",t.create.channels);if(n.createNoiseType=t.create.noise.type,x.number(t.create.noise.mean)&&x.inRange(t.create.noise.mean,0,1e4))n.createNoiseMean=t.create.noise.mean;else throw x.invalidParameterError("create.noise.mean","number between 0 and 10000",t.create.noise.mean);if(x.number(t.create.noise.sigma)&&x.inRange(t.create.noise.sigma,0,1e4))n.createNoiseSigma=t.create.noise.sigma;else throw x.invalidParameterError("create.noise.sigma","number between 0 and 10000",t.create.noise.sigma)}else if(x.defined(t.create.background)){if(!x.inRange(t.create.channels,3,4))throw x.invalidParameterError("create.channels","number between 3 and 4",t.create.channels);let i=CHe(t.create.background);n.createBackground=[i.red(),i.green(),i.blue(),Math.round(i.alpha()*255)]}else throw new Error("Expected valid noise or background to create a new input image");delete n.buffer}else throw new Error("Expected valid width, height and channels to create a new input image");if(x.defined(t.text))if(x.object(t.text)&&x.string(t.text.text)){if(n.textValue=t.text.text,x.defined(t.text.height)&&x.defined(t.text.dpi))throw new Error("Expected only one of dpi or height");if(x.defined(t.text.font))if(x.string(t.text.font))n.textFont=t.text.font;else throw x.invalidParameterError("text.font","string",t.text.font);if(x.defined(t.text.fontfile))if(x.string(t.text.fontfile))n.textFontfile=t.text.fontfile;else throw x.invalidParameterError("text.fontfile","string",t.text.fontfile);if(x.defined(t.text.width))if(x.integer(t.text.width)&&t.text.width>0)n.textWidth=t.text.width;else throw x.invalidParameterError("text.width","positive integer",t.text.width);if(x.defined(t.text.height))if(x.integer(t.text.height)&&t.text.height>0)n.textHeight=t.text.height;else throw x.invalidParameterError("text.height","positive integer",t.text.height);if(x.defined(t.text.align))if(x.string(t.text.align)&&x.string(this.constructor.align[t.text.align]))n.textAlign=this.constructor.align[t.text.align];else throw x.invalidParameterError("text.align","valid alignment",t.text.align);if(x.defined(t.text.justify))if(x.bool(t.text.justify))n.textJustify=t.text.justify;else throw x.invalidParameterError("text.justify","boolean",t.text.justify);if(x.defined(t.text.dpi))if(x.integer(t.text.dpi)&&x.inRange(t.text.dpi,1,1e6))n.textDpi=t.text.dpi;else throw x.invalidParameterError("text.dpi","integer between 1 and 1000000",t.text.dpi);if(x.defined(t.text.rgba))if(x.bool(t.text.rgba))n.textRgba=t.text.rgba;else throw x.invalidParameterError("text.rgba","bool",t.text.rgba);if(x.defined(t.text.spacing))if(x.integer(t.text.spacing)&&x.inRange(t.text.spacing,-1e6,1e6))n.textSpacing=t.text.spacing;else throw x.invalidParameterError("text.spacing","integer between -1000000 and 1000000",t.text.spacing);if(x.defined(t.text.wrap))if(x.string(t.text.wrap)&&x.inArray(t.text.wrap,["word","char","word-char","none"]))n.textWrap=t.text.wrap;else throw x.invalidParameterError("text.wrap","one of: word, char, word-char, none",t.text.wrap);delete n.buffer}else throw new Error("Expected a valid string to create an image with text.")}else if(x.defined(t))throw new Error("Invalid input options "+t);return n}function PHe(e,t,r){Array.isArray(this.options.input.buffer)?x.buffer(e)?(this.options.input.buffer.length===0&&this.on("finish",()=>{this.streamInFinished=!0}),this.options.input.buffer.push(e),r()):r(new Error("Non-Buffer data on Writable Stream")):r(new Error("Unexpected data on Writable Stream"))}function xHe(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function OHe(){return Array.isArray(this.options.input.buffer)}function AHe(e){let t=Error();return x.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),Oo.metadata(this.options,(r,n)=>{r?e(x.nativeError(r,t)):e(null,n)})}):Oo.metadata(this.options,(r,n)=>{r?e(x.nativeError(r,t)):e(null,n)}),this):this._isStreamInput()?new Promise((r,n)=>{let i=()=>{this._flattenBufferIn(),Oo.metadata(this.options,(o,s)=>{o?n(x.nativeError(o,t)):r(s)})};this.writableFinished?i():this.once("finish",i)}):new Promise((r,n)=>{Oo.metadata(this.options,(i,o)=>{i?n(x.nativeError(i,t)):r(o)})})}function RHe(e){let t=Error();return x.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),Oo.stats(this.options,(r,n)=>{r?e(x.nativeError(r,t)):e(null,n)})}):Oo.stats(this.options,(r,n)=>{r?e(x.nativeError(r,t)):e(null,n)}),this):this._isStreamInput()?new Promise((r,n)=>{this.on("finish",function(){this._flattenBufferIn(),Oo.stats(this.options,(i,o)=>{i?n(x.nativeError(i,t)):r(o)})})}):new Promise((r,n)=>{Oo.stats(this.options,(i,o)=>{i?n(x.nativeError(i,t)):r(o)})})}m9.exports=function(e){Object.assign(e.prototype,{_inputOptionsFromObject:u9,_createInputDescriptor:wHe,_write:PHe,_flattenBufferIn:xHe,_isStreamInput:OHe,metadata:AHe,stats:RHe}),e.align=bHe}});var y9=h((IZe,_9)=>{"use strict";u();var ie=di(),g9={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},h9={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},p9={background:"background",copy:"copy",repeat:"repeat",mirror:"mirror"},v9={entropy:16,attention:17},WP={nearest:"nearest",linear:"linear",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3"},kHe={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},IHe={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function XP(e){return e.angle%360!==0||e.useExifOrientation===!0||e.rotationAngle!==0}function S_(e){return e.width!==-1||e.height!==-1}function THe(e,t,r){if(S_(this.options)&&this.options.debuglog("ignoring previous resize options"),this.options.widthPost!==-1&&this.options.debuglog("operation order will be: extract, resize, extract"),ie.defined(e))if(ie.object(e)&&!ie.defined(r))r=e;else if(ie.integer(e)&&e>0)this.options.width=e;else throw ie.invalidParameterError("width","positive integer",e);else this.options.width=-1;if(ie.defined(t))if(ie.integer(t)&&t>0)this.options.height=t;else throw ie.invalidParameterError("height","positive integer",t);else this.options.height=-1;if(ie.object(r)){if(ie.defined(r.width))if(ie.integer(r.width)&&r.width>0)this.options.width=r.width;else throw ie.invalidParameterError("width","positive integer",r.width);if(ie.defined(r.height))if(ie.integer(r.height)&&r.height>0)this.options.height=r.height;else throw ie.invalidParameterError("height","positive integer",r.height);if(ie.defined(r.fit)){let n=IHe[r.fit];if(ie.string(n))this.options.canvas=n;else throw ie.invalidParameterError("fit","valid fit",r.fit)}if(ie.defined(r.position)){let n=ie.integer(r.position)?r.position:v9[r.position]||h9[r.position]||g9[r.position];if(ie.integer(n)&&(ie.inRange(n,0,8)||ie.inRange(n,16,17)))this.options.position=n;else throw ie.invalidParameterError("position","valid position/gravity/strategy",r.position)}if(this._setBackgroundColourOption("resizeBackground",r.background),ie.defined(r.kernel))if(ie.string(WP[r.kernel]))this.options.kernel=WP[r.kernel];else throw ie.invalidParameterError("kernel","valid kernel name",r.kernel);ie.defined(r.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",r.withoutEnlargement),ie.defined(r.withoutReduction)&&this._setBooleanOption("withoutReduction",r.withoutReduction),ie.defined(r.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",r.fastShrinkOnLoad)}return XP(this.options)&&S_(this.options)&&(this.options.rotateBeforePreExtract=!0),this}function NHe(e){if(ie.integer(e)&&e>0)this.options.extendTop=e,this.options.extendBottom=e,this.options.extendLeft=e,this.options.extendRight=e;else if(ie.object(e)){if(ie.defined(e.top))if(ie.integer(e.top)&&e.top>=0)this.options.extendTop=e.top;else throw ie.invalidParameterError("top","positive integer",e.top);if(ie.defined(e.bottom))if(ie.integer(e.bottom)&&e.bottom>=0)this.options.extendBottom=e.bottom;else throw ie.invalidParameterError("bottom","positive integer",e.bottom);if(ie.defined(e.left))if(ie.integer(e.left)&&e.left>=0)this.options.extendLeft=e.left;else throw ie.invalidParameterError("left","positive integer",e.left);if(ie.defined(e.right))if(ie.integer(e.right)&&e.right>=0)this.options.extendRight=e.right;else throw ie.invalidParameterError("right","positive integer",e.right);if(this._setBackgroundColourOption("extendBackground",e.background),ie.defined(e.extendWith))if(ie.string(p9[e.extendWith]))this.options.extendWith=p9[e.extendWith];else throw ie.invalidParameterError("extendWith","one of: background, copy, repeat, mirror",e.extendWith)}else throw ie.invalidParameterError("extend","integer or object",e);return this}function BHe(e){let t=S_(this.options)||this.options.widthPre!==-1?"Post":"Pre";return this.options[`width${t}`]!==-1&&this.options.debuglog("ignoring previous extract options"),["left","top","width","height"].forEach(function(r){let n=e[r];if(ie.integer(n)&&n>=0)this.options[r+(r==="left"||r==="top"?"Offset":"")+t]=n;else throw ie.invalidParameterError(r,"integer",n)},this),XP(this.options)&&!S_(this.options)&&(this.options.widthPre===-1||this.options.widthPost===-1)&&(this.options.rotateBeforePreExtract=!0),this}function DHe(e){if(this.options.trimThreshold=10,ie.defined(e))if(ie.object(e)){if(ie.defined(e.background)&&this._setBackgroundColourOption("trimBackground",e.background),ie.defined(e.threshold))if(ie.number(e.threshold)&&e.threshold>=0)this.options.trimThreshold=e.threshold;else throw ie.invalidParameterError("threshold","positive number",e.threshold);ie.defined(e.lineArt)&&this._setBooleanOption("trimLineArt",e.lineArt)}else throw ie.invalidParameterError("trim","object",e);return XP(this.options)&&(this.options.rotateBeforePreExtract=!0),this}_9.exports=function(e){Object.assign(e.prototype,{resize:THe,extend:NHe,extract:BHe,trim:DHe}),e.gravity=g9,e.strategy=v9,e.kernel=WP,e.fit=kHe,e.position=h9}});var E9=h((NZe,S9)=>{"use strict";u();var qe=di(),JP={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function FHe(e){if(!Array.isArray(e))throw qe.invalidParameterError("images to composite","array",e);return this.options.composite=e.map(t=>{if(!qe.object(t))throw qe.invalidParameterError("image to composite","object",t);let r=this._inputOptionsFromObject(t),n={input:this._createInputDescriptor(t.input,r,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(qe.defined(t.blend))if(qe.string(JP[t.blend]))n.blend=JP[t.blend];else throw qe.invalidParameterError("blend","valid blend name",t.blend);if(qe.defined(t.tile))if(qe.bool(t.tile))n.tile=t.tile;else throw qe.invalidParameterError("tile","boolean",t.tile);if(qe.defined(t.left))if(qe.integer(t.left))n.left=t.left;else throw qe.invalidParameterError("left","integer",t.left);if(qe.defined(t.top))if(qe.integer(t.top))n.top=t.top;else throw qe.invalidParameterError("top","integer",t.top);if(qe.defined(t.top)!==qe.defined(t.left))throw new Error("Expected both left and top to be set");if(n.hasOffset=qe.integer(t.top)&&qe.integer(t.left),qe.defined(t.gravity))if(qe.integer(t.gravity)&&qe.inRange(t.gravity,0,8))n.gravity=t.gravity;else if(qe.string(t.gravity)&&qe.integer(this.constructor.gravity[t.gravity]))n.gravity=this.constructor.gravity[t.gravity];else throw qe.invalidParameterError("gravity","valid gravity",t.gravity);if(qe.defined(t.premultiplied))if(qe.bool(t.premultiplied))n.premultiplied=t.premultiplied;else throw qe.invalidParameterError("premultiplied","boolean",t.premultiplied);return n}),this}S9.exports=function(e){e.prototype.composite=FHe,e.blend=JP}});var w9=h((DZe,b9)=>{"use strict";u();var LHe=y_(),C=di(),C9={integer:"integer",float:"float",approximate:"approximate"};function jHe(e,t){if((this.options.useExifOrientation||this.options.angle||this.options.rotationAngle)&&this.options.debuglog("ignoring previous rotate options"),!C.defined(e))this.options.useExifOrientation=!0;else if(C.integer(e)&&!(e%90))this.options.angle=e;else if(C.number(e)){if(this.options.rotationAngle=e,C.object(t)&&t.background){let r=LHe(t.background);this.options.rotationBackground=[r.red(),r.green(),r.blue(),Math.round(r.alpha()*255)]}}else throw C.invalidParameterError("angle","numeric",e);return this}function MHe(e){return this.options.flip=C.bool(e)?e:!0,this}function qHe(e){return this.options.flop=C.bool(e)?e:!0,this}function UHe(e,t){let r=[].concat(...e);if(r.length===4&&r.every(C.number))this.options.affineMatrix=r;else throw C.invalidParameterError("matrix","1x4 or 2x2 array",e);if(C.defined(t))if(C.object(t)){if(this._setBackgroundColourOption("affineBackground",t.background),C.defined(t.idx))if(C.number(t.idx))this.options.affineIdx=t.idx;else throw C.invalidParameterError("options.idx","number",t.idx);if(C.defined(t.idy))if(C.number(t.idy))this.options.affineIdy=t.idy;else throw C.invalidParameterError("options.idy","number",t.idy);if(C.defined(t.odx))if(C.number(t.odx))this.options.affineOdx=t.odx;else throw C.invalidParameterError("options.odx","number",t.odx);if(C.defined(t.ody))if(C.number(t.ody))this.options.affineOdy=t.ody;else throw C.invalidParameterError("options.ody","number",t.ody);if(C.defined(t.interpolator))if(C.inArray(t.interpolator,Object.values(this.constructor.interpolators)))this.options.affineInterpolator=t.interpolator;else throw C.invalidParameterError("options.interpolator","valid interpolator name",t.interpolator)}else throw C.invalidParameterError("options","object",t);return this}function HHe(e,t,r){if(!C.defined(e))this.options.sharpenSigma=-1;else if(C.bool(e))this.options.sharpenSigma=e?-1:0;else if(C.number(e)&&C.inRange(e,.01,1e4)){if(this.options.sharpenSigma=e,C.defined(t))if(C.number(t)&&C.inRange(t,0,1e4))this.options.sharpenM1=t;else throw C.invalidParameterError("flat","number between 0 and 10000",t);if(C.defined(r))if(C.number(r)&&C.inRange(r,0,1e4))this.options.sharpenM2=r;else throw C.invalidParameterError("jagged","number between 0 and 10000",r)}else if(C.plainObject(e)){if(C.number(e.sigma)&&C.inRange(e.sigma,1e-6,10))this.options.sharpenSigma=e.sigma;else throw C.invalidParameterError("options.sigma","number between 0.000001 and 10",e.sigma);if(C.defined(e.m1))if(C.number(e.m1)&&C.inRange(e.m1,0,1e6))this.options.sharpenM1=e.m1;else throw C.invalidParameterError("options.m1","number between 0 and 1000000",e.m1);if(C.defined(e.m2))if(C.number(e.m2)&&C.inRange(e.m2,0,1e6))this.options.sharpenM2=e.m2;else throw C.invalidParameterError("options.m2","number between 0 and 1000000",e.m2);if(C.defined(e.x1))if(C.number(e.x1)&&C.inRange(e.x1,0,1e6))this.options.sharpenX1=e.x1;else throw C.invalidParameterError("options.x1","number between 0 and 1000000",e.x1);if(C.defined(e.y2))if(C.number(e.y2)&&C.inRange(e.y2,0,1e6))this.options.sharpenY2=e.y2;else throw C.invalidParameterError("options.y2","number between 0 and 1000000",e.y2);if(C.defined(e.y3))if(C.number(e.y3)&&C.inRange(e.y3,0,1e6))this.options.sharpenY3=e.y3;else throw C.invalidParameterError("options.y3","number between 0 and 1000000",e.y3)}else throw C.invalidParameterError("sigma","number between 0.01 and 10000",e);return this}function GHe(e){if(!C.defined(e))this.options.medianSize=3;else if(C.integer(e)&&C.inRange(e,1,1e3))this.options.medianSize=e;else throw C.invalidParameterError("size","integer between 1 and 1000",e);return this}function $He(e){let t;if(C.number(e))t=e;else if(C.plainObject(e)){if(!C.number(e.sigma))throw C.invalidParameterError("options.sigma","number between 0.3 and 1000",t);if(t=e.sigma,"precision"in e)if(C.string(C9[e.precision]))this.options.precision=C9[e.precision];else throw C.invalidParameterError("precision","one of: integer, float, approximate",e.precision);if("minAmplitude"in e)if(C.number(e.minAmplitude)&&C.inRange(e.minAmplitude,.001,1))this.options.minAmpl=e.minAmplitude;else throw C.invalidParameterError("minAmplitude","number between 0.001 and 1",e.minAmplitude)}if(!C.defined(e))this.options.blurSigma=-1;else if(C.bool(e))this.options.blurSigma=e?-1:0;else if(C.number(t)&&C.inRange(t,.3,1e3))this.options.blurSigma=t;else throw C.invalidParameterError("sigma","number between 0.3 and 1000",t);return this}function zHe(e){return this.options.flatten=C.bool(e)?e:!0,C.object(e)&&this._setBackgroundColourOption("flattenBackground",e.background),this}function VHe(){return this.options.unflatten=!0,this}function KHe(e,t){if(!C.defined(e))this.options.gamma=2.2;else if(C.number(e)&&C.inRange(e,1,3))this.options.gamma=e;else throw C.invalidParameterError("gamma","number between 1.0 and 3.0",e);if(!C.defined(t))this.options.gammaOut=this.options.gamma;else if(C.number(t)&&C.inRange(t,1,3))this.options.gammaOut=t;else throw C.invalidParameterError("gammaOut","number between 1.0 and 3.0",t);return this}function WHe(e){if(this.options.negate=C.bool(e)?e:!0,C.plainObject(e)&&"alpha"in e)if(C.bool(e.alpha))this.options.negateAlpha=e.alpha;else throw C.invalidParameterError("alpha","should be boolean value",e.alpha);return this}function XHe(e){if(C.plainObject(e)){if(C.defined(e.lower))if(C.number(e.lower)&&C.inRange(e.lower,0,99))this.options.normaliseLower=e.lower;else throw C.invalidParameterError("lower","number between 0 and 99",e.lower);if(C.defined(e.upper))if(C.number(e.upper)&&C.inRange(e.upper,1,100))this.options.normaliseUpper=e.upper;else throw C.invalidParameterError("upper","number between 1 and 100",e.upper)}if(this.options.normaliseLower>=this.options.normaliseUpper)throw C.invalidParameterError("range","lower to be less than upper",`${this.options.normaliseLower} >= ${this.options.normaliseUpper}`);return this.options.normalise=!0,this}function JHe(e){return this.normalise(e)}function YHe(e){if(C.plainObject(e)){if(C.integer(e.width)&&e.width>0)this.options.claheWidth=e.width;else throw C.invalidParameterError("width","integer greater than zero",e.width);if(C.integer(e.height)&&e.height>0)this.options.claheHeight=e.height;else throw C.invalidParameterError("height","integer greater than zero",e.height);if(C.defined(e.maxSlope))if(C.integer(e.maxSlope)&&C.inRange(e.maxSlope,0,100))this.options.claheMaxSlope=e.maxSlope;else throw C.invalidParameterError("maxSlope","integer between 0 and 100",e.maxSlope)}else throw C.invalidParameterError("options","plain object",e);return this}function QHe(e){if(!C.object(e)||!Array.isArray(e.kernel)||!C.integer(e.width)||!C.integer(e.height)||!C.inRange(e.width,3,1001)||!C.inRange(e.height,3,1001)||e.height*e.width!==e.kernel.length)throw new Error("Invalid convolution kernel");return C.integer(e.scale)||(e.scale=e.kernel.reduce(function(t,r){return t+r},0)),e.scale<1&&(e.scale=1),C.integer(e.offset)||(e.offset=0),this.options.convKernel=e,this}function ZHe(e,t){if(!C.defined(e))this.options.threshold=128;else if(C.bool(e))this.options.threshold=e?128:0;else if(C.integer(e)&&C.inRange(e,0,255))this.options.threshold=e;else throw C.invalidParameterError("threshold","integer between 0 and 255",e);return!C.object(t)||t.greyscale===!0||t.grayscale===!0?this.options.thresholdGrayscale=!0:this.options.thresholdGrayscale=!1,this}function eGe(e,t,r){if(this.options.boolean=this._createInputDescriptor(e,r),C.string(t)&&C.inArray(t,["and","or","eor"]))this.options.booleanOp=t;else throw C.invalidParameterError("operator","one of: and, or, eor",t);return this}function tGe(e,t){if(!C.defined(e)&&C.number(t)?e=1:C.number(e)&&!C.defined(t)&&(t=0),!C.defined(e))this.options.linearA=[];else if(C.number(e))this.options.linearA=[e];else if(Array.isArray(e)&&e.length&&e.every(C.number))this.options.linearA=e;else throw C.invalidParameterError("a","number or array of numbers",e);if(!C.defined(t))this.options.linearB=[];else if(C.number(t))this.options.linearB=[t];else if(Array.isArray(t)&&t.length&&t.every(C.number))this.options.linearB=t;else throw C.invalidParameterError("b","number or array of numbers",t);if(this.options.linearA.length!==this.options.linearB.length)throw new Error("Expected a and b to be arrays of the same length");return this}function rGe(e){if(!Array.isArray(e))throw C.invalidParameterError("inputMatrix","array",e);if(e.length!==3&&e.length!==4)throw C.invalidParameterError("inputMatrix","3x3 or 4x4 array",e.length);let t=e.flat().map(Number);if(t.length!==9&&t.length!==16)throw C.invalidParameterError("inputMatrix","cardinality of 9 or 16",t.length);return this.options.recombMatrix=t,this}function nGe(e){if(!C.plainObject(e))throw C.invalidParameterError("options","plain object",e);if("brightness"in e)if(C.number(e.brightness)&&e.brightness>=0)this.options.brightness=e.brightness;else throw C.invalidParameterError("brightness","number above zero",e.brightness);if("saturation"in e)if(C.number(e.saturation)&&e.saturation>=0)this.options.saturation=e.saturation;else throw C.invalidParameterError("saturation","number above zero",e.saturation);if("hue"in e)if(C.integer(e.hue))this.options.hue=e.hue%360;else throw C.invalidParameterError("hue","number",e.hue);if("lightness"in e)if(C.number(e.lightness))this.options.lightness=e.lightness;else throw C.invalidParameterError("lightness","number",e.lightness);return this}b9.exports=function(e){Object.assign(e.prototype,{rotate:jHe,flip:MHe,flop:qHe,affine:UHe,sharpen:HHe,median:GHe,blur:$He,flatten:zHe,unflatten:VHe,gamma:KHe,negate:WHe,normalise:XHe,normalize:JHe,clahe:YHe,convolve:QHe,threshold:ZHe,boolean:eGe,linear:tGe,recomb:rGe,modulate:nGe})}});var O9=h((LZe,x9)=>{"use strict";u();var iGe=y_(),Ni=di(),P9={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function oGe(e){return this._setBackgroundColourOption("tint",e),this}function sGe(e){return this.options.greyscale=Ni.bool(e)?e:!0,this}function aGe(e){return this.greyscale(e)}function cGe(e){if(!Ni.string(e))throw Ni.invalidParameterError("colourspace","string",e);return this.options.colourspacePipeline=e,this}function lGe(e){return this.pipelineColourspace(e)}function dGe(e){if(!Ni.string(e))throw Ni.invalidParameterError("colourspace","string",e);return this.options.colourspace=e,this}function uGe(e){return this.toColourspace(e)}function mGe(e,t){if(Ni.defined(t))if(Ni.object(t)||Ni.string(t)){let r=iGe(t);this.options[e]=[r.red(),r.green(),r.blue(),Math.round(r.alpha()*255)]}else throw Ni.invalidParameterError("background","object or string",t)}x9.exports=function(e){Object.assign(e.prototype,{tint:oGe,greyscale:sGe,grayscale:aGe,pipelineColourspace:cGe,pipelineColorspace:lGe,toColourspace:dGe,toColorspace:uGe,_setBackgroundColourOption:mGe}),e.colourspace=P9,e.colorspace=P9}});var R9=h((MZe,A9)=>{"use strict";u();var fi=di(),fGe={and:"and",or:"or",eor:"eor"};function pGe(){return this.options.removeAlpha=!0,this}function gGe(e){if(fi.defined(e))if(fi.number(e)&&fi.inRange(e,0,1))this.options.ensureAlpha=e;else throw fi.invalidParameterError("alpha","number between 0 and 1",e);else this.options.ensureAlpha=1;return this}function hGe(e){let t={red:0,green:1,blue:2,alpha:3};if(Object.keys(t).includes(e)&&(e=t[e]),fi.integer(e)&&fi.inRange(e,0,4))this.options.extractChannel=e;else throw fi.invalidParameterError("channel","integer or one of: red, green, blue, alpha",e);return this}function vGe(e,t){return Array.isArray(e)?e.forEach(function(r){this.options.joinChannelIn.push(this._createInputDescriptor(r,t))},this):this.options.joinChannelIn.push(this._createInputDescriptor(e,t)),this}function _Ge(e){if(fi.string(e)&&fi.inArray(e,["and","or","eor"]))this.options.bandBoolOp=e;else throw fi.invalidParameterError("boolOp","one of: and, or, eor",e);return this}A9.exports=function(e){Object.assign(e.prototype,{removeAlpha:pGe,ensureAlpha:gGe,extractChannel:hGe,joinChannel:vGe,bandbool:_Ge}),e.bool=fGe}});var D9=h((UZe,B9)=>{"use strict";u();var YP=P("node:path"),p=di(),Pl=Au(),k9=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["jpe","jpeg"],["tile","tile"],["dz","tile"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"],["jxl","jxl"]]),yGe=/\.(jp[2x]|j2[kc])$/i,I9=()=>new Error("JP2 output requires libvips with support for OpenJPEG"),T9=e=>1<<31-Math.clz32(Math.ceil(Math.log2(e)));function SGe(e,t){let r;if(p.string(e)?p.string(this.options.input.file)&&YP.resolve(this.options.input.file)===YP.resolve(e)?r=new Error("Cannot use same file for input and output"):yGe.test(YP.extname(e))&&!this.constructor.format.jp2k.output.file&&(r=I9()):r=new Error("Missing output file path"),r)if(p.fn(t))t(r);else return Promise.reject(r);else{this.options.fileOut=e;let n=Error();return this._pipeline(t,n)}return this}function EGe(e,t){p.object(e)?this._setBooleanOption("resolveWithObject",e.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="";let r=Error();return this._pipeline(p.fn(e)?e:t,r)}function CGe(){return this.options.keepMetadata|=1,this}function bGe(e){if(p.object(e))for(let[t,r]of Object.entries(e))if(p.object(r))for(let[n,i]of Object.entries(r))if(p.string(i))this.options.withExif[`exif-${t.toLowerCase()}-${n}`]=i;else throw p.invalidParameterError(`${t}.${n}`,"string",i);else throw p.invalidParameterError(t,"object",r);else throw p.invalidParameterError("exif","object",e);return this.options.withExifMerge=!1,this.keepExif()}function wGe(e){return this.withExif(e),this.options.withExifMerge=!0,this}function PGe(){return this.options.keepMetadata|=8,this}function xGe(e,t){if(p.string(e))this.options.withIccProfile=e;else throw p.invalidParameterError("icc","string",e);if(this.keepIccProfile(),p.object(t)&&p.defined(t.attach))if(p.bool(t.attach))t.attach||(this.options.keepMetadata&=-9);else throw p.invalidParameterError("attach","boolean",t.attach);return this}function OGe(){return this.options.keepMetadata=31,this}function AGe(e){if(this.keepMetadata(),this.withIccProfile("srgb"),p.object(e)){if(p.defined(e.orientation))if(p.integer(e.orientation)&&p.inRange(e.orientation,1,8))this.options.withMetadataOrientation=e.orientation;else throw p.invalidParameterError("orientation","integer between 1 and 8",e.orientation);if(p.defined(e.density))if(p.number(e.density)&&e.density>0)this.options.withMetadataDensity=e.density;else throw p.invalidParameterError("density","positive number",e.density);p.defined(e.icc)&&this.withIccProfile(e.icc),p.defined(e.exif)&&this.withExifMerge(e.exif)}return this}function RGe(e,t){let r=k9.get((p.object(e)&&p.string(e.id)?e.id:e).toLowerCase());if(!r)throw p.invalidParameterError("format",`one of: ${[...k9.keys()].join(", ")}`,e);return this[r](t)}function kGe(e){if(p.object(e)){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.jpegQuality=e.quality;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);if(p.defined(e.progressive)&&this._setBooleanOption("jpegProgressive",e.progressive),p.defined(e.chromaSubsampling))if(p.string(e.chromaSubsampling)&&p.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jpegChromaSubsampling=e.chromaSubsampling;else throw p.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);let t=p.bool(e.optimizeCoding)?e.optimizeCoding:e.optimiseCoding;if(p.defined(t)&&this._setBooleanOption("jpegOptimiseCoding",t),p.defined(e.mozjpeg))if(p.bool(e.mozjpeg))e.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3);else throw p.invalidParameterError("mozjpeg","boolean",e.mozjpeg);let r=p.bool(e.trellisQuantization)?e.trellisQuantization:e.trellisQuantisation;p.defined(r)&&this._setBooleanOption("jpegTrellisQuantisation",r),p.defined(e.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",e.overshootDeringing);let n=p.bool(e.optimizeScans)?e.optimizeScans:e.optimiseScans;p.defined(n)&&(this._setBooleanOption("jpegOptimiseScans",n),n&&(this.options.jpegProgressive=!0));let i=p.number(e.quantizationTable)?e.quantizationTable:e.quantisationTable;if(p.defined(i))if(p.integer(i)&&p.inRange(i,0,8))this.options.jpegQuantisationTable=i;else throw p.invalidParameterError("quantisationTable","integer between 0 and 8",i)}return this._updateFormatOut("jpeg",e)}function IGe(e){if(p.object(e)){if(p.defined(e.progressive)&&this._setBooleanOption("pngProgressive",e.progressive),p.defined(e.compressionLevel))if(p.integer(e.compressionLevel)&&p.inRange(e.compressionLevel,0,9))this.options.pngCompressionLevel=e.compressionLevel;else throw p.invalidParameterError("compressionLevel","integer between 0 and 9",e.compressionLevel);p.defined(e.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",e.adaptiveFiltering);let t=e.colours||e.colors;if(p.defined(t))if(p.integer(t)&&p.inRange(t,2,256))this.options.pngBitdepth=T9(t);else throw p.invalidParameterError("colours","integer between 2 and 256",t);if(p.defined(e.palette)?this._setBooleanOption("pngPalette",e.palette):[e.quality,e.effort,e.colours,e.colors,e.dither].some(p.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,0,100))this.options.pngQuality=e.quality;else throw p.invalidParameterError("quality","integer between 0 and 100",e.quality);if(p.defined(e.effort))if(p.integer(e.effort)&&p.inRange(e.effort,1,10))this.options.pngEffort=e.effort;else throw p.invalidParameterError("effort","integer between 1 and 10",e.effort);if(p.defined(e.dither))if(p.number(e.dither)&&p.inRange(e.dither,0,1))this.options.pngDither=e.dither;else throw p.invalidParameterError("dither","number between 0.0 and 1.0",e.dither)}}return this._updateFormatOut("png",e)}function TGe(e){if(p.object(e)){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.webpQuality=e.quality;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);if(p.defined(e.alphaQuality))if(p.integer(e.alphaQuality)&&p.inRange(e.alphaQuality,0,100))this.options.webpAlphaQuality=e.alphaQuality;else throw p.invalidParameterError("alphaQuality","integer between 0 and 100",e.alphaQuality);if(p.defined(e.lossless)&&this._setBooleanOption("webpLossless",e.lossless),p.defined(e.nearLossless)&&this._setBooleanOption("webpNearLossless",e.nearLossless),p.defined(e.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",e.smartSubsample),p.defined(e.preset))if(p.string(e.preset)&&p.inArray(e.preset,["default","photo","picture","drawing","icon","text"]))this.options.webpPreset=e.preset;else throw p.invalidParameterError("preset","one of: default, photo, picture, drawing, icon, text",e.preset);if(p.defined(e.effort))if(p.integer(e.effort)&&p.inRange(e.effort,0,6))this.options.webpEffort=e.effort;else throw p.invalidParameterError("effort","integer between 0 and 6",e.effort);p.defined(e.minSize)&&this._setBooleanOption("webpMinSize",e.minSize),p.defined(e.mixed)&&this._setBooleanOption("webpMixed",e.mixed)}return N9(e,this.options),this._updateFormatOut("webp",e)}function NGe(e){if(p.object(e)){p.defined(e.reuse)&&this._setBooleanOption("gifReuse",e.reuse),p.defined(e.progressive)&&this._setBooleanOption("gifProgressive",e.progressive);let t=e.colours||e.colors;if(p.defined(t))if(p.integer(t)&&p.inRange(t,2,256))this.options.gifBitdepth=T9(t);else throw p.invalidParameterError("colours","integer between 2 and 256",t);if(p.defined(e.effort))if(p.number(e.effort)&&p.inRange(e.effort,1,10))this.options.gifEffort=e.effort;else throw p.invalidParameterError("effort","integer between 1 and 10",e.effort);if(p.defined(e.dither))if(p.number(e.dither)&&p.inRange(e.dither,0,1))this.options.gifDither=e.dither;else throw p.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);if(p.defined(e.interFrameMaxError))if(p.number(e.interFrameMaxError)&&p.inRange(e.interFrameMaxError,0,32))this.options.gifInterFrameMaxError=e.interFrameMaxError;else throw p.invalidParameterError("interFrameMaxError","number between 0.0 and 32.0",e.interFrameMaxError);if(p.defined(e.interPaletteMaxError))if(p.number(e.interPaletteMaxError)&&p.inRange(e.interPaletteMaxError,0,256))this.options.gifInterPaletteMaxError=e.interPaletteMaxError;else throw p.invalidParameterError("interPaletteMaxError","number between 0.0 and 256.0",e.interPaletteMaxError)}return N9(e,this.options),this._updateFormatOut("gif",e)}function BGe(e){if(!this.constructor.format.jp2k.output.buffer)throw I9();if(p.object(e)){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.jp2Quality=e.quality;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);if(p.defined(e.lossless))if(p.bool(e.lossless))this.options.jp2Lossless=e.lossless;else throw p.invalidParameterError("lossless","boolean",e.lossless);if(p.defined(e.tileWidth))if(p.integer(e.tileWidth)&&p.inRange(e.tileWidth,1,32768))this.options.jp2TileWidth=e.tileWidth;else throw p.invalidParameterError("tileWidth","integer between 1 and 32768",e.tileWidth);if(p.defined(e.tileHeight))if(p.integer(e.tileHeight)&&p.inRange(e.tileHeight,1,32768))this.options.jp2TileHeight=e.tileHeight;else throw p.invalidParameterError("tileHeight","integer between 1 and 32768",e.tileHeight);if(p.defined(e.chromaSubsampling))if(p.string(e.chromaSubsampling)&&p.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jp2ChromaSubsampling=e.chromaSubsampling;else throw p.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling)}return this._updateFormatOut("jp2",e)}function N9(e,t){if(p.object(e)&&p.defined(e.loop))if(p.integer(e.loop)&&p.inRange(e.loop,0,65535))t.loop=e.loop;else throw p.invalidParameterError("loop","integer between 0 and 65535",e.loop);if(p.object(e)&&p.defined(e.delay))if(p.integer(e.delay)&&p.inRange(e.delay,0,65535))t.delay=[e.delay];else if(Array.isArray(e.delay)&&e.delay.every(p.integer)&&e.delay.every(r=>p.inRange(r,0,65535)))t.delay=e.delay;else throw p.invalidParameterError("delay","integer or an array of integers between 0 and 65535",e.delay)}function DGe(e){if(p.object(e)){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.tiffQuality=e.quality;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);if(p.defined(e.bitdepth))if(p.integer(e.bitdepth)&&p.inArray(e.bitdepth,[1,2,4,8]))this.options.tiffBitdepth=e.bitdepth;else throw p.invalidParameterError("bitdepth","1, 2, 4 or 8",e.bitdepth);if(p.defined(e.tile)&&this._setBooleanOption("tiffTile",e.tile),p.defined(e.tileWidth))if(p.integer(e.tileWidth)&&e.tileWidth>0)this.options.tiffTileWidth=e.tileWidth;else throw p.invalidParameterError("tileWidth","integer greater than zero",e.tileWidth);if(p.defined(e.tileHeight))if(p.integer(e.tileHeight)&&e.tileHeight>0)this.options.tiffTileHeight=e.tileHeight;else throw p.invalidParameterError("tileHeight","integer greater than zero",e.tileHeight);if(p.defined(e.miniswhite)&&this._setBooleanOption("tiffMiniswhite",e.miniswhite),p.defined(e.pyramid)&&this._setBooleanOption("tiffPyramid",e.pyramid),p.defined(e.xres))if(p.number(e.xres)&&e.xres>0)this.options.tiffXres=e.xres;else throw p.invalidParameterError("xres","number greater than zero",e.xres);if(p.defined(e.yres))if(p.number(e.yres)&&e.yres>0)this.options.tiffYres=e.yres;else throw p.invalidParameterError("yres","number greater than zero",e.yres);if(p.defined(e.compression))if(p.string(e.compression)&&p.inArray(e.compression,["none","jpeg","deflate","packbits","ccittfax4","lzw","webp","zstd","jp2k"]))this.options.tiffCompression=e.compression;else throw p.invalidParameterError("compression","one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k",e.compression);if(p.defined(e.predictor))if(p.string(e.predictor)&&p.inArray(e.predictor,["none","horizontal","float"]))this.options.tiffPredictor=e.predictor;else throw p.invalidParameterError("predictor","one of: none, horizontal, float",e.predictor);if(p.defined(e.resolutionUnit))if(p.string(e.resolutionUnit)&&p.inArray(e.resolutionUnit,["inch","cm"]))this.options.tiffResolutionUnit=e.resolutionUnit;else throw p.invalidParameterError("resolutionUnit","one of: inch, cm",e.resolutionUnit)}return this._updateFormatOut("tiff",e)}function FGe(e){return this.heif({...e,compression:"av1"})}function LGe(e){if(p.object(e)){if(p.string(e.compression)&&p.inArray(e.compression,["av1","hevc"]))this.options.heifCompression=e.compression;else throw p.invalidParameterError("compression","one of: av1, hevc",e.compression);if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.heifQuality=e.quality;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);if(p.defined(e.lossless))if(p.bool(e.lossless))this.options.heifLossless=e.lossless;else throw p.invalidParameterError("lossless","boolean",e.lossless);if(p.defined(e.effort))if(p.integer(e.effort)&&p.inRange(e.effort,0,9))this.options.heifEffort=e.effort;else throw p.invalidParameterError("effort","integer between 0 and 9",e.effort);if(p.defined(e.chromaSubsampling))if(p.string(e.chromaSubsampling)&&p.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=e.chromaSubsampling;else throw p.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);if(p.defined(e.bitdepth))if(p.integer(e.bitdepth)&&p.inArray(e.bitdepth,[8,10,12])){if(e.bitdepth!==8&&this.constructor.versions.heif)throw p.invalidParameterError("bitdepth when using prebuilt binaries",8,e.bitdepth);this.options.heifBitdepth=e.bitdepth}else throw p.invalidParameterError("bitdepth","8, 10 or 12",e.bitdepth)}else throw p.invalidParameterError("options","Object",e);return this._updateFormatOut("heif",e)}function jGe(e){if(p.object(e)){if(p.defined(e.quality))if(p.integer(e.quality)&&p.inRange(e.quality,1,100))this.options.jxlDistance=e.quality>=30?.1+(100-e.quality)*.09:53/3e3*e.quality*e.quality-23/20*e.quality+25;else throw p.invalidParameterError("quality","integer between 1 and 100",e.quality);else if(p.defined(e.distance))if(p.number(e.distance)&&p.inRange(e.distance,0,15))this.options.jxlDistance=e.distance;else throw p.invalidParameterError("distance","number between 0.0 and 15.0",e.distance);if(p.defined(e.decodingTier))if(p.integer(e.decodingTier)&&p.inRange(e.decodingTier,0,4))this.options.jxlDecodingTier=e.decodingTier;else throw p.invalidParameterError("decodingTier","integer between 0 and 4",e.decodingTier);if(p.defined(e.lossless))if(p.bool(e.lossless))this.options.jxlLossless=e.lossless;else throw p.invalidParameterError("lossless","boolean",e.lossless);if(p.defined(e.effort))if(p.integer(e.effort)&&p.inRange(e.effort,3,9))this.options.jxlEffort=e.effort;else throw p.invalidParameterError("effort","integer between 3 and 9",e.effort)}return this._updateFormatOut("jxl",e)}function MGe(e){if(p.object(e)&&p.defined(e.depth))if(p.string(e.depth)&&p.inArray(e.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))this.options.rawDepth=e.depth;else throw p.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",e.depth);return this._updateFormatOut("raw")}function qGe(e){if(p.object(e)){if(p.defined(e.size))if(p.integer(e.size)&&p.inRange(e.size,1,8192))this.options.tileSize=e.size;else throw p.invalidParameterError("size","integer between 1 and 8192",e.size);if(p.defined(e.overlap))if(p.integer(e.overlap)&&p.inRange(e.overlap,0,8192)){if(e.overlap>this.options.tileSize)throw p.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,e.overlap);this.options.tileOverlap=e.overlap}else throw p.invalidParameterError("overlap","integer between 0 and 8192",e.overlap);if(p.defined(e.container))if(p.string(e.container)&&p.inArray(e.container,["fs","zip"]))this.options.tileContainer=e.container;else throw p.invalidParameterError("container","one of: fs, zip",e.container);if(p.defined(e.layout))if(p.string(e.layout)&&p.inArray(e.layout,["dz","google","iiif","iiif3","zoomify"]))this.options.tileLayout=e.layout;else throw p.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",e.layout);if(p.defined(e.angle))if(p.integer(e.angle)&&!(e.angle%90))this.options.tileAngle=e.angle;else throw p.invalidParameterError("angle","positive/negative multiple of 90",e.angle);if(this._setBackgroundColourOption("tileBackground",e.background),p.defined(e.depth))if(p.string(e.depth)&&p.inArray(e.depth,["onepixel","onetile","one"]))this.options.tileDepth=e.depth;else throw p.invalidParameterError("depth","one of: onepixel, onetile, one",e.depth);if(p.defined(e.skipBlanks))if(p.integer(e.skipBlanks)&&p.inRange(e.skipBlanks,-1,65535))this.options.tileSkipBlanks=e.skipBlanks;else throw p.invalidParameterError("skipBlanks","integer between -1 and 255/65535",e.skipBlanks);else p.defined(e.layout)&&e.layout==="google"&&(this.options.tileSkipBlanks=5);let t=p.bool(e.center)?e.center:e.centre;if(p.defined(t)&&this._setBooleanOption("tileCentre",t),p.defined(e.id))if(p.string(e.id))this.options.tileId=e.id;else throw p.invalidParameterError("id","string",e.id);if(p.defined(e.basename))if(p.string(e.basename))this.options.tileBasename=e.basename;else throw p.invalidParameterError("basename","string",e.basename)}if(p.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if(this.options.formatOut!=="input")throw p.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function UGe(e){if(!p.plainObject(e))throw p.invalidParameterError("options","object",e);if(p.integer(e.seconds)&&p.inRange(e.seconds,0,3600))this.options.timeoutSeconds=e.seconds;else throw p.invalidParameterError("seconds","integer between 0 and 3600",e.seconds);return this}function HGe(e,t){return p.object(t)&&t.force===!1||(this.options.formatOut=e),this}function GGe(e,t){if(p.bool(t))this.options[e]=t;else throw p.invalidParameterError(e,"boolean",t)}function $Ge(){if(!this.options.streamOut){this.options.streamOut=!0;let e=Error();this._pipeline(void 0,e)}}function zGe(e,t){return typeof e=="function"?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),Pl.pipeline(this.options,(r,n,i)=>{r?e(p.nativeError(r,t)):e(null,n,i)})}):Pl.pipeline(this.options,(r,n,i)=>{r?e(p.nativeError(r,t)):e(null,n,i)}),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",()=>{this._flattenBufferIn(),Pl.pipeline(this.options,(r,n,i)=>{r?this.emit("error",p.nativeError(r,t)):(this.emit("info",i),this.push(n)),this.push(null),this.on("end",()=>this.emit("close"))})}),this.streamInFinished&&this.emit("finish")):Pl.pipeline(this.options,(r,n,i)=>{r?this.emit("error",p.nativeError(r,t)):(this.emit("info",i),this.push(n)),this.push(null),this.on("end",()=>this.emit("close"))}),this):this._isStreamInput()?new Promise((r,n)=>{this.once("finish",()=>{this._flattenBufferIn(),Pl.pipeline(this.options,(i,o,s)=>{i?n(p.nativeError(i,t)):this.options.resolveWithObject?r({data:o,info:s}):r(o)})})}):new Promise((r,n)=>{Pl.pipeline(this.options,(i,o,s)=>{i?n(p.nativeError(i,t)):this.options.resolveWithObject?r({data:o,info:s}):r(o)})})}B9.exports=function(e){Object.assign(e.prototype,{toFile:SGe,toBuffer:EGe,keepExif:CGe,withExif:bGe,withExifMerge:wGe,keepIccProfile:PGe,withIccProfile:xGe,keepMetadata:OGe,withMetadata:AGe,toFormat:RGe,jpeg:kGe,jp2:BGe,png:IGe,webp:TGe,tiff:DGe,avif:FGe,heif:LGe,jxl:jGe,gif:NGe,raw:MGe,tile:qGe,timeout:UGe,_updateFormatOut:HGe,_setBooleanOption:GGe,_read:$Ge,_pipeline:zGe})}});var M9=h((GZe,j9)=>{"use strict";u();var VGe=P("node:events"),E_=o_(),Cn=di(),{runtimePlatformArch:KGe}=qP(),Er=Au(),F9=KGe(),QP=Er.libvipsVersion(),Ao=Er.format();Ao.heif.output.alias=["avif","heic"];Ao.jpeg.output.alias=["jpe","jpg"];Ao.tiff.output.alias=["tif"];Ao.jp2k.output.alias=["j2c","j2k","jp2","jpx"];var WGe={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"},xl={vips:QP.semver};if(!QP.isGlobal)if(QP.isWasm)try{xl=P("@img/sharp-wasm32/versions")}catch{}else try{xl=P(`@img/sharp-${F9}/versions`)}catch{try{xl=P(`@img/sharp-libvips-${F9}/versions`)}catch{}}xl.sharp=jP().version;xl.heif&&Ao.heif&&(Ao.heif.input.fileSuffix=[".avif"],Ao.heif.output.alias=["avif"]);function L9(e){return Cn.bool(e)?e?Er.cache(50,20,100):Er.cache(0,0,0):Cn.object(e)?Er.cache(e.memory,e.files,e.items):Er.cache()}L9(!0);function XGe(e){return Er.concurrency(Cn.integer(e)?e:null)}E_.familySync()===E_.GLIBC&&!Er._isUsingJemalloc()?Er.concurrency(1):E_.familySync()===E_.MUSL&&Er.concurrency()===1024&&Er.concurrency(P("node:os").availableParallelism());var JGe=new VGe.EventEmitter;function YGe(){return Er.counters()}function QGe(e){return Er.simd(Cn.bool(e)?e:null)}function ZGe(e){if(Cn.object(e))if(Array.isArray(e.operation)&&e.operation.every(Cn.string))Er.block(e.operation,!0);else throw Cn.invalidParameterError("operation","Array<string>",e.operation);else throw Cn.invalidParameterError("options","object",e)}function e$e(e){if(Cn.object(e))if(Array.isArray(e.operation)&&e.operation.every(Cn.string))Er.block(e.operation,!1);else throw Cn.invalidParameterError("operation","Array<string>",e.operation);else throw Cn.invalidParameterError("options","object",e)}j9.exports=function(e){e.cache=L9,e.concurrency=XGe,e.counters=YGe,e.simd=QGe,e.format=Ao,e.interpolators=WGe,e.versions=xl,e.queue=JGe,e.block=ZGe,e.unblock=e$e}});var U9=h((VZe,q9)=>{"use strict";u();var Bi=VW();f9()(Bi);y9()(Bi);E9()(Bi);w9()(Bi);O9()(Bi);R9()(Bi);D9()(Bi);M9()(Bi);q9.exports=Bi});u();var G9=Ve(nx(),1),ta=Ve(pK(),1);import C_ from"node:fs/promises";import t$e from"node:path";var z9=Ve(U9(),1);u();var H9=process.env;var $9=new ta.S3Client;async function V9(e,t){let r=await C_.readdir(e),n=(0,G9.default)(3),i=r.map(o=>n(async()=>{let s=t$e.join(e,o),c=`${t}/${o}`,l=await C_.stat(s);if(l.isFile())return $9.send(new ta.PutObjectCommand({Bucket:H9.OUTPUTS_BUCKET_NAME,Key:c,Body:await C_.readFile(s)}));if(l.isDirectory())return V9(s,c)}));await Promise.all(i)}async function ZZe(e){let t=e.Records.map(o=>o.s3.object.key);console.log(`Upload handler invoked for objects [${t.join(", ")}]`),console.log("Starting"),console.log(`EVENT: ${JSON.stringify(e)}`);for(let o of e.Records){var{s3:{bucket:{name:r},object:{key:n}},eventName:i}=o;n=decodeURIComponent(n.replace(/\+/g," "));let s=n.toUpperCase();if(i.startsWith("ObjectCreated")&&n.startsWith("images/")&&(s.endsWith(".JPEG")||s.endsWith(".JPG"))){console.log(`Fetching file from ${r}/${n}...`);let c=await $9.send(new ta.GetObjectCommand({Bucket:r,Key:n})),l=[];for await(let y of c.Body)l.push(y);let m=Buffer.concat(l),f="/tmp/tiles";typeof process.env.AWS_SAM_LOCAL>"u"?(console.log("File fetched. Processing with sharp..."),await(0,z9.default)(m).png().tile({layout:"google"}).toFile(f)):(console.log("Running in local testing mode, sharp module not loaded"),await C_.mkdir(f,{recursive:!0}));let g=n.replace("images","slippymaps");console.log(`Uploading ${f}`),await V9(f,g),console.log("Done")}}}export{ZZe as handler};
//# sourceMappingURL=index.mjs.map
